# 如何把服务器和软件当成牛，而不是宠物

> 原文：<https://thenewstack.io/how-to-treat-servers-and-software-as-cattle-not-pets/>

[Humio](https://www.humio.com/) 赞助本帖。

 [约翰·波卡罗

John 于 2019 年加入 Humio，成为西雅图营销和开发者关系团队的一员。最近，他在普华永道(PwC)工作，担任企业在商业战略、技术和用户体验方面进行数字化转型的顾问。在此之前，他在微软负责 Xbox 的 CRM 和在线社区。他喜欢写作，在网上闲逛，在喀斯喀特山脉消磨时光。](https://www.linkedin.com/in/johnrporcaro/) 

随着软件和服务转移到云端，对单个服务器和软件设施阿谀奉承的日子已经一去不复返了。通过统一对待基于云的服务器——好像它们是牛一样——工程师们实施了提高安全性和效率的政策和协议。这些过程的标准化使管理分布式系统和有效扩展变得更加容易，因为可以从一个界面管理和更新多个服务器和软件实例，而不是一次一个。

通过集中系统管理，IT 和 DevOps 可以通过实现对 IT 环境的完全可观察性来跟踪整个群体。通过了解网络、服务器和应用程序中发生的情况，管理员可以更好地应对突发事件。他们能够研究数 TB 的数据并发现任何问题的根本原因，从而显著缩短恢复时间。

在本文中，我们描述了组织如何在混合和多云环境中简化分布式系统的标准化管理。我们将探讨相关的优势和挑战，并提供一些解决方案来改善整个 IT 基础架构的健康状况。

## 为什么迁移到云会很复杂

向云的过渡需要工程师进行大范围的调整，因为他们需要适应使用新的范例和一套新的工具。尽管好处很容易超过问题，但要完全接受这个旅程还需要一些努力。然而，尽管向云的转移带来了复杂性，但它们很容易被获得的好处所抵消。

### 学习和采用微服务架构

因为云是建立在微服务而不是熟悉的整体基础上的，工程师需要熟悉一套新的工具。精通 Ruby、Python 或 Go 等新兴语言有助于应对这一挑战。那些了解云原生架构和开源软件的人有优势，因为大多数 SaaS 应用程序都是社区提供的并得到支持。

### 向云提供商支付“租金”

转向云计算需要投资一系列新的服务。公司不再用一套私有的服务器来维护数据中心，而是转向在线订阅服务。当他们同时拥有内部硬件和软件以及基于云的服务和应用程序时，将会有一个过渡时期。维护混合云的这一阶段需要前期投资，但大多数公司很快就会发现，随着物理硬件的报废以及所需维护和支持量的下降，他们的预算会趋于平稳。与维护物理硬件不同，公司只为他们需要的东西付费。

### 购买新软件

部署新软件通常会带来获取新许可证的挑战。云供应商不是通过固定价格合同购买软件，而是依靠订阅和可变价格，这取决于处理的数据量或连接的用户数量。大多数传统的内部软件提供商已经有了相同软件的 SaaS 版本，因此进行迁移应该相对没有问题。对于那些希望尝试新的 SaaS 解决方案的人来说，大多数都有免费的试用版，而且许多都是完全开源的，没有软件许可费。

迁移到云可以对预算产生积极的影响，因为它们通常需要更少的维护，并且许多具有低成本的许可费用。

### 海量数据

随着公司增加向员工和客户提供的服务，他们发现数据量在激增。像监控和维护由硬件、软件和系统事件创建的日志这样的简单任务，会让运营或安全团队使用的传统工具不堪重负。在为处理千兆字节数据而设计的系统中，这些工具可能无法处理每天收集、索引和存储太字节(或更多)数据的增长。

好消息是，云平台是为这种量而构建的，新公司正在从头开始构建全新的服务，以利用分布式微服务的进步。

例如，Humio 是使用 Kubernetes 容器构建的。它通过 Docker、Kafka 和 Zookeeper 管理海量的输入数据。它不是在数据库中索引和存储数据，然后才能访问或搜索，而是采用无索引架构设计，允许数据流在状态机的内存中立即可用，因此仪表板、警报和搜索可以零延迟执行。因为数据在被访问之前不需要被索引，所以任何数据都可以被搜索，而不需要预先定义模式或者决定什么将被索引，什么将不被索引。

大量的流数据也可以针对云环境进行优化。例如，Humio 将无索引数据压缩了 5 到 15 倍或更多，因此优化了数据存储，节省了带宽，搜索只需很少的时间。

### 不断增长的数据安全性、隐私性和合规性要求

随着客户对共享个人数据越来越熟悉，政府和行业已经注意到了这一点。新的全球、联邦和地方法规层出不穷。GRC、GDPR、CCPA、SOC、HIPPA 等政策有助于保护数据安全和消费者隐私。无论组织是在内部还是在云中运行软件，都需要遵守不断增加的法规。

幸运的是，云的每个部分都旨在保护数据的整个生命周期。PaaS 供应商确保数据在静止、移动和使用时都保持安全。云解决方案在构建时考虑了隐私和合规性。现代软件是为了实施适当的身份验证和权限而构建的。平台和软件是为了帮助用户保持合规而构建的，因此依赖它们可以帮助避免令人头痛的问题和法律麻烦。

通过云上的标准化服务器，软件可以定期更新以满足新的法规，并且只需安装一次即可生效。用户可以在 Git 中以代码的形式制定安全策略，然后可以在多个集群中实施这些策略，从而在本地和云中跨所有技术创建统一的安全合规性。

使用像 Humio 这样的现代日志管理工具有助于通过观察网络上的所有活动来保持系统安全。这确保了信息可立即用于应对安全威胁和潜在漏洞，无论数据来自硬件、网络、开发中的应用程序，还是来自客户或公众。

当事件发生时，无论是未经授权的用户试图访问系统、员工共享敏感数据，还是错误配置的 HTTP 头暴露了安全数据，都可以配置警报来自动运行 webhooks，以立即关闭它并防止事件发生。即使后来发现了问题，拥有对所有日志和事件数据的访问权限，也可以像运行几个搜索一样容易地找到究竟发生了什么及其原因，即使数据是几个月前的。

### 学习新的(更好的)监控系统健康的方法

查看已经使用多年的仪表板和报告可以让您安心，但是问题经常发生在报告内容之外。传统监控无法提供完全的可观察性。它们旨在共享来自单个应用程序的预定义指标，并且数据与整个分布式系统中发生的其他事件无关。

因为几乎所有运行在云中的东西都使用可访问的 API，所以很容易收集环境中发生的一切并集中管理。像 Humio 这样的 SaaS 工具可以捕获整个系统中的每个流日志、指标、跟踪或事件，因此用户可以在发生时看到正在发生的事情。由于数据被大规模压缩和高效存储，因此可以通过探索来回答任何问题，并发现任何问题的根本原因。

## 集中化使完全的可观察性成为可能

作为负责管理技术环境的人——无论是初创公司、中型公司、机构、非政府组织、公司的一个部门，还是全球企业——保持可观察性是 ITOps 和 DevOps 专业人员能做的最重要的事情。

集中收集和监控使可观察性成为可能，使用 PaaS 和 SaaS 解决方案有助于观察、学习和应对事件或错误。

## 开始的三个步骤

准备好开始了吗？

### 步骤 1:选择适合您业务的云提供商

在 Humio，我们选择 IBM 作为我们的云提供商，并在 IBM Cloud Paks 中使用它的工具。Humio 的日志管理 SaaS 也是 IBM Cloud multi Cloud Management Pak 的[部分。](https://www.humio.com/ibm-humio)

顺便说一句，Humio 也可以在内部、跨混合云以及与其他流行的云提供商合作。

### 步骤 2:为可观察性设计您的环境

当您开始尝试 SaaS 应用程序和移动数据时，请寻找将现有工具迁移到云的方法。大多数在内部运行的应用程序都有优于旧软件的 SaaS 解决方案。

在安装新服务和设计应用程序时，请确保它们发布了良好的日志数据。当每个服务上线时，收集所有的日志数据，这样当你遇到问题时就有了。这样，你就为“未知的未知”做好了准备

### 第三步:学习和探索

尽你所能学习一切。有无数的播客和视频可以帮助解释云原生架构以及迁移到云的好处。我们邀请你从收听[我们正在进行的播客系列开始，Hoot](https://www.humio.com/whats-new/podcasts) 。你也可以在网上找到信息丰富的演讲和演示，比如在 [Humio YouTube 频道](https://www.youtube.com/channel/UCjmEGReV0VCHpeS8tFgOvPQ)。还有哪个自重的软件公司没有博客，像[Humio 博客](https://www.humio.com/whats-new/blog)？订阅、访问并以评论的形式分享您的想法。

加入 Slack 这样的在线社区(我们的工程师活跃在 [Humio 的 Slack 频道](https://community.humio.com/))。您将找到灵感、入门技巧以及您可能遇到的问题的答案。一边走一边分享你的经验。

通过[下载 30 天免费试用版](https://www.humio.com/getting-started)(内部部署或云)，开始使用 Humio。了解从基础设施的每个部分收集数据是多么容易。使用流行的 API 和预构建的 Rsyslog、Fluentd、Nginx、Zeek、Javascript、NodeJS、Logstash、Filebeat 等集成来连接数据。我们的工程师喜欢解决问题，他们会帮助您立即启动并运行。

了解 Humio 的现代架构如何重新定义日志管理的可能性。经过几次搜索，你会明白为什么我们对它的简单和快速感到兴奋。请访问我们的网站了解更多信息:[Humio.com](https://humio.com)。

一旦您迁移到云，并开始了解迁移到灵活、强大的云原生环境的好处，您将会爱上实现完全可观察性以及像对待牛而不是宠物一样对待您的服务器和软件所带来的自由。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>