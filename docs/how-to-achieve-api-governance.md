# 如何实现 API 治理

> 原文：<https://thenewstack.io/how-to-achieve-api-governance/>

API 允许程序和应用程序相互通信，允许灵活性和团队自治——但是钟摆需要摆回来。根据全球分析公司 IDC 的预测，到今年年底， [90%的新数字服务](https://www.idc.com/research/viewtoc.jsp?containerId=US44640719)将使用公共和内部 API 交付的服务构建成复合应用程序。

越来越多的组织认识到，随着所有这些 API 到处涌现，他们的 API 策略需要一个统一的视图，具有通用的设计模式、集中的可发现性，并且通常采取一种方法使 API 更容易被更多的用户使用。这需要 API 治理。

## 为什么 API 很重要？

就其核心而言，API 是交付机制“接口”,提供了一种向消费者释放和交付价值的方式。然后，由于所有 API 策略都必须与业务联系起来，消费者价值应该转化为直接利润、增加客户保持率或其他好处。

只要您的 API 能够处理负载，您就可以轻松地扩展消费者。假设你有一个发布了[天气开放 API](https://www.weatherapi.com/) 的天气应用。在这里，天气 API 可以扩展为支持智能家居、智能汽车等智能设备。

这种独创性也允许创新，你的可能性变得更加多样化。你可以将你的 API 服务应用到你最初没有想到的领域，比如通过体育和活动规划赚钱，或者允许大学在你的 API 上建立气候变化解决方案。

随着您的 API 变得越来越受欢迎，出现了一些您可能没有预料到的场景，这意味着您必须对 API 进行一些更改或改进。您必须更新或升级它以包含额外的特性，即消费您的 API 的人群所要求或期望的特性。

集中的 API 管理——尤其是开发人员门户，可以让您更好地了解您的开发人员体验——可以为您提供响应用户行为所需的优势。

## 怎样才能让 API 更有价值？

一个 API 的价值在于它的消费，而消费会扩展到各种 API 版本。随着每个版本的发布，API 都有所调整，从而增强了吸引更多消费者的潜力。

借助 API 生命周期管理，您可以改进您的产品，从而在不损害用户体验的情况下获得更多用户，从而创造更多价值。

一个 API 的总体价值是你在它的所有不同版本中所创造的价值。作为一名 API 架构师，您的目标是随着时间的推移，通过迭代方法改进您的 API 来优化这一价值，您可以准备 API 来吸引更多的消费者。

## API 产品管理面临的 4 大挑战

在管理组织的 API 的生命周期时，您必须考虑一些众所周知的 API 产品挑战:

1.  **采用:** API 设计熟悉度，包括一致的端点和错误代码，基于大多数开发人员熟悉的技术，允许更容易的采用。
2.  **速度:**提高一个 API 的性能通过跟上用户对 API 的新特性的需求来增加它的价值。
3.  **突破性的变化:**你想在不破坏你的 API 的情况下跟上速度，这样现有的消费者就不必去适应变化，除非他们愿意。
4.  **产品化:**API 必须有用，容易找到，可用，可预测。

## 扩展您的开发人员体验

为了扩展你的开发者(即用户)体验，你需要看更大的图片“整个 API 景观”而不仅仅是一个单独的 API。

不仅会有不同的消费者访问一个 API，而且他们会混合搭配不同的 API 来构建自己的体验。这些体验将由消费者端的设计师来构建；他们将以对用户有意义的方式组合 API。

这里要问的主要问题是“你如何计划这样的场景？”这就是 API 治理和扩展发挥作用的地方，因为现在我们不仅在寻找管理一个 API 的最佳方式，还在寻找管理整个 API 环境的最佳方式，以便我们可以更好地扩展这些体验。

我们对整个 API 领域的体验设计和优化得越多，我们就越能创造出更好的 UX，转化为更多的价值。

要记住的一件重要的事情是，最终，即使我们努力获得最好的 UX，那也不是最重要的。有人还应该发现 API，使用 API，编写使用 API 的应用程序，并在 API 发生重大变化时修复应用程序。所有这些都非常依赖于 API 的管理方式，这使得开发人员体验(也称为 DX、DevEx 或开发人员支持)成为一个限制因素。

这很重要，因为——如果我们回顾一下基础知识——API 是语言，是计算机相互交流的一种方式，这种交流是由开发人员之间驱动的。

一旦开发人员构建了一个使用 API 的应用程序，并且 API 中发生了重大变化，他们必须返回到应用程序的代码并应用修复或更改。这里要记住的一点是，计算机不擅长处理变化，所以您应该考虑并实现适用于计算机的变化管理。

关于大规模 API 治理，重要的是考虑如何允许您的环境增长并管理它，以便增长产生尽可能少的中断，并且操作继续平稳地工作。

## 培养 API 景观

API 治理是您为确保质量、安全性、合规性等而设置的护栏，通常通过基于平台的 API 生命周期管理方法来实现。

为了通过良好的 API 治理获得更好的扩展体验，您必须考虑您试图构建的 API 环境。你如何从中获得最大价值？

这又带来了另一个挑战，你有一个复杂的优化功能，跨越所有的 API，跨越它们的版本行为，并考虑到 API 所有者改进他们的 API 的愿望。管理所有这些并不是一项简单的任务，但是如果你用心去做，你就能完成它。

### API 环境面临的 5 大挑战

1.  创新:允许新的模式和实践发展，并以一种人们可以构建新的有趣事物而不会受到太多限制的方式来设计它们。
2.  **协调:**防止使用集中式流程可能产生的瓶颈，但是维护集中式视图和访问控制。
3.  **产品化:**通过平衡自治和协调来管理所有 API。你必须知道你的景观，它看起来像什么，里面有什么，你想优化什么。您还需要了解您的用户，通常是通过开发人员门户。
4.  **稳定性:**使人们能够在 it 中构建增强功能，并要求一定程度的可靠性，这样功能就不会经常中断。这可以通过在 API 管道管理中引入自动化工具来实现。利用开源工具，如 [oasdiff](https://github.com/Tufin/oasdiff) ，它可以在您选择的 CI/CD 中实现，以检测配置漂移或重大更改。
5.  **一致性:**平衡局部优化和全局优化。如果所有的 API 都遵循相似的模式和实践，那么理解它们就容易多了。如果每一个 API 都是以完全不同的方式设计的，那么就很难使用很多，也很难理解它们是如何工作的。

## 实现 API 治理的 3 个步骤

接下来是帮助您最小化我们已经讨论过的使您的 API 环境富有成效的挑战的里程碑。

### 1.用洞察力观察

将去中心化与获得洞察力的能力结合起来。这意味着如果你有一个 API，你可以通过查询信息(如接口机制的技术描述，如 [OpenAPI](https://github.com/OAI/OpenAPI-Specification) ，文档)，API 生命周期管理的元数据(如[schema.org](https://github.com/schemaorg/schemaorg))，版本历史等来了解它。

在一个有标准化的环境中，API 正在对自己做出声明，管理这个环境要容易得多，因为您可以直接访问各个 API 并了解它们的更多信息。

### 2.与界面协调

提供清晰的指导方针——但要设置护栏，而不是大门。在此基础上，为您的 API 环境设定最少数量的约束，确保灵活性和创新性，而不会将质量、合规性，当然还有安全性置于风险之中。

当 API 的接口具有一定的一致性时会有所帮助——常用的端点、清晰的错误代码、文档——因为消费者会很容易理解您的 API。如果这是以一种清晰可循的方式完成的，那么 API 提供者和 API 消费者都可以从中受益。

因此，您获得了与那些更易于使用的 API 功能的接口一致性，这对于能够更好地使用环境中可用功能的 API 消费者来说是一种回报。

### 3.支持您的 API 构建器

你如何推动构建 API 的工程师按照你希望的方式来构建它们呢？工具，比如 API 管理平台，可以帮助设置这些防护栏。它还实现了可重用性，因此您可以从现有的 API 创建模板来说明最佳实践或常见用例，从而减少整个组织中其他工程师的构建时间。

## API 指南作为共享实践

为您的开发人员和基础设施支持团队制定指导方针有助于将他们引向正确的方向。这些指导方针提供了一致解决 API 问题的方法，这有助于 API 环境和工具能够:

*   验证原料药以提高原料药产品质量。
*   简化实施并缩短 API 上市时间。
*   帮助消费，增加实现的 API 值。

这些指导方针有助于塑造构建这些 API 的团队，从而允许您影响 API 前景并实现有效的 API 治理。

不确定如何开始设置 API 准则？这是一些大型组织公开发布的指南的列表。

## API 治理是景观生命周期管理

API 生命周期管理有助于提高 API 的价值，而 API 治理有助于提高整个 API 环境的价值。

实现良好治理的最佳方式是理解您试图用 API 实现什么。然后，您可以创建最佳的用户体验，您可以将它交付给尽可能多的人，他们可以从 API 环境中获取更多的价值。

密切关注开发人员的体验也很重要，确保 API 易于查找、理解和使用，并且是稳定的——以便当您的生态系统开始扩展时，您可以从此提高其生产力。

请记住，好的 API DX 加上好的 API landscape DX 有助于全面改善用户体验。这一切都归结于从一开始就将适当的 API 治理放在适当的位置。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>