# 无服务器定义了像星巴克一样运行软件的运营成本

> 原文：<https://thenewstack.io/serverless-defines-the-cost-of-operations-to-run-software-like-a-starbucks/>

[](https://il.linkedin.com/in/erezbe)

 [埃雷兹·伯克纳

埃雷兹·伯克纳是 Lumigo 的首席执行官&联合创始人，lumi go 是一家专注于简化无服务器应用程序故障排除的初创公司。在创立 Lumigo 之前，Erez 是 Check Point 的云产品研发总监，负责公司的云战略执行。](https://il.linkedin.com/in/erezbe) [](https://il.linkedin.com/in/erezbe)

谷歌最近宣布，它将为容器 ( [CloudRun](https://cloud.google.com/run/) )发布一个[便携式无服务器风格的扩展解决方案，在容器化微服务和基于事件的无服务器之间提供了一个缺失的链接。不过有趣的是，它也强调了无服务器的一个基本价值主张:无服务器应用程序“扩展到零”，这意味着组织永远不会为未使用的计算基础设施付费。](/tutorial-deploying-a-web-application-on-google-cloud-run/)

无服务器功能只按运行时间计费。无服务器存储按 MB 收费，数据库按读写请求收费，消息服务按每条消息收费。在所有这些情况下，如果你不使用服务，你不需要付费，而且它们的容量都是成比例的。

无服务器通常比购买或租用(云)服务器便宜，后者需要维护、安全更新和 IT 人员开销，即使不使用也会产生成本。但是它并不总是更便宜，尤其是如果你包括所有相关的服务(功能、存储、API 网关……)

更广泛地说，对于低利用率的工作负载，无服务器架构通常更便宜，包括那些有时有大流量峰值的工作负载。对于没有任何峰值的持续高利用率，传统服务器设置更便宜，尤其是那些涉及高 CPU 使用率和大量数据 IO 和读/写的服务器。精确的成本计算是不断变化的，但就目前而言，广泛的原则仍然有效。这里的另一个混淆变量是“预热器”的使用，它保持无服务器功能加载以防止冷启动。有了预热器，这些功能实际上永远不会变为零。

很高兴知道这些，但是无服务器带来的概念转变不仅仅是削减成本。廉价计算本身并没有什么革命性。无服务器带来的是将实际成本附加到特定软件操作上的能力。

商业战略大师西蒙·沃德利强调，能够看到运营成本会从根本上改变企业思考软件开发的方式。

成功的大企业知道他们运营的各个方面的成本。星巴克知道购买、运输和烘焙咖啡的成本；它知道每个店铺从房租到电费到免费 WiFi 的运营成本。它知道员工成本以及牛奶和纸杯的成本。通过这种方式，星巴克确切地知道在纽约市、赫尔辛基或金边制作一杯双份浓缩咖啡的成本，以及制作一杯大豆香草拿铁的额外成本。一方面，这允许公司设定考虑实际和边际成本的价格。同样，它显示了流程中可以改进或优化以降低成本的地方。

无服务器将这种供应链分析带到了软件领域。当客户向他们的朋友发送照片或要求数字助理查看天气时，使用无服务器的公司可以准确知道他们的成本。也许这解释了为什么星巴克自己是无服务器的早期采用者！

## 重构将具有财务价值

西蒙·沃德利的这句话抓住了一个直接后果。比如说，一个公司可以把一个真实的成本附加到优化一个特定的功能上，使它变得更快或者更少占用内存。

看到重构一个功能可以每月节省 5000 美元，公司可以选择优先考虑这项工作。在极端的情况下，一段写得很糟糕的代码可能会占整个云计算账单的很大一部分。

另一方面，一旦你知道一个函数每月执行 100 万次只需要花费 3 美元，那么花两天时间进行昂贵的重构来把成本降低到 2 美元可能就不值得了。

![](img/10275b333814213224bd53b54c4f3e18.png)

## 智能定价成为可能

一旦一家公司能够真正了解其软件的成本，对消费者来说，各种有趣的定价模式也将成为可能。也许一些用户使用一个应用程序进行大量(便宜的)照片共享，而一小部分用户使用同一个应用程序进行(昂贵的)图像增强和处理。可能会有一个商业案例，将图像增强变成一个高级功能，或者发布一个只有照片共享的免费版本。

另一种模式可以是固定利润使用，即计算特定软件操作的实际成本，然后向最终用户收取任何费用，外加每次操作 0.02 美元的固定加价。

## 开发、运营和“业务”

为了让公司充分利用无服务器的强大商业用途，他们必须做出改变。过去十年的 DevOps 革命打破了创建软件和新功能的软件开发人员与保持软件运行的 IT 运营人员之间的壁垒。在某些方面，是向微服务的转变实现了 DevOps，允许跨学科团队联合编写和操作软件组件。

向无服务器的转移提供了一种新的模式，Simon Wardley 称之为“FinDev”。这种模式承认发展决策最终是财务决策。它包括来自开发人员/DevOps 团队内部的财务人员，能够帮助指导这些决策，并将它们纳入更广泛的业务战略。

FinDev 将随着无服务器技术的发展而发展，尽管公司需要时间来调整他们自己的结构以适应这项新技术。最终，一种与康威定律相反的情况将迫使无服务器公司适应他们的技术结构。正如微服务基础设施打破了开发人员和 IT 孤岛一样，无服务器将打破技术人员和“业务”之间的人为划分也许这种变化将是真正的无服务器革命。

来自 Pixabay 的 Dénnis Kendall 拍摄的专题图片。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>