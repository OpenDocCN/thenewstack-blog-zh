# Web 组装如何缓解软件供应链危机

> 原文：<https://thenewstack.io/how-web-assembly-can-mitigate-the-software-supply-chain-crisis/>

[](https://www.linkedin.com/in/hectaman/)

 [利亚姆·兰德尔

利亚姆·兰德尔是一位连续创业者和风险投资家，在过去的 25 年里，他在企业 IT 创业生态系统的各个层面都工作过。他构建和运营了大型网络，开发和维护了大型 1 亿多 ARR 电子商务解决方案，包括设计和实施全球网络安全监控传感器网格。Randall 是第一家 Kubernetes 公司 Critical Stack(2016 年被 Capital One Bank 收购)的创始人，其目标是实现安全容器编排的自动化安全性和合规性。Randall 目前正在投资和加速新的开源核心云本地创业公司的增长，如 Cosmonic (CNCF wasmCloud)和 Stacklet (CNCF 云托管公司)。](https://www.linkedin.com/in/hectaman/) [](https://www.linkedin.com/in/hectaman/)

根据颇具洞察力的阿尔伯特·爱因斯坦的观点，精神错乱的定义是一遍又一遍地做着同样的事情，却期待着不同的结果。可以说，今天没有什么比网络安全的现状更疯狂的了。

对于开发人员来说，构建软件的主要方法仍然依赖于软件组件的集合，而这些组件之间往往缺乏明确的安全界限。因此，恶意软件感染应用程序的所有组件变得相对容易。

一个典型的例子是现在臭名昭著的 [Log4jShell 漏洞](https://thenewstack.io/log4shell-we-are-in-so-much-trouble/)，它影响了几乎每一个 Java 应用程序。它允许网络犯罪分子利用 Log4j 使用 Java 命名和目录接口(JNDI)的能力，迫使 Java 应用程序连接到攻击者控制的 LDAP 服务器，从而允许远程执行恶意代码，也称为 rce 攻击。

该漏洞源于一种广泛使用的构建应用程序的方法，该方法将企业业务逻辑与特定的库紧密耦合以实现支持功能。在企业架构中，这两层被区分为应用程序功能需求(AFR)和应用程序非功能需求(nfr)。

企业应用程序通常包括许多 nfr，比如 web 服务器、web 客户机、数据库连接、消息队列，当然还有 Log4j 之类的日志软件。不幸的是，这些 nfr 经常被编译成与业务逻辑库相同的二进制文件。

当这些流行库中的某个库出现 Log4jShell 之类的漏洞时，需要数百万次更新来修复零日漏洞。对构建和部署安全软件的更好方法的需求从未如此明显——log 4 jshell 只是一个特别恶劣的例子，说明了为什么会出现这种情况。

更糟糕的是，开发人员经常复制和粘贴代码来提高效率。当发现零日漏洞时，驻留在多个应用程序中的数百个甚至数千个组件可能会受到影响。所需的补救工作通常是巨大的。

雪上加霜的是，组织不得不投资大量的安全平台来保护从架构角度来看存在严重缺陷的应用程序。当然，所采用的每个安全平台也需要一个安全运营团队来使用。难怪网络安全成本在整个 It 预算中所占的比例一直在稳步上升。事实上，随着更多基于聚合组件的应用程序的部署，网络安全的下游成本只会上升。实际上，这是一个恶性循环。

幸运的是，一种可以创建真正安全的应用程序的机制就在眼前: [WebAssembly](https://webassembly.org/) (Wasm)是一种可移植的二进制代码格式和相应的文本格式，用于在运行于内存中的沙盒执行环境中构建应用程序。

这种方法取代了当前构建软件的方法，当前的方法依赖于软件组件的集合，而这些组件之间往往缺乏明确的安全界限。事实上，这种界限的缺失是当今我们大多数网络安全灾难的根源。

Wasm 旨在通过虚拟化特定的二进制格式和库来打破这种循环，从而消除持续更新易受攻击的应用程序组件的需要。网络安全专家应该鼓励开发人员放弃构建应用程序的传统方法，转而采用默认创建安全应用程序的新方法。

## Wasm 的崛起

Wasm 兼容任何编程语言，是由万维网联盟(W3C)定义的开放标准。创建一个基于 Wasm 的应用开发平台的努力现在由[云本地计算基金会](https://cncf.io/?utm_content=inline-mention) (CNCF)领导，它是 [Linux 基金会](https://training.linuxfoundation.org/training/course-catalog/?utm_content=inline-mention)的一个分支。这项工作的核心是 [wasmCloud](https://wasmcloud.com/about/) ，这是一个由 Cosmonic 创建的 WebAssembly 分布式应用运行时，目前正在 CNCF 的支持下推进。

该平台支持使用通用应用运行时在任何平台上安全地创建和运行应用，以构建云原生应用。我们的目标是超越存在严重缺陷的体系结构，这些体系结构造成了网络安全噩梦，随着新应用的部署，这种噩梦只会越来越严重。

> Shopify 和 Fastly 都在使用 Web Assembly 来执行不可信的第三方代码。

可以说，wasmCloud 最好的部分是，它可以轻松地部署在现有的 it 环境之上，在采用了 NFRs 的沙盒执行环境中运行应用程序。作为 Kubernetes 的 CNCF 项目伙伴，wasmCloud 提供了对现代云原生生态系统的强大支持和集成。

这种方法大大减少了这些应用程序中需要防御的攻击面的整体大小，从而提供了降低网络安全成本的额外好处。因此，网络安全团队现在有兴趣鼓励开发人员尽快采用 Wasm 作为构建应用程序的方法。

## 已经在使用中

作为一个通用的运行时，wasmCloud 已经被用来为在沙盒环境中运行应用程序提供安全的基础，这些应用程序可以部署在从移动和物联网(IoT)设备到本地服务器和基于虚拟机和云原生平台(如 Kubernetes)的公共云的所有设备上。

与此同时，Wasm 正在获得牵引力。例如，微软已经推出了 Krustlet，这是一个扩展，可以在与 wasmCloud 兼容的 Kubernetes 上运行 Wasm 工作负载。诸如 Envoy(一种代理服务器)和 Open Policy Agent (OPA )(一种以代码形式强制执行合规性策略的工具)等开源项目已经整合了 Wasm 来执行不受信任的第三方插件。

电子商务平台提供商 Shopify 和内容交付网络(CDN)提供商 Fastly 也在类似地使用 Wasm 来执行不受信任的第三方代码。当然，由于 W3C 的努力，已经有数千个 Wasm 的例子被用于在浏览器中运行应用程序。

CNCF 也不是唯一一个提倡采用网络组装技术的联盟。字节码联盟已经启动了 WebAssembly (Wasm)和 web assembly System Interface(WASI)计划，作为促进标准的努力的一部分，这些标准将使在任何地方运行 Wasm 应用程序变得更加容易。

字节码联盟最初由 Fastly、Intel、Mozilla 和微软创建，现在还包括 Arm、Google、Shopify、Cosmonic、DFINITY Foundation、Embark Studios 和加州大学圣地亚哥分校。

总之，这些努力很可能永远改变开发人员构建、部署和管理分布式应用程序的方式，这些应用程序运行在网络边缘、云中以及两者之间的任何地方。

## 安全应用程序的全新世界

当要做出任何实质性的改变时，最大的障碍总是简单的惰性。如果开发人员只知道一种构建应用程序的方法，那么这将永远是所采用的方法。在最近一系列高调的软件供应链违规事件之后——尽管有 Log4j 攻击——现在人们比以往任何时候都更加关注如何构建应用程序。各种规模的组织都开始意识到，不能完全信任所有代码，因为没有人能绝对肯定地说代码没有漏洞。随着被发现的零日漏洞的数量不断增加，很明显，今天被认为是安全的软件明天可能就不安全了。

Wasm 与 wasmCloud 通用运行时相结合，旨在为应用程序开发的新时代奠定基础。值得庆幸的是，开发人员需要区分 AFR 和 NFR 来构建安全应用程序的时代即将结束。取而代之的可能是一个期待已久的架构，它使开发人员能够构建和部署默认安全的应用程序。

当然，没有十全十美的安全。然而，在应用程序的构造和部署方面，我们可能正处于一代人才有一次的重大进步的尖端。作为最经常对应用程序安全性负责的个人，安全专业人员不仅应该鼓励开发人员采用 Wasm，而且应该从今天开始，为了所有相关人员的健康，坚持使用 Wasm。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>