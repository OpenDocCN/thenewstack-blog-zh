# 开发人员需要了解的关于 Kubernetes 管理的 5 件事

> 原文：<https://thenewstack.io/5-things-developers-need-to-know-about-kubernetes-management/>

对于不了解编排技术的开发人员来说，Kubernetes 管理可能会令人望而生畏。[学习 Kubernetes](https://www.logdna.com/learn-kubernetes/whats-hard-about-learning-kubernetes) 需要实践和时间，这对那些面临交付新应用压力的开发人员来说是一种宝贵的财富。这篇文章提供了你需要知道什么和你可以跳过什么来利用 Kubernetes 的方向。先说你需要知道的五件事。

## **1。Kubernetes 命名惯例**

 [瑞安·斯塔茨

Ryan 是 LogDNA 的 DevOps 主管，他负责将公司的基础架构从虚拟机迁移到 Kubernetes。Ryan 经常介绍 Kubernetes 上的伸缩弹性搜索、利用多云基础架构应对挑战、在裸机上运行 Kubernetes 以及管理数十个独立的生产环境。](https://www.linkedin.com/in/rcstaatz/) 

作为开发人员，理解在 Kubernetes 中创建的对象必须遵循特定的命名约定将有助于您更快地理解洞察力。当应用程序或底层基础设施可能出现问题时，了解这些功能的工作原理以及为什么以特定方式命名将有助于建立关联。每个 Kubernetes 对象都有一个名称和一个唯一标识的对象(UID ),该名称对于一种类型的资源是唯一的，该对象在整个集群中是唯一的。Kubernetes.io 很好地解释了这一点，他说:“在同一个名称空间中只能有一个名为 myapp-1234 的 Pod，但是可以有一个名为 myapp-1234 的 Pod 和一个部署。”此外，具有相同高级控制器(如复制集/部署)的单元将继承相同的命名前缀。例如，如果您的部署名称为“webapp”，则对应的复制集可能是 webapp-12345678，而其下对应的 pod 可能是 webapp-12345678-abcde。这样，这个名称空间中的每个 pod 都有一个唯一的名称，但这是为了告诉哪些 pod 共享同一个控制器，因此具有相同的规范。

## **2。如何让您的应用程序运行**

Kubernetes 的新用户应该对服务和部署有一个基本的了解，因为它们会影响应用程序的运行。

服务只是在集群内路由网络流量的一种通用方式，有时也是从外部路由网络流量。它很容易定义，并且允许对流量流向进行容易理解的配置。一个例子是名为“webapp”的服务，它将流量路由到标签为“app: web”的 pod。同一命名空间中的任何 pod 都可以通过请求 URL“http://web app”来调用 webapp pods。传统上，在建立网络时，有许多步骤可以确保交通路线到达正确的地方，但使用 Kubernetes 中的服务可以让您在更高的级别上给出指示，并且最终的操作是自动化的。

部署是最简单的高级控制器。在无状态应用程序中，开发人员理解部署将通过简单的指令来处理滚动更新就足够了，比如您想要多少个副本以及您使用的是什么版本。这确保您的应用程序连接到正确的终结点；中间的一切都是自动发生的。对于更复杂的应用程序，探索其他一些高级控制器可能是值得的，比如 StatefulSets 和 Cron jobs。

理解容器的主要原理也是有帮助的:我如何达到一致的状态？如果更新或操作导致应用程序进入不良状态，只需重启容器就可以重置它。容器可能不在同一个节点上，您可能没有相同的交互集，但最终最重要的事情与您开始时一样。

## **3。如何获得您的申请信息**

不管您在什么基础设施上运行，这都是大多数开发人员关心的问题。哪里出了问题，哪里出了问题，问题有多严重，是我的问题吗？最后一个问题可能看起来有点愤世嫉俗，但是知道哪个团队和开发人员最适合解决问题对于运营效率是至关重要的。您需要回答的主要问题是:如何判断我的应用程序是否正在运行，资源消耗情况如何？

值得注意的一点是，使用命令“kubectl get events”将为您提供所有的应用程序事件。不幸的是，Kubernetes 没有以任何特定的方式对它们进行排序，但是随着您知识和理解的提高，您可以在这些查询中指定术语和事物。

## 4.如何**在问题影响你的申请之前发现问题**

Kubernetes 的好处之一是它能够自动返回到一致的状态，但这可能会掩盖潜在问题对不知道要寻找什么的开发人员的影响。出于这个原因，开发人员能够访问 Kubernetes 日志和遥测技术是非常重要的。对于基于 Kubernetes 的应用程序来说，CPU 或内存使用等指标变得更加重要，因为它们可以揭示 Kubernetes 可能掩盖的应用程序问题。在问题影响客户之前发现问题对于保持积极的应用体验至关重要。

## **5。何时调查问题**

Kubernetes 的核心是保持应用程序的生产运行，因此没有直接的输出来解释应用程序崩溃的原因或迫使开发人员在补救中发挥积极作用。在大多数情况下，Kubernetes 只是重启容器，问题就解决了。虽然由于 Kubernetes 和容器的自我修复和弹性性质，这不是一个直接的问题，但值得注意的是，这可能会掩盖或隐藏不良的应用程序行为，这可能会导致它在更长时间内不被注意。

有时候值得对某个问题进行更深入的调查，比如它是否影响了客户体验或对其他团队造成了负面的下游影响。所提供的服务类型以及性能问题对客户的影响也会发挥作用。例如，支持国防承包商的应用程序的需求将与食品杂货应用程序的需求显著不同。

## 可以跳过**深入了解流程**

尽管开发人员了解他们的应用程序如何在 Kubernetes 上运行是很重要的，但在大多数情况下，他们不需要深入了解 Kubernetes 是如何工作的。作为一名开发人员，Kubernetes 在某种程度上可能看起来很混乱，但是您可以通过提供具体的方向来控制混乱。例如，如果您没有指定希望 pod 在哪里运行，它将在默认情况下允许应用程序运行的任何地方运行。或者，您可以使用污点/容忍来告诉 Kubernetes 不要在特定节点上运行应用程序。无论您如何配置(或不配置)，您都可以使用基本的自动检查来显示应用程序是否健康。

当开始使用 Kubernetes 时，不要过于复杂。可以把它看作是管理应用程序的一种方式，系统可以自动采取措施进行自我修复，并在几乎不需要干预的情况下恢复到健康状态。这篇文章中概述的基础知识将为开发人员提供一个很好的起点，让他们建立一个基础并专注于他们的教育。随着知识和经验的增长，他们可以根据需要扩展 Kubernetes 的实现，使之更加具体和健壮。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>