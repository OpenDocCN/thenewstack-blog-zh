# GDAL:谷歌地图背后的开源技术

> 原文：<https://thenewstack.io/gdal-the-open-source-technology-behind-google-maps/>

这是关于开放源码构建者系列的一部分。要获得本系列的其他文章列表，请查看

[the introductory post](https://thenewstack.io/open-source-builders-an-inside-look/)

.

[](https://www.linkedin.com/in/mjasay/)

 [马特阿萨伊

马特是 AWS 的一名负责人，一直参与开源及其支持的所有领域(云、机器学习、数据基础设施、移动等。)近二十年来，为各种开源公司工作，并定期为 InfoWorld 和 TechRepublic 撰写文章。你可以在推特上关注他(@mjasay)。](https://www.linkedin.com/in/mjasay/) [](https://www.linkedin.com/in/mjasay/)

如果让我挑选一项显著改善我生活的创新，谷歌地图将位列榜首。谷歌地图曾经帮我上下班(还记得那些吗？)易于管理，但总的来说，它帮助我在物理世界中导航——包括有一次在太阳升起照亮道路之前，引导我爬上犹他州瓦萨奇山脉的一个陡峭的山坡。"是在 Y 轴的右边还是左边？"我问我的滑雪伙伴。“让我查一下谷歌地图。”

他可能会说，“让我检查一下 GDAL，”因为开源的地理空间数据抽象库是谷歌地图的一个关键部分(更不用说谷歌地球、美国宇航局的行星制图、优步的地图功能以及世界上所有其他主要的图像提供商)。GDAL 不是唯一的地理信息系统(GIS)，但是，正如 Robert Simmon 所写的那样，“最普遍的 GIS 软件是昂贵的并且很难学习。”相比之下，他继续说，GDAL 是“免费的，得到广泛支持，不断更新，几乎可以在任何东西上运行。”

简而言之，GDAL 可能不是一个家喻户晓的名字，但它无处不在，并帮助我们绘制一切。或者，正如谷歌地球的人所说的那样，“GDAL 让世界运转。”

这种广泛的实用性源于其多样化的开源社区。为了更好地浏览 GDAL 社区，我与主要维护者和自 2007 年以来 GDAL 的杰出贡献者 Even Rouault 进行了交谈。

## 为地理空间而生

GDAL，[于 1998 年](https://lists.osgeo.org/pipermail/gdal-dev/1998-November/002909.html)推出，主要是一个翻译工具，能够读写超过 250 种不同的文件格式(数据库或协议，光栅或矢量)，主要是在地理空间领域。GIS/制图厂商和用户绝对需要 GDAL 吗？也许不是。相反，他们可以为他们需要的文件格式编写自己专有的阅读器和/或写入器(需要[许多](https://gdal.org/))。“只有”140 万行代码…

或者他们可以使用免费和开源的 GDAL，就像 Rouault 描述的那样，有点像地理空间的“瑞士军刀”。GDAL 在云计算中也变得很重要，因为它包括一个[虚拟文件系统层，用于访问大多数云供应商的存储服务](https://gdal.org/user/virtual_file_systems.html#network-based-file-systems)，包括 [AWS](https://aws.amazon.com/) 。正如 Rouault 所说，“你可以做一些事情，比如读取存储在亚马逊 S3 上的几千兆字节 ZIP 文件中的 GeoTIFF 文件的元数据，而实际上只检索到几千字节。”

但是不管是在云中还是其他地方，大多数时候人们使用 C/C++ GIS 软件，他们在某种程度上依赖 GDAL，有时甚至不知道 GDAL 是什么。这在地理空间中是如此普遍和基础。

尽管 Rouault 直到 2005 年才开始使用 GDAL，但他在青少年时期就已经熟悉了 GDAL 解决的一个问题。他的父亲碰巧在地理空间工作，需要他帮助翻译文件格式，以便他可以在不同的 GIS 软件之间交换数据。几年后，鲁奥作为一名软件工程师在数字地图公司工作。他的雇主决定从自主开发的 GIS 堆栈切换到基于 [MapServer](https://mapserver.org/) 的开源替代方案，后者依赖 GDAL 进行栅格(像素)数据访问。

这就是我们开始看到开源力量的地方。2005 年，鲁奥在国防工业工作，那里有令人难以置信的小众格式( [NITF](http://fileformats.archiveteam.org/wiki/National_Imagery_Transmission_Format) )，有人知道吗？).在没有大笔资金投入的专有程序中，支持这样的格式很难证明是正确的，但是在像 GDAL 这样的开源项目中，这就容易多了，因为需要支持的开发人员可以贡献必要的代码。

### 像鲁奥这样的开发者

Rouault 发现一些国防工业特有的格式已经得到了 GDAL 的支持。然而，他说正式测试套件存在一些错误或合规性问题，他开始修补 GDAL 来解决这些问题。鲁奥非常喜欢在 GDAL 的工作，这也成了他下班后的放松来源，“因为这很有趣。”项目维护人员倾向于喜欢他建议的补丁，这很有帮助，很快使他成为 GDAL 社区的重要一员。

事实上，经过几年的贡献，Rouault 现在经营着一家 GDAL 咨询公司， [Spatialys](https://www.spatialys.com/en/home/) ，全职为 GDAL 工作。开始是他工作的一种方式，变成了他的爱好，反过来又变成了他的工作。这是一个关于开源如何自我维持的乐观故事。

并不是说这个故事充满了快乐和阳光。

## 快速发展

超过 15 年前，[我写了](https://asay.blogspot.com/2005/10/analyst-effects-of-code-architecture.html)关于模块化对开源项目的重要性，因为模块化代码促进了增量开发的简易性。Rouault 说 GDAL 是相当模块化的，这允许不熟悉的贡献者专注于他们特定的需求/项目的角落，而不用担心 GDAL 的整体。他说，这有助于该项目的蓬勃发展，但也带来了一些问题。他指出，模块化代码还实现了高速贡献，而无需大量的时间投入，并限制了 GDAL“建立一批粘性核心贡献者来帮助进行错误分类、修复、发布版本、审查拉式请求、确保持续集成保持运行以及所有其他无数维护任务的能力。”

明白了吗？通过启用“驱动式开发”，太多的 GDAL 贡献者在他们的 GDAL 部分工作，然后离开。

尽管如此，当然，即使是这样的驱动贡献也是有用的。毕竟，GDAL 如此吸引人的原因之一是因为它广泛的文件格式支持。这个原则也帮助了其他项目。正如【】Wireshark 项目的创始人 Gerald Combs 在一次采访中所说，“我们的‘路过式’贡献通常是以新的或更新的协议解析器的形式出现。每一个新的剖析器都使 Wireshark 变得越来越有用，并使我们的社区增长了一点，这意味着对长期开发者来说更有用的反馈。”

GDAL 也是如此。

## 更多投稿者请！

GDAL 开发者在做什么样的贡献？根据 Rouault 的说法，公司倾向于开发和维护与他们自己的产品相关的格式或远程服务的特定驱动程序。或者可能有人贡献支持他们自己的国家特定的格式。虽然重要，但这种贡献无助于维持核心上游项目。有向上游供水的例子。

Rouault 说一家大公司贡献了大量的代码清理来提高代码库的标准。该团队的一名成员是超级用户，他帮助进行 bug 分类并帮助邮件列表上的人，这很好，但是对 GDAL 的更多贡献将是非常受欢迎的。

“GDAL 的核心开发者基础是相当静态的，”Rouault 说，扩大重复贡献者的基础，以及在财政上维持 GDAL 一直是一个挑战。虽然该项目在筹集资金以解决特定的离散发展领域方面取得了一些成功，但更重要的长期目标(如深层建筑点心)的资金“一直缺乏”

因此，当被要求说出一件改进 GDAL 的事情时，Rouault 的回答并不令人惊讶，如果不幸的是非常必要的话:“更多的贡献者，尤其是共同维护者！”

这甚至不一定意味着代码贡献。正如 Rouault 所建议的，“对于想要为 GDAL 开发做贡献的人来说，可以通过增强文档，或者只是试图解决他们所面临的问题，或者试图在现有的一个中实现他们想要的新特性。”鉴于对 GDAL 的依赖是如此之深和广泛，对 GDAL 代码、文档或项目其他领域的潜在贡献者并不缺乏。

如果你参与了 GDAL 并且还没有做出贡献，也许[现在是开始](https://gdal.org/contributing/index.html)的时候了。

*访问 AWS 开源博客，了解开源项目如何申请 AWS 推广积分。*

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>