# 密码劫持:攻击者的免费资金，你的巨额云账单

> 原文：<https://thenewstack.io/cryptojacking-free-money-for-attackers-huge-cloud-bill-for-you/>

攻击者不费吹灰之力就能让受害者付出数十万美元的代价。密码挖掘是指在区块链上验证交易的计算行为。矿工执行这些计算会得到加密货币的奖励。密码劫持是指威胁参与者使用窃取的云资源来避免支付必要的服务器和电力费用，其成本通常超过利润。

> 黑客每向受害者收取 53 美元的费用，就能从中获利 1 美元。

## 谁是黑客的目标？

每个人背后都有一个目标。密码盗窃者不一定知道或关心他们在偷谁的东西，他们只是在寻找免费的钱，大多数人已经高度自动化了他们的方法。他们不断扫描公共互联网，寻找未受保护或易受攻击的资源。易受攻击的系统通常会在上线后几分钟内遭到破坏。

例如，TeamTNT 是最流行的密码劫持组织之一，它的目标是暴露的 Docker APIs、Kubernetes 和 Redis 部署。潜在可利用系统的列表是无限的。Sysdig 威胁研究团队报告称，仅 TeamTNT 一家就收集了至少 8100 美元的加密货币，相当于为受害者支付 43 万美元的云成本。

## 这些不同的硬币是怎么回事？

在计划加密劫持活动时，威胁参与者必须考虑挖掘哪种加密货币以及将哪种计算基础设施作为目标。有数千种加密货币可供选择，但对于非法操作来说，一种“隐私”硬币是首选。Monero (XMR)等隐私硬币旨在抵抗区块链分析，这种分析可以追踪硬币转移到哪里，这使它们对网络犯罪分子具有吸引力。被盗 Monero 的钱包类似于从银行被盗的资金——没有墨水包。

然而，隐私币并非完全无法追踪。调查人员和安全研究人员仍然可以暴露和检查加密钱包和挖掘池。挖掘程序通常会在配置文件或命令行中公开钱包。采矿池被用来组合多个密码矿工的资源，以可靠地获得奖励。为了实现这一点，矿工必须使用网络连接到游泳池，这可以用来获得更多关于运动的信息。

密码挖掘算法针对不同类型的硬件进行了优化。例如，比特币可以在 GPU 上更有效地挖掘，而名为 ZCash 的加密货币是为 CPU 设计的。Monero 在 GPU 和 CPU 上的表现都很好，但 GPU 密码劫持目标更难实现。隐私功能和挖掘效率之间存在权衡，但因为威胁参与者不支付电费，他们不需要非常关注这种优化，可以简单地在规模上弥补它。在 CPU 实例上挖掘 Monero 这样的隐私币通常是威胁者最有效的方法。它降低了犯罪者的风险，同时仍然产生稳定的收入流。

## 让我们谈谈鹤嘴锄

XMRig 是最流行的采矿软件系列之一。它可以在各种类型的硬件上挖掘许多不同的硬币。它的多功能性使它在密码黑客中非常受欢迎。然而，XMRig 通过公开钱包和挖掘池信息带来了一些问题。为了减轻这些风险，开发了一个名为 XMRig-proxy 的代理服务器。这允许将钱包地址存储在代理服务器中，并且还隐藏了挖掘池，因为它托管在攻击者控制的服务器上。当部署时，XMRig-proxy 为隐私币中固有的内容增加了另一层模糊性，并使调查更加困难。

有两种方法来运行加密劫持活动:破坏现有的计算实例，安装尽可能多的矿工，因为他们将容纳或破坏云帐户，并尝试创建新的计算实例来运行尽可能多的矿工。Sysdig TRT 已经观察到许多例子，其中密码劫持集团获取云凭据，并使用它们来增加额外的云计算资源，直到他们达到文件上的信用卡限额。

这种方法使攻击者的利润最大化，并可能给受害者带来巨大的损失。当然，没有什么可以阻止威胁者使用这两种方法。例如，TeamTNT 在被入侵的系统上安装矿工，同时还寻找云凭证来加速更多。

> "在单个 AWS EC2 实例上挖掘 1 个 XMR 的成本大约是 11，000 美元."

## 这种情况会持续多久？

密码劫持不太可能很快消失。即使加密市场暴跌，硬币变得不值钱，攻击者也很少甚至没有费用要担心，所以微小的利润仍然是全部利润。有些甚至会增加操作来弥补差额。该行业在很大程度上仍不受监管，因此攻击者将加密货币转化为真实货币相对容易。

密码劫持具有低投入、低风险和高回报的理想比率，同时在获得访问权限后实现被盗基础架构的近即时货币化。勒索软件勒索等传统策略需要更长的持续时间，向经纪人或客户出售其访问权限的能力，和/或在不涉及执法的情况下完成犯罪交易的能力。

## 这对我意味着什么？

大多数密码劫持攻击都是机会性的。恶意行为者只是试图危害任何易受其攻击的人。没有针对性，攻击也不复杂。防范机会性攻击需要适当的预防性控制，如漏洞和配置管理。身份和访问管理是避免攻击者提供的实例在您的云帐户上进行大规模挖掘的最坏情况所必需的。威胁检测也可以非常有效，因为许多云提供商和第三方云安全工具开始提供识别和阻止密码劫持攻击的算法。

到目前为止，云提供商已经相当慷慨地免除了因恶意密码挖掘而产生的大额账单。随着密码劫持的流行程度继续上升，这种情况不太可能持续下去。最终，由于利用云中的工作负载而造成的损失(财务或其他方面)是帐户持有人的责任，因此您的组织必须采取必要的措施来确保您受到保护。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>