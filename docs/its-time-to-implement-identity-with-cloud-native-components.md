# 是时候用云原生组件实现身份了

> 原文：<https://thenewstack.io/its-time-to-implement-identity-with-cloud-native-components/>

[](https://se.linkedin.com/in/ideskog)

[Jacob ides kog](https://se.linkedin.com/in/ideskog)

[Jacob 是 Curity 的身份专家兼首席技术官。他的大部分时间都花在 API 和 webspace 的安全解决方案上。他曾为大型企业部署和小型创业公司设计和实现 OAuth 和 OpenID Connect 解决方案。](https://se.linkedin.com/in/ideskog)

[](https://se.linkedin.com/in/ideskog)[](https://se.linkedin.com/in/ideskog)

软件已经从您运行的东西变成了您作为服务消费的东西，随着这种演变，大型企业的前景已经发生了根本的变化。

软件即服务(SaaS)产品带来了明显的好处，尤其是对于员工使用的企业应用程序。然而，随着企业向其最终用户提供的服务数量的不断增加，维护一个组合起来构成最终产品的构建块的大杂烩变得越来越复杂。

当开始新的项目时，能够使用现有的服务可以节省很多时间；在复杂的需求出现之前，尽早引入 SaaS 是相对容易的。身份更是如此。

现代身份系统的好处是它们都遵循 OAuth 和 OpenID Connect 标准。这些核心项目是精益的，在开发过程中通常是足够的。但是，开始简单的事情可能会很快变得复杂，并跨越多个云。随着项目的发展，使用传统的 SaaS 作为标识可能会被证明是一个糟糕的决定。

## **建造和购买**

如今，公司通常会开发云原生应用。Kubernetes 将自己展示为以云无关的方式运行系统的明显赢家，使整个服务网络能够以最小的努力从一个云转移到另一个云。

这使得企业能够防范基础设施中断，虽然这种情况很少发生，但却可能是毁灭性的。所有云供应商都会时不时地遭遇中断，通过在多个提供商中进行部署，这些问题可以得到缓解。更不用说，多云提供了在价格合适的情况下进行扩展的选项，这同样是有益的。

因此，虽然构建云是显而易见的选择，但购买云组件却不是。商业现成软件的供应商仍然可以分为两大类:SaaS 和内部部署。

在 Kubernetes 环境中放置一个本地解决方案并不总是可行或容易实现的。当容器化不是为这个时代设计的软件时，与磁盘持久性、代码配置、监控和弹性可伸缩性相关的问题非常明显。

另一方面，SaaS 重新引入了组织试图避免的对基础设施供应商的依赖。因此，每个 SaaS 服务都必须经过审查，还必须有基础设施供应商冗余来维持对冲。除此之外，组织还必须处理地缘政治方面的问题，例如特定地区的数据法规，包括他们自己的系统和他们采购的任何 SaaS。

## **思维成分**

对于这个难题，实际上只有两种解决方案。首先是建立自己的。这可能适用于简单的服务，但支持高级服务(如身份系统)很少被视为核心业务。二是买组件，不买服务。

为云原生部署构建的组件将选择和扩展的权力留给了企业，让组件供应商专注于他们最擅长的事情:开发复杂的软件。一个组件应该有一个清晰的集成接口，专注于一件事，并把它做好。

身份系统非常适合这种方法，因为它们实现了一组已知的标准，如前所述。一个架构良好的身份系统已经被关注点分裂了(参见[新安全架构](https://curity.io/resources/learn/what-is-neosecurity/))。简单来说，身份系统有三个目的:

*   验证用户
*   用结果生成一个可验证的令牌
*   管理用户

如果需要的话，这三个目的可以拆分成[单独的组件](https://curity.io/resources/learn/identity-management-system/)，但是这三个通常都是需要的。例如，如果用户没有经过身份验证，就很难生成令牌。如果用户不存在，也很难进行身份验证。但是没有规则是没有例外的。

## **控制的力量**

如果微服务可以呼吸，那么身份系统就是支持组织发布的应用程序的肺。一些服务不需要用户认证就可以使用。再加上在身份层保护 API 的唯一方法是使用 OAuth，这导致几乎所有的事务都要通过身份系统进行路由。尽管将身份系统的管理外包出去听起来很诱人，但这是一个冒险的举动。软件选择和采购的云原生组件方法保持内部控制。

Kubernetes 已经证明了自己是运行软件和确保高可用性的最佳方式。我们现在正进入平台成熟的阶段，但市场仍在兴起。是时候要求所有添加到堆栈中的软件都是云原生组件了。如果身份平台可以是组件，那么所有服务也可以是组件。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>