# 在你的云之旅中带来可观察性——或者回家

> 原文：<https://thenewstack.io/bring-observability-on-your-cloud-voyage-or-go-home/>

[新遗迹](https://newrelic.com/)赞助本帖。

 [杰森·英格利西

Jason 是 Intellyx 的首席分析师和 CMO，他为领先的技术解决方案提供商和软件初创公司提供数字化转型方面的建议。他的企业软件背景包括供应链、交互设计、软件开发和测试、虚拟化、云计算和区块链。](https://twitter.com/bluefug?lang=en) 

随着云在全球最大的公司中从早期采用者发展到主流采用者，开发团队被要求规划一个将关键应用迁移到公共云和私有云基础架构的过程。

其中三分之二的公司组成了某种类型的云委员会或管理委员会，以选择正确的迁移优先级，同时考虑预期的 KPI 和 ROI 数字作为成功的衡量标准。

虽然治理和度量通常是好东西，但是如果利益相关者只关注结果，而不是了解安全地穿越云之旅需要什么，他们可能已经走错了路。

全球 500 强企业中多达 74%的 IT 领导者表示，他们曾[经历过云迁移失败](https://www.fortinet.com/content/dam/fortinet/assets/analyst-reports/ar-2019-ihsm-fortinet-wp-q2.pdf)，导致他们将一个或多个应用程序返回到传统数据中心。

### 云迁移项目哪里出错了？

我们正在目睹一场长期的迁移——大型企业将单一应用程序移植到云——有时会有不切实际的期望。云计算和存储固有的弹性可扩展性不会自动加速成功部署，也不会自行解决性能、风险和成本问题。

与传统应用程序非常相似，云应用程序的性能取决于其最慢的服务，安全取决于其最薄弱的环节，成本效益取决于其设计目标。

也许迄今为止最引人注目的云失败是 2013 年 10 月在 healthcare.gov[推出的第一个美国公共医疗保健交易所](https://digital.hbs.edu/platform-rctom/submission/the-failed-launch-of-www-healthcare-gov/)。经过三年的准备，大多数商业项目会认为第一天就有 250，000 名游客报名是一次彻底的成功。但在这种情况下，负责监督开发的政府机构缺乏对这种交通影响的可见性。

healthcare.gov 交易所在试图提供来自美国 34 个州的公司的健康计划数据时很快崩溃，注册过程在最初几天对大多数游客来说根本无法工作。心怀不满的申请者被拒之门外，这个基于云计算的网站成了漫画家和政治对手的笑柄。

在接下来的几个月里，团队首先必须克服组织障碍，确定谁来监督和负责纠正已经超出预算 8 亿多美元的项目过程。

他们设法扩展和测试注册流程，以允许更多的并发性，从而增加每天为数千名客户提供服务的能力。尽管如此，如果在这些问题变得根深蒂固且难以解决之前，就内置了可观察性，那不是更好吗？

### 在车队完成时衡量云迁移的成功

对于云基础架构即服务提供商来说，他们非常清楚只有成功的迁移才能等同于云采用和支出的长期增长。

亚马逊网络服务(AWS)在提供商业投资回报率和预算工具方面一直处于领先地位。例如，其[迁移加速计划(MAP)](https://aws.amazon.com/migration-acceleration-program/) 方法将咨询、项目和技术模板与一系列生态系统合作伙伴一起提交，以处理保证、集成和管理服务。

领先的远程信息处理提供商 Fleet Complete 正在寻求大幅提高其接收、智能处理和交付物流数据的能力，以适应快速增长的道路网络。

“这不仅仅是收集数据；Fleet Complete 首席技术官艾伦·方(Alan Fong)说:“这是为了将数据分层，为客户提供最佳见解。

“根据以前的经验，我了解 AWS 工具的广度和 AWS 平台的全球存在，”Fong 说。“AWS 将允许我们在自己的知识产权上使用机器学习和人工智能模型，以改善我们向客户提供的信息。”

但是在计划或衡量任何 KPI 之前，迁移图的所有三个阶段都需要有可观察性:

1.在规划中，当前应用程序套件可以针对技术依赖关系进行全面映射，针对性能特征进行基准测试并检查漏洞，以便对具有最佳风险/回报潜力的工作负载迁移进行优先排序，并从众多集成和部署选项中进行选择。

2.进行中，以确保每个新代码的签入、部署和发布都不会出现会影响客户的意外问题。在当今快速发布的 DevOps 世界中，云原生基础设施瞬息万变，说起来容易做起来难。

3.迁移后，交付的云应用不仅会受到监控，以快速检测和解决潜在问题，而且其环境资源调配的规模会适当调整，以通过升级来控制云成本，从而最大限度地提高可扩展性和性能。

“我们的 DevOps 团队将每一个投入生产的发布包都视为一份礼物。Fong 说:“我们希望能够在我们的暂存环境中运行这些带有 New Relic 监控的包，以确保那里发生的情况能够代表我们的生产环境中发生的情况。这样，当使用相同的工具集将一个版本投入生产时，就不会有什么意外了；我们确切地知道它将如何运行，以及它将如何影响我们环境的其余部分。”

在第一年，Fleet Complete 能够将其 60%的远程信息处理环境过渡到 AWS，使用基于 [New Relic One 平台](https://newrelic.com/platform)构建的统一仪表板进行预发布检查、ALM、基础设施监控以及跨内部和云工作负载的可观察性。

### 世界燃料服务公司为旅程加油

World Fuel Services (WFS)正在进行云和 DevOps 转型，WFS 是一家财富 100 强全球企业，在全球不下 20 个数据中心运营一套定制和收购的应用程序，处理从贸易物流和供应商管理到客户服务和后台职能的一切事务。

该公司承诺将其应用程序套件迁移到亚马逊弹性容器服务(ECS)，将 Kinect Consulting 作为集成服务合作伙伴，并将用于 AWS 的 [New Relic 云采用解决方案](https://blog.newrelic.com/product-news/cloud-adoption-solution-aws/)作为可观察性平台。

有这么多不同的路线可用，WFS 将从哪里开始？可观察性推动了云迁移的所有三个阶段:

1.在规划中，团队捕获了公司广泛的应用技术资产的完整清单，因为它存在于 20 个数据中心，包括开发语言、服务和网络依赖关系以及当前的性能概况。然后，平台对结果进行优先排序，作为应用程序的战略建议，首先在路线图中进行合理化，以最小的风险获得最大的回报。

2.正在进行中，Kinect 开发人员会自动将新的遗留代理注入到他们的 CI/CD 管道中，因此监控和跟踪工具被内置到他们在数据中心或 AWS 中部署的每个应用程序组件中。在实现过程中，我们发现某些容器会导致过多的网络流量负载，因此我们提供了额外的容量，同时团队在以后的版本中隔离并重构了这个问题。

3.迁移后，自动反馈循环会准确跟踪和报告客户正在使用的功能，甚至是与第三方依赖关系的潜在问题的“未遂事件”也会汇总为持续改进的建议，因为在该计划的第一年，20 个全球数据中心中有 7 个被合理化并淘汰。

Kinect 的应用程序开发负责人 Sunith Ravindran 说:“对于我们的调度应用程序，我们供应商的网站和服务必须正在运行，否则我们的订单就无法完成。”“我们使用 New Relic 来主动监控我们的第三方集成的状态，以便我们不仅知道我们的基础架构是否正常，还知道我们的合作伙伴的服务是否正常。已经有过这样的例子，我们通知供应商他们的服务中断了。”

## 智能带

无论使用什么工具，不以改善客户体验为导向的企业云迁移都可能失败。仅仅为了省钱而迁移到云是没有意义的，使用 Kubernetes 或 serverless 这样的云原生方法仅仅是为了研究最新的技术也是没有意义的。

如今的网络和移动用户是出了名的不宽容，他们期望低延迟、少错误和没有安全缺陷。体验不佳，无法满足他们的需求，客户可能会在几秒钟内放弃应用程序，转而使用竞争对手的替代应用程序。

避免过早回到旧筒仓的安全状态。在通往现代云架构的持续旅程中保持可观察性。

*[intellix LLC](https://intellyx.com/)对本文内容全权负责。在撰写本文时，[新遗迹](https://newrelic.com/)是 Intellyx 的客户。这里提到的其他公司都不是 Intellyx 的客户。*

亚马逊网络服务是新堆栈的赞助商。

Alexander Baxevanis 的特写图片来自 flickr 开源网站。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>