# Log4j 补救后:第 2 天做什么

> 原文：<https://thenewstack.io/after-log4j-remediation-what-to-do-on-day-2/>

[](https://www.linkedin.com/in/joshbressers)

 [乔希·布雷瑟斯

乔希是软件供应链安全公司 Anchore 的安全副总裁。](https://www.linkedin.com/in/joshbressers) [](https://www.linkedin.com/in/joshbressers)

随着最糟糕的 Log4j 紧急情况过去，补救工作正在进行，是时候考虑下一步了。在对 Log4j 之类的漏洞进行补救后的几周、几个月甚至几年内，您如何应对可能比您在早期所做的事情更重要。

在 DevSecOps 的世界中，我们将开发分成几个阶段，或者“几天”第 0 天是我们设计和构建解决方案的时候。第 1 天是我们部署解决方案的日子。第 2 天是我们在第 1 天之后每天运行解决方案、监控和维护系统安全的方式。因为大部分注意力通常集中在第 0 天和第 1 天，所以第 2 天通常没有得到适当的规划。

我们可以用类似的方式来思考 Log4j 中发现的漏洞 Log4Shell。第 0 天是宣布发现漏洞的日子。第 1 天，我们部署了修复程序来修复 Log4j。我们现在处于第 2 天的阶段，我们需要解决诸如“我们如何维护我们的软件，以确保我们不会意外地接收和部署 Log4j 的易受攻击的版本？”以及“如果有另一个如此严重的漏洞，我们如何确保能够快速回答关于我们的软件正在运行什么的问题？”

第二天的关注直接表明了软件供应链安全的重要性。跟踪正在使用的软件内容的能力现在不仅是可能的，而且非常有效地帮助我们发现我们是否容易受到类似 Log4j 的未来零日攻击。

## Log4j 补救后，现在怎么办？

任何时候我们经历像 Log4j 这样的零日漏洞利用，都不会有突兀的结局。这场突如其来的危机往往会慢慢平息，直到成为遥远的记忆。但是零日漏洞的平均寿命大约是七年——它在我们的系统中潜伏七年，它在未打补丁的开源软件中逗留七年，它仍然是我们组织的潜在威胁七年。

现在我们开始了 Log4j 利用的第 2 天，接下来呢？我们首先需要承认 Log4j 和许多其他软件组件的易受攻击版本仍然存在于我们的软件供应链中。新的零日漏洞将会不断出现。我们必须了解我们使用的是什么软件组件，它们来自哪里，以及每天全天的风险是什么样的——而不仅仅是在零日漏洞出现时。现在，随着最近 Log4j 前端和中心的痛苦，是时候建立和改进第 2 天的过程，将软件供应链安全嵌入到我们构建和使用软件应用程序的方式中。

所使用的工具将在未来保护软件供应链中发挥关键作用。Log4j 导致了专门为发现该漏洞而设计的多种专用工具的开发。尽管这种特别的工具在紧急情况下很有用，但它还不足以在整个软件供应链中保持强大的安全性。我们需要可持续的工具和流程，这些工具和流程可以在我们所有的软件组件和应用程序中持续使用。

## 为什么 SBOM 是第 2 天安全的关键

正如 Log4j 向我们展示的那样，准确了解我们的基础设施中正在运行什么是至关重要的。补救的第一步是准确了解哪些应用程序包含 Log4j。我们已经有了一个强大的工具来对软件应用程序的全部内容进行编目:软件材料清单，或 SBOM。

在第 2 天，我们需要实现最佳实践来为我们部署的每个软件应用程序生成和存储 SBOM。然后，我们可以使用自动化工具在部署后的任何时间扫描 SBOMs，以识别新的漏洞。在像 Log4j 这样的零日漏洞利用的情况下，这消除了手动搜索代码库的手动过程，该过程非常耗时，并导致补救中的显著延迟。

拥有 SBOM 只是保护软件供应链的一个步骤。对于第 2 天，我们需要能够持续地创建、接收、跟踪和搜索 SBOM，这就是 [SBOM 管理](https://anchore.com/sbom/sbom-management-and-six-ways-it-prevents-sbom-sprawl/)的用武之地。我们需要使用 [SBOM 标准](https://anchore.com/sbom/key-things-to-know-about-sboms-and-sbom-standards/)来提供一个通用的格式来描述软件供应链中的参与者之间的软件组合。

## SBOMs 是软件供应链管理的基础

第 0、1 和 2 天已经被证明，至少在概念上，是持续改进软件开发过程的有价值的框架。将该框架应用于保护软件供应链有助于确定您将需要哪些工具以及何时应用它们。

随着第 2 天的开始，我们吸取了 Log4j 的教训，我们需要重新评估现状，并重新致力于建立以 SBOMs 为基础的安全软件供应链管理。

SBOMs 已经成为一种规范。具有前瞻性思维的政府机构和大型组织现在需要 sbom，在此过程中帮助定义 sbom 的标准格式。他们认识到，在购买时拥有一份产品中所有东西的清单，将消除在出现类似 Log4j 的漏洞时追踪每个供应商的问题。

对于第 2 天，我们必须将 SBOMs 作为端到端软件供应链管理流程的一部分，以便我们可以最大限度地减少下一次零日漏洞利用的中断。通过在开发过程的每一步和每一次构建中生成 SBOMs，我们可以使用自动化来识别安全风险、实施策略，并对新问题发出警报。这样，我们可以确保更有效和更安全的软件供应链。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>