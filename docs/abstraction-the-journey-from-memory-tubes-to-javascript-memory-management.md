# 抽象:从内存管道到 JavaScript 内存管理的旅程

> 原文：<https://thenewstack.io/abstraction-the-journey-from-memory-tubes-to-javascript-memory-management/>

今年早些时候，在阅读乔治·戴森(George Dyson)的计算机历史书(T2)图灵大教堂(Turing's Cathedral)时，我被《T4 》( Charles)的《物理》( T5)编程行为如何回到 20 世纪 40 年代和 50 年代感到震惊，那时计算机时代刚刚开始。仔细看看这篇文章的导图，它是从戴森的书里借来的，展示了 1952 年约翰·冯·诺依曼和疯狂的电脑。照片中臀部的位置是一组威廉姆斯阴极射线存储管，每根存储 1024 位。有 40 根管子，所以总容量是 40，960 位(5 千字节！)

比冯·诺依曼能够触摸到记忆管这一事实更不可思议的是，他还能够看到记忆管内发生的事情。戴森写道:“(照片的)前景是 7 英寸直径的第 41 个监视器平台，允许在使用时观察内存的内容。”

当冯·诺依曼和他的同事们给这个疯子编程时，他们敏锐地意识到机器内部正在发生什么。他们必须精确地理解记忆是如何工作的，以便在物理上操纵它。“每一步都必须指定每一个存储位置，”戴森解释说，“随着计算的进行，有效数字的位置也要调整。”

 [理查德·麦克马努斯

Richard 是 New Stack 的高级编辑，每周撰写一篇专栏文章，探讨云计算原生互联网的未来。此前，他在 2003 年创立了读写网，并将其打造为全球最具影响力的科技新闻和分析网站之一。](https://twitter.com/ricmac) 

快进近 70 年，计算机编程是一个远不如物理行为。首先，你不一定知道你正在编程的计算机在哪里(因为云计算)。但是更重要的是，你甚至不需要写任何代码。

后一种趋势被贴上了“低代码”的标签，是最近才出现的。正如泰勒·朱厄尔在我们最近的采访中告诉我的那样，在世纪之交，“80%的新应用是定制代码，20%来自可重用组件。”但是在 2020 年，朱厄尔认为“一个应用程序的 20%是定制代码，80%来自可重用模块。”

因此，在 70 年的时间里，我们已经从不得不使用机器语言将指令编程到阴极射线存储管中，到 80%的时间将可重复使用的模块复制并粘贴到互联网服务中(并且不知道它实际上会在世界上的什么地方被计算)。

这种更大的抽象趋势似乎也没有尽头。有了[今天的无服务器环境](https://thenewstack.io/theres-a-service-for-that-amazon-web-services-and-serverless-computing/)，你根本不需要知道*任何关于运行你的应用程序的计算机的事情*。后端完全被抽象掉了。

## 现在的程序员大多懂电脑吗？

你不得不怀疑所有这些抽象是否正在影响编程职业。毕竟，在约翰·冯·诺依曼的时代，程序员必须知道内存管是如何工作的——更不用说其他硬件了。但是现代程序员不太可能理解硅片上的内存是如何工作的。那么，我们是否应该担心开发人员将逐渐失去真正理解计算机如何工作的能力？

今年 7 月，我向我所知的最聪明的网络开发人员之一，[Guillermo Rauch](https://github.com/rauchg)——JavaScript 框架 [Next.js](https://nextjs.org/) 的创建者和开发平台公司 [Vercel](https://vercel.com) 的首席执行官提出了同样的问题。

“不，我认为这实际上是许多相同的问题转移位置，”劳奇说，指的是内存管理和计算的其他方面的问题。

“所以一个开发人员，尤其是随着 Node.js 的兴起，曾经对服务器上运行的 JavaScript 想了很多。如今，随着 Jamstack 的兴起，随着你能够购买现成的 API——如 Stripe、Magic.link、headless CMS、headless 电子商务 API 已经编写好了。你不打算在服务器端写 JavaScript，但现在你要在客户端写很多 JavaScript。”

劳奇认为开发人员仍然“必须考虑内存，你必须考虑 GPU 内存”，但他们正在从一个不同于前几代人的角度来看待它。正如他所说，如今“计算更接近于设备。”

这并不一定意味着计算是在设备本身上完成的。事实上，Next.js 旨在很大程度上防止这种情况。默认情况下，Next.js“预先呈现”每个网页，[意味着](https://nextjs.org/docs/basic-features/pages)它“预先为每个页面生成 HTML，而不是由客户端 JavaScript 来完成。”你仍然可以使用客户端渲染，就像 Rauch 建议的那样，现在很常见，但是 Next.js 有助于最小化客户端的计算负载。

当然，冯·诺依曼和他的团队是你能在物理上最接近“设备”(在他们的例子中，MANIAC)的人，但那是因为计算和最终信息的传递都发生在一台机器上。但是今天的网络环境是高度分布式的，所以最终用户设备可能在世界上的任何地方。

## 继续感受魅力

艾伦·图灵[曾经说过](https://www.theatlantic.com/technology/archive/2017/03/aristotle-computer/518697/)计算机编程“应该非常迷人。没有必要成为一个苦工的真正危险，因为任何相当机械的过程可能会交给机器本身。”

从本质上讲，这就是开发人员的趋势，比如低代码、Next.js 等 JavaScript 框架和无服务器。在这些技术中，工程并没有完全被抽象出来，因为开发人员仍然需要选择在应用程序中使用哪些组件，并且需要对它们进行配置。但是许多苦差事已经被移除。

此外，正如泰勒·朱厄尔向我指出的那样，开发人员对每个应用程序所需的抽象层次会有所不同。例如，如果他们想要做的只是构建一个分析电子表格数据的应用程序，那么低代码环境通常就足够了(甚至是“无代码”，使用*拖放*和类似的视觉提示)。

然而，朱厄尔认为当涉及到更复杂的应用时，软件工程的学科仍然是非常有价值的。

“当一个工程师团队查看要构建的应用程序或系统时，他们梳理出需求。如果需求足够苛刻，他们会……自然地在堆栈中越来越低地导航，以控制他们需要的组件，提取他们想要的系统质量。”

因此，尽管在过去的 70 年里堆栈不断升级，但开发人员仍然需要理解——至少在概念层面上——计算时如何管理内存。无论是从最终用户设备的角度来看，还是因为应用程序的一系列特别苛刻的要求，有些东西就是不能被抽象掉。我认为图灵会说，这就是魅力所在。

专题图片:谢尔比·怀特和利昂·利维档案中心，高等研究院；艾伦·理查兹拍摄；经由乔治·戴森的图灵大教堂。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>