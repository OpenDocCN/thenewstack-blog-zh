<html>
<head>
<title>Microsoft's Cosmos DB Gets Cassandra-Compatible APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微软的Cosmos DB获得了Cassandra兼容的API</h1>
<blockquote>原文：<a href="https://thenewstack.io/microsofts-cosmos-db-adds-apis-become-compatible-cassandra/#0001-01-01">https://thenewstack.io/microsofts-cosmos-db-adds-apis-become-compatible-cassandra/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">微软已经扩展了其Azure托管的宇宙数据库，作为T2阿帕奇卡珊德拉数据存储的替代物。</p>
<p class="translated">微软<a href="https://thenewstack.io/microsoft-introduces-cosmo-db-globally-distributed-multi-mode-azure-database-service/" class="local-link">公司今年早些时候推出了</a> Cosmos DB作为托管的JSON文档数据库，尽管该架构一直被设计为支持多种API和数据模型，使其能够模仿其他数据存储的接口。现在，Cassandra正在加入MongoDB、Gremlin、标准SQL和Azure表，作为Cosmos DB本机支持的数据库系统。</p>
<p class="translated">该公司于周三在纽约举行的<a href="https://www.microsoft.com/en-us/connectevent/default.aspx" class="ext-link" rel="external "> Connect() 2017 </a>活动中宣布了这一更新。</p>
<p class="translated">微软负责Cosmos DB和Azure HDInsight的产品经理Rimma Nehme表示，今天在preview中发布的新API支持为开发人员提供了“由Cosmos DB支持的Cassandra-as-a-service”。“你可以熟悉你最喜欢的Cassandra IDEs和工具，你可以通过改变URI并指向我们的平台，让你现有的应用程序成为行星级的应用程序。”</p>
<p class="translated">她告诉New Stack，对Cassandra的支持是客户的最大要求之一。他们中的一些人想要托管服务的简单性，以及云服务的安全性和合规性。“Cassandra开发人员经常构建大规模分布式系统，这带来了很多负担和复杂性。通过拥有这个API，Cassandra开发人员可以获得一个完全托管的Cassandra即服务，一个利用Azure的真正的PaaS服务。”</p>
<p class="translated">其他人已经建立了他们自己的Cassandra系统，他们需要超越他们自己的数据中心的资源来增长，但不想重写他们已经创建的应用程序。“通常，这些客户都为规模问题感到苦恼，无论他们是拥有大规模数据集，还是特别需要全球分布，”她说。</p>
<p class="translated">Cosmos DB的一大优势是，它提供了比通常的一致性模型范围更广的一致性模型，包括有界陈旧性、会话一致性和一致前缀的中间一致性模型，这些模型有明确的权衡。“这是在性能、延迟和可用性之间的一个基本选择，但也包括美元成本。你拥有的一致性越强，你必须运行的处理就越多，分布式算法就越多，它会消耗你更多的吞吐量，所以你将不得不为此付出更多，”Nehme说。</p>
<p class="translated">她指出，超过93%的Cosmos DB客户选择了一种中间一致性模型，通常是较便宜的会话一致性模型。</p>
<h2 class="translated">兼容性承诺</h2>
<p class="translated">Cosmos DB提供了Nehme所说的与现有Cassandra SDKs和工具的“有线协议级兼容性”。因此，当将后端切换到Cosmos DB时，开发人员可能不必重写他们的应用程序。</p>
<p class="translated">这不是使用现有的开源Cassandra数据库代码；相反，微软在Cosmos DB<a href="https://azure.microsoft.com/en-us/blog/a-technical-overview-of-azure-cosmos-db/" class="ext-link" rel="external ">atom-record-sequence</a>(ARS)数据模型上实现了API和wire协议作为模块。在预览版中，并没有包含所有的Cassandra APIsNehme说他们中的大多数都被覆盖了，但是支持还没有MongoDB覆盖的那么广泛。</p>
<p class="translated">“Cassandra的典型使用模式实际上更多的是CRUD[创建、读取、更新和删除]工作负载，而不是查询。所有的CRUD功能都在工作，查询功能也在工作。我们已经在Cassandra上处理了一些典型的第一层工作负载，并确保我们已经涵盖了所有内容，我们将监控客户工作负载并解决最后一英里的问题，以将其推向全面可用。”</p>
<p class="translated">这种支持非常好，私有预览版的一些早期客户已经在生产中运行工作负载了。Jet.com已经在Cosmos DB上用Cassandra APIs运行了Nehme所说的“几个关键任务用例”。</p>
<p class="translated">Nehme预计一些客户将继续在他们自己的数据中心使用Cassandra，同时在Cosmos DB上运行相同的数据库应用程序，这已经发生在MongoDB开发人员身上。有时这是分阶段向云迁移的一部分；“你可能不会一夜之间切断脐带，你可能会让它并行运行一段时间。”其他人将保留开源的NoSQL数据库作为本地开发工具。</p>
<p class="translated">【T2<img decoding="async" loading="lazy" class="aligncenter size-full wp-image-3505927" src="../Images/7623f045424d76c9289a07cd2487b369.png" alt="" data-id="3505927" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/11/5a515564-cosmos-02.jpg"/></p>
<h2 class="translated">多个型号–一次完成</h2>
<p class="translated">现在支持这么多API，Cosmos DB为开发人员提供了在同一数据上使用多种数据模型和查询API的选择。Nehme说:“如果你看看正在云中构建的应用程序，我们经常看到的一种模式是后端非常分散的多语言应用程序。”一个数据库可能运行事务性工作负载，而一个键值存储可能捕获物联网遥测数据。文档数据库存储库存或用户简档管理，图形数据库用于客户和供应商以及业务中涉及的其他方之间的连接。</p>
<p class="translated">“通过一个数据库为您提供这种多模型支持，这可以无缝地适用于所有这些数据模型，”她说。</p>
<p class="translated"><a href="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/11/13be5af8-cosmos-05.jpg" class="ext-image" rel="external "><img decoding="async" loading="lazy" class="aligncenter wp-image-3505890 size-large" src="../Images/dc56a4739faf80f013b55b8908ff0584.png" alt="" data-id="3505890" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/11/13be5af8-cosmos-05-1024x732.jpg"/>T2】</a></p>
<p class="translated">即使没有代码需要重写，迁移到Cosmos DB也意味着翻译Cassandra设置。为了帮助迁移，微软正在编写文档，将Cassandra开发人员熟悉的设置映射到Cosmos DB中可用的五个一致性模型。它还计划帮助所有开发人员为他们的工作负载选择正确的一致性模型，方法是在他们的数据库指标中添加一个图表，显示您的数据变得一致的可能性，使用<a href="http://pbs.cs.berkeley.edu/" class="ext-link" rel="external ">概率有限过时</a>模型，该模型试图回答“最终的一致性有多最终？”的问题</p>
<p class="translated">“如果你正在使用Cosmos DB为web评论或更多探索性工作负载构建一个应用程序，如果你的数据不完全一致也没关系；如果你正在构建你的购物车，你要确保数据立即以一种非常一致的方式反映出来，”Nehme解释道。</p>
<p class="translated">除了Cassandra支持，Cosmos DB还在其他方面得到了增强。Cosmos DB对MongoDB的支持也在改进，推出了聚合框架支持和唯一索引的新的公开预览版。“唯一索引允许您在已经自动索引的文档上的任何文档字段上引入唯一性约束，这是Cosmos DB的核心功能，聚合管道允许您使用MongoDB本机API在数据上运行更复杂的聚合。”</p>
<p class="translated"><a href="https://docs.microsoft.com/en-us/azure/cosmos-db/table-introduction" class="ext-link" rel="external "> Table API </a>正从预览版走向正式版，Gremlin API也将紧随其后，对性能、导入和备份进行了改进，加上Python客户端支持和更多使用由<a href="https://tinkerpop.apache.org/gremlin.html" class="ext-link" rel="external "> Apache Tinkerpop </a>推荐的开源框架的选项。Nehme还承诺了简化从Neo4J和Datastax的TitanDB迁移的方法。有了TitanDB，Cosmos DB可以作为一个替代品，而不是被Datastax收购后的图形数据库的<a href="https://www.datanami.com/2017/01/13/janusgraph-picks-titandb-left-off/" class="ext-link" rel="external ">分支</a><a href="http://janusgraph.org/" class="ext-link" rel="external "> JanusGraph </a>。</p>
<p class="translated">下一个添加到Cosmos DB中的API可能是Hbase，它适合现有的Spark连接器。这甚至可能消除当数据库系统无法处理同时运行两者时引入的运营和分析数据库之间的一些人为划分。</p>
<p class="attribution translated">微软是这一新技术的赞助商。</p>
<p class="attribution translated">专题图片:微软技术架构师<a href="https://twitter.com/SQLGal" class="ext-link" rel="external ">劳拉·鲁贝尔基</a>，在微软的Connect 2017大会上介绍Cosmos DB的改进。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>
</div>
</div>    
</body>
</html>