# 本周编程:异常导致的成功

> 原文：<https://thenewstack.io/this-week-in-programming-success-at-the-fault-of-exceptions/>

早在 2000 年代初的这一天，作为编程的一个范例，仍然铭刻在我的记忆中。因为一些未知的错误，我为之努力的一切都停止了。我被迫使用的任何奇怪的 CMS 模板语言(你看，在我之前做这项工作的那个白痴已经采用了它)都给了我一个错误，而没有说明错误是什么或在哪里。我只知道代码被破解了，最终，我有责任找到它并找出原因。我花了一整天的时间关注代码的逻辑结构和它在做什么，但最终，它完全是另一回事。就好像，只有当我的大脑和眼睛因为寻找问题而疲惫不堪时，我才能最终看到它。

大约 30，000 行代码和数小时令人绝望的专注之后，我终于找到了罪魁祸首——一个丢失的分号。

从那天起，我就觉得这接近了编码的真正本质；编码就是考虑所有的情况并找出例外。考虑所有的可能性——尤其是那些你之前没有考虑到的。它可以是最小的细节，把所有的事情都记下来，给你留下一个错误的例外，而在此之前你只体验过成功。

在之前，我们已经写了关于这个一般概念的文章[，但是本周又有两篇文章再次以类似的主题流行起来。首先，开发人员](https://thenewstack.io/this-week-in-programming-accounting-for-all-contingencies/)[汤姆·怀特](http://blog.tdwright.co.uk/about-tom/)提出了他对[的看法，即盎格鲁中心主义如何破坏了他的测试](http://blog.tdwright.co.uk/2018/11/06/anglocentrism-broke-my-tests-ignore-localisation-at-your-peril/)，以及忽视本地化(考虑到不同地点的不同数据格式和实践)应该如何自担风险。

Wright 写道:“我已经编写了大量的一致性测试，其中包括示例输出。“我没有考虑到的是，其中有多少取决于我的语言环境。这些在不同语言环境的计算机上可能会失败。

Wright 继续描述了一个在一年多的时间里对他自己和其他几个人都很有效的测试是如何突然崩溃的，你猜对了，有人从其他地方使用了它。

“当斯洛伐克开发商 Marek 加入我们时，一切都变得一团糟。他解释道:“我发现，斯洛伐克是许多不使用句号(我的美国朋友称之为句号)作为小数点分隔符的国家之一。

当然，这只是一个例外的例子。本周的第二篇文章来自开发者 Andrei Cioara，他建议其他人在你的开发环境中使用广告拦截技术。

“我过去在本地开发 Web 应用程序时会关闭所有的浏览器扩展，以避免无意中代码注入到我的页面中，”乔拉解释道。“然而，几个月前，当我为一个客户编写集成时，我开始收到错误报告，说我们页面上的一些图像无法加载。奇怪的是，我觉得一切都很好……”

剧透警告，但这是其他人在这里使用的广告拦截器的问题，Cioara 故意避免运行。Cioara 写道:“作为一名网站开发者，你的职责是确保你为尽可能多的用户提供最好的体验，不管你的业务是否得到广告相关收入的支持。”他指出，广告拦截器的规则总是在变化，因此唯一真正的解决方案是在测试中积极运行一个广告拦截器，以确保它们不会破坏你的产品。

当然，对于这些情况中的任何一种，您都可以尝试完全相反的方法，对吗？强迫用户满足你的要求。小数需要逗号。强制用户关闭广告拦截器。你有什么？然而，很有可能另一个例外就在眼前。

## 本周的节目中

*   **GitHub 重新考虑:**关于例外的最后一点，GitHub 本周似乎发现了其过去想法的例外，因为两个公告对之前的决定进行了一些修改和调整。首先，该公司提供了关于[限电的更新和关于 GitHub 服务](https://developer.github.com/changes/2018-11-05-github-services-brownout/)的更新，该公司最初曾表示将限电一周。“经过深思熟虑和讨论，我们认为为期一周的限电对每个人来说都太具破坏性了。相反，我们将逐步增加限电，直到 2019 年 1 月 31 日的最后停电日期，”该公司在一篇博客文章中写道。如果你碰巧使用 [GitHub 服务](https://developer.github.com/changes/2018-11-05-github-services-brownout/)，请确保点击查看具体日期。与此同时，GitHub 还发布了其计划[推迟更严格的验证](https://developer.github.com/changes/2018-11-07-strict-validation/)，这是它之前[宣布的](https://developer.github.com/changes/2018-09-25-stricter-validation-coming-soon-in-the-rest-api/)。具体来说，该计划是为了在其 REST API 中进行更严格的验证，在“仔细考虑”后，该公司表示，它“决定目前不推出更严格的验证。”尽管如此，GitHub 表示，它仍然相信“更严格的验证将对我们的 REST API 整体产生积极影响，并且[他们]正在寻找引入它的替代方法。”
*   人工智能中心和 Kubeflow 管道:谷歌表示，随着[人工智能中心](https://cloud.google.com/ai-hub/)和 [Kubeflow 管道](https://www.kubeflow.org/)的推出，它正试图让人工智能“更简单、更快、对企业更有用”。Techcrunch 写道，这两个工具“旨在帮助数据科学家将他们创建的模型应用于他们的组织。”根据这篇文章，“管道本质上是容器化的构建块，机器学习生态系统中的人们可以将它们串在一起，以建立和管理机器学习工作流，”而人工智能中心“顾名思义，是数据科学家可以找到不同类型的 ML 内容的中心位置，包括 Kubeflow 管道，Jupyter 笔记本，TensorFlow 模块等等。”根据谷歌的说法，“尽管全球大约有 2000 万开发人员，但只有 200 万数据科学家。”该公司表示，这些工具旨在帮助他们更有效地工作。目前，AI Hub 在 Alpha 中可用，而 [Kubeflow 管道立即可用](https://github.com/kubeflow/pipelines)。

*   **缩减代码是 GR8 与 R8:** 谷歌本周还宣布了 [R8 的可用性，Android studio 3.3 测试版中的新代码缩减器](http://android-developers.googleblog.com/2018/11/r8-new-code-shrinker-from-google-is.html)。R8 通过“去除不用的代码和资源，并使你的实际代码占用更少的空间”来帮助开发人员缩小 APK 的规模正如 JAXEnter 指出的那样，R8“缩小、去整形和索引一步到位，比安卓目前的标准 Proguard 更快，输出大小更有效。基本上，[它从你打包的应用程序中检测并移除未使用的类](https://developer.android.com/studio/build/shrink-code)、字段、方法和属性。它甚至通过包含的代码库来筛选未使用的文件，使开发人员更容易绕过 64k 的引用限制。”R8 目前可以预览。
*   **有时候，是一些小事:**最后，本周，一个非重大的声明——GitHub 称，GitHub for Visual Studio 的最新版本[正在保存评论草稿](https://blog.github.com/2018-11-08-save-comment-drafts/)。我们把这个包括在内，因为我们知道，没有比精心制作完美的评论更痛苦的了，只有让它消失在苍穹中。只需点击博客文章，观看精彩的小动画，当他们点击后退箭头，然后前进箭头，评论仍然存在。他们提供了比你想象的更多的细节，解释说“当他们被写的时候，评论草稿被保存到一个 SQLite 数据库中，当用户以后再来看的时候就会显示出来。现在，正在进行的评论再也不会丢失了。”哈利路亚。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>