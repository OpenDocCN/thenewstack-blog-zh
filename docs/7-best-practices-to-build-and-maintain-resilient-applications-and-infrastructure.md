# 构建和维护弹性应用程序和基础架构的 7 个最佳实践

> 原文：<https://thenewstack.io/7-best-practices-to-build-and-maintain-resilient-applications-and-infrastructure/>

[](https://www.ns1.com/)

 [克里斯·比弗斯

克里斯是 NS1 的联合创始人兼首席执行官。他领导 NS1 的行业专家团队开发产品，使公司能够使用 DNS 构建和交付令用户满意的动态、分布式和自动化应用程序。Kris 是 DNS 和全球应用交付领域公认的权威，经常谈论和撰写关于构建和部署高性能、大规模、全球分布式互联网基础设施的文章。](https://www.ns1.com/) [](https://www.ns1.com/)

最近备受关注的[系统故障](https://www.speedtest.net/insights/blog/significant-web-outages-q2-2020/)将系统弹性和冗余架构的重要性带到了行业讨论的前沿。虽然业务连续性考虑并不新鲜，但所采用的技术已经发生了变化。企业曾经主要调配备份数据中心，现在在设计弹性应用程序和基础架构时需要考虑各种层。

当应用程序和网站不可用时，收入和声誉都会受到影响。但是，我们越来越依赖数字系统，这使得弹性的定义超出了停机和服务中断，还包括了性能和应用交付，这两者同样重要。如今，终端用户希望他们使用的应用程序和服务能够快速响应。甚至几秒钟的延迟都太长了。

希望构建和维护弹性应用程序和基础设施的企业应该考虑这七条建议。

## **基础设施多样化**

虽然有些人可能倾向于选择单一的云或 CDN 提供商，但如果提供商离线或遇到其他性能问题，这种方法可能会导致代价高昂的停机时间。通过使用两个或更多分布在各地的提供商来使基础架构多样化的公司，可以通过使内容和处理更接近用户来显著减少延迟。如果一个提供商由于网络拥塞、地理限制、资源可用性或其他问题而遇到问题，自动故障转移系统可以确保对用户的影响最小。

## **考虑实施微服务**

较新技术的出现，如微服务和容器，确保了弹性处于应用程序开发人员的最前沿。随着企业从运行在物理数据中心的单一应用程序转向广泛分布的微服务和单个应用程序，他们必须尽早解决这些系统如何相互交互的问题。冗余是在微服务的设计阶段内置的。这就是为什么已经进行数字化转型或正在升级系统的企业应该考虑采用微服务方法。

随着组织的成长，他们可以看到系统的不同部分比其他部分更容易受到压力。微服务和非单片应用使他们能够独立扩展这些特定组件。在使用微服务时，他们可能会看到由于系统的某些组件而导致的部分故障，但整体中断的情况很少见。

## **在代码库中构建冗余**

企业可以从软件开发的角度出发，通过在代码中构建冗余来解决弹性问题。一家全球流媒体提供商使用这种方法，因此如果其云提供商之一出现故障，其自建系统将被激活，以保持他们在线。电子商务公司经常采用类似的策略，即使几分钟的停机时间也会导致重大的利润损失。Gremlin [的混沌工程专家估计](https://thenewstack.io/cyber-monday-do-you-know-the-cost-of-your-systems-downtime/)亚马逊 10 分钟的停机时间将损失这家电子商务巨头 200 万美元的收入。因此，许多电子商务公司通常以这样的方式编写代码，即应用程序在数据中心运行，作为其备份/冗余策略的一部分。购物车应用程序在这种环境下可能会运行得较慢，但是一个缓慢的购物车总比没有购物车好。

## **引入混沌工程作为实践**

混沌工程，即有意引入问题以识别系统故障点的实践，已经成为交付高性能、弹性企业应用程序的重要组成部分。有意将“混乱”注入受控生产环境可以揭示系统弱点，并使工程团队能够更好地预测和主动缓解问题，以免造成重大业务影响。进行有计划的混沌工程实验可以提供企业在系统弹性方面进行战略投资所需的情报。

## **调整流量路由策略**

公司可以通过实施流量路由策略，将有关网络状况和资源可用性的实时数据与真实用户测量数据相结合，从而最大限度地降低停机和延迟的风险。这使 IT 团队能够部署新的基础架构并管理资源的使用，以解决问题或应对意外的流量高峰。例如，企业可以将流量导向功能与 VPN 访问联系起来，以确保用户始终被定向到附近具有足够容量的 VPN 节点。因此，用户可以免受中断和本地网络事件的影响，否则这些事件会中断业务运营。流量导向还可以快速启动新的云实例，以增加战略性地理位置的容量，这些位置的互联网条件长期缓慢或不可预测。另外，团队可以设置控制，在流量高峰期间将流量导向低成本资源，或者在持续大量使用期间在资源之间经济高效地平衡工作负载。

## **定义 SLA 并持续监控系统性能**

 **企业应该监控他们的应用程序和系统，以便提前发现性能波动、停机或其他问题。监控应用程序每个部分的健康状况和响应时间是系统弹性的一个关键方面。例如，测量应用程序的 API 调用需要多长时间，或者核心数据库的响应时间，可以提供即将发生的事情的早期迹象，并允许 IT 团队在这些障碍面前取得进展。这种方法还包括为不同的子应用程序和系统创建服务级别协议(SLA ),然后监控这些协议以确保它们保持一致。

## **开始使用新系统和应用**

希望为其 IT 体系增加弹性的企业应该从实施对业务影响较小的新应用程序或服务开始。虽然有些人可能会尝试首先为核心服务或应用程序增加弹性，但如果出现问题，这种方法可能会导致代价高昂且更具破坏性的停机。IT 人员可以先从解决新系统中的弹性开始学习。也许某个组织正在推出一个新的支持门户。在这项服务上测试新的弹性方法风险较小，并且可以允许一些小问题。之后，IT 团队可以在其他业务关键型系统和服务上使用他们的知识。

当组织更仔细地审视他们的弹性方法时，他们必须考虑每种策略的成本与收益。这七项建议需要在额外的服务和架构上投资，以及 IT 团队的时间，公司在确定最佳行动方案之前应该仔细考虑这些因素。无论如何，他们应该优先考虑弹性作为最佳实践，以确保其数字应用和服务的高可用性和最佳性能。这是保持业务向前发展和保持竞争优势的必要条件。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>**