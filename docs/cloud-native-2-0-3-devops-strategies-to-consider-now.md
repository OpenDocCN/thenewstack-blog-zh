# 现在要考虑的云原生 2.0: 3 开发运维策略

> 原文：<https://thenewstack.io/cloud-native-2-0-3-devops-strategies-to-consider-now/>

[](https://www.linkedin.com/in/hrosendahl/)

 [亨利克

亨利克是施帕的首席运营官。他是一个连续的企业软件企业家，有四次成功退出，包括两次去 VMware。](https://www.linkedin.com/in/hrosendahl/) [](https://www.linkedin.com/in/hrosendahl/)

在急于利用云原生应用程序开发和 Kubernetes 等工具之后，DevOps 团队现在有更多的事情要考虑。在许多情况下，DevOps 采用了早期的持续集成/持续部署(CI/CD)管道工具，如 Jenkins，现在正试图将它们应用到云原生场景中，在这些场景中，它们不再像以前那样合适。云原生将开发人员拉回到与基础架构相关的操作，而当前的 CD 工具无法帮助开发人员恢复在迁移到微服务架构之前曾经拥有的应用级上下文，因此，增加了开发工作流的复杂性和应用部署后的可观察性。开发运维团队在应用策略管理方面也面临着新的挑战，尤其是在监管严格的行业，因为他们需要调整流程以在云原生环境中建立信任和安全性。与此同时，DevOps 需要重新评估自动化方法和消除人为错误的策略，因为云和 Kubernetes 部署已经带来了非常手动和繁琐工作的回归。

DevOps 必须在以下三个方面仔细考虑他们的策略，为云原生 2.0 的未来做好准备，使云原生环境能够更加高效和有效地使用。

## 1.具有更高互操作性和可组合性的 CI/CD

在云原生 2.0 环境中，考虑到现在可用的选项范围不断扩大，选择和实施 CI/CD 工具变得更加有趣。但这也是一个战略挑战(或者说头疼，取决于你的视角)。一些工具在开发管道中提供了最左边的优势，而另一些则提供了右边的优势。从 CI 到 CD，再到发布自动化(RA)，DevOps 团队需要检查潜在的工具，以及如何将它们拼凑在一起，以组装一个优雅而和谐的管道。不幸的是，正如许多 DevOps 团队所熟知的，这说起来容易做起来难。一些端到端解决方案也可能带来锁定和其他不良方面，而一些同类最佳的零碎解决方案可能无法很好地相互配合。

我希望并预测，在不久的将来，更好的互操作性将作为 cloud native 2.0 的一部分出现，以至于 CI、CD、RA 甚至治理和法规遵从性解决方案都只是即插即用。到那时，DevOps 将能够选择最适合特定需求的解决方案，然后它就可以工作了。

现在，当我们等待即插即用的天堂到来时，可组合性是 DevOps 在未来的解决方案中应该寻找的一个至关重要的方面。管道组件轻松交互的能力简化了无数用例以及关键的安全性和合规性问题。在云原生管道中实施策略驱动的限制要求 DevOps 工具链能够带来广泛的可组合性。幸运的是，许多 CI/CD 系统在允许扩展和插件使跨管道的可组合性成为现实方面做得很好。

## 2.利用应用程序策略管理

在应用程序开发生命周期和 [DevOps 部署策略](https://thenewstack.io/deployment-strategies/)中，策略必须到位，以确保遵循重要的安全和治理规则。不能跳过任何可能引入漏洞的步骤。对于在云原生环境中工作的 DevOps 团队来说，Kubernetes 及其替代品的高度复杂性使得实施这些策略变得更加困难。

作为一种策略，DevOps 应该利用工具和框架，既 1)将开发人员从 Kubernetes 的复杂性中隔离出来，又 2)保护他们免受风险。例如，如果您将构建映像部署到 Docker 存储库(如 Docker Hub ),它将包含检测和报告漏洞和其他安全故障的工具。内部源代码扫描可以识别拉请求中的漏洞。工具应该支持跨团队的协作和关键知识的共享。从结构上来说，明智的做法是将 DevSecOps 嵌入到开发团队中，作为常规流程的一部分来解决安全问题。

由于相邻的 DevSecOps 和工具能够抽象出诸如生成 Kubernetes 对象和维护环境等挑战，开发人员可以专注于代码和解决业务问题。这是他们想做的，也是他们存在的目的。还应该使用具有强大应用程序框架的工具来定义和实施 DevSecOps 控制的策略，这些策略自动禁止危险的活动和错误。有了正确的应用程序策略管理框架，如果开发人员错误地试图部署一个被污染的映像，他们就可以被阻止这样做。这种框架可以施加安全策略和资源限制，启用或禁用安全扫描，控制 CVE 是被标记还是被忽略，以及控制团队在云原生环境中对 Kubernetes 和服务的访问。

## 3.平衡自动化和审计

应用程序开发中的人为错误充其量只能等同于生产力的损失。通常，更大的担忧是增加的安全性和合规性风险。自动化和审计有一个有趣的关系:自动化减少了人为错误，而审计允许人类解决自动化造成的错误。

有点讽刺的是，云原生环境已经加速了向非常手动的过程的回归，使得新的自动化对于开发人员的生产力来说更加重要。例如，原始的 Kubernetes 及其舵图和 YAML 文件需要大量的脚本和手工工作来部署。(以我自己使用 Kubernetes 的经验来看，我相信，如果我每次写 YAML 文件出错时都要在一个罐子里放一块钱，我会……嗯，我会用掉几个罐子。正是这些挫折导致了 Shipa 的成立。)将开发人员不关心的 Kubernetes 的具体细节抽象出来的自动化非常受欢迎。

自动化最适合产生预期结果的可重复任务，例如扫描安全问题、检查代码是否使用了安全且经过验证的库，等等。也就是说，审计对于增强人的因素至关重要。有效的自动化不是一劳永逸的自动化，它需要监督和维护。例如，一个自动化系统可能会标记出实际上无害的 CVE，这需要人工判断来完善系统。完全有可能自动化不可信的糟糕流程，因此最终只会产生更多问题。正确的策略是首先开发值得信任的手动系统，然后适当地自动化。

通过利用可组合的 CI/CD 解决方案和谨慎的策略来自动化安全和简化的应用程序开发，DevOps 可以最大限度地减少云原生环境的挑战，同时使开发人员的创造力和生产力蓬勃发展。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>