# 为什么云原生系统需要零信任方法

> 原文：<https://thenewstack.io/why-cloud-native-systems-demand-a-zero-trust-approach/>

随着越来越多的组织迁移到云，并重新构建他们的堆栈和流程以充分利用云，[安全性](https://thenewstack.io/category/security/)成为每个人的心头之患，并且越来越多地出现“零信任”一词。

但是[零信任](https://thenewstack.io/what-is-zero-trust-security/)到底是什么意思呢？为什么它对处于云中的组织有意义—无论是公共云、多种云，还是云和内部数据中心的混合？

首先:云让保护系统及其数据的旧方法过时了。

传统上，企业使用城堡和护城河架构来保护自己，这种架构致力于将数据和机密安全地保存在城堡周界内，将坏人挡在护城河之外。

然而，在一个现代的、基于云的分布式系统中，没有“边界”，没有数据和其他有价值资产“居住”的明确空间。所以这个系统不能用传统的方式来维护。正如云原生使组织重新思考软件开发、交付和部署一样，也需要关于如何保护整个系统的新思维。

“现在公司不得不依靠他们自己网络之外的网络，”[hashi corp](https://www.linkedin.com/in/the-chris-kent/)的产品营销高级主管克里斯·肯特告诉新堆栈。“在由多种云、内部部署和混合基础架构组成的世界中，最好采取某人已经在网络上的姿态。”

对安全新思维的需求正在增长。根据八月份发布的 HashiCorp 云战略状态调查，76%的企业已经拥有多种云。(该报告统计了 3000 多名科技从业者和决策者的反馈，所有联系人都来自 HashiCorp 的数据库。)

根据该调查，两年内，86%的企业将采用多云技术。但 47%的受访者表示，安全问题阻碍了他们的云计划。只有成本(51%)更常被调查参与者列为障碍。

## 零信任进入主流

但是，即使许多必须实现它的团队和他们的老板仍然在努力理解零信任意味着什么，从它衍生的实践和政策的集合正在进入主流:

*   根据美国总统乔·拜登(Joe Biden 月份签署的一项行政命令，联邦政府和云服务提供商现在被要求采取零信任安全政策，并遵守零信任原则和框架。
*   根据微软 7 月份发布的对 1，200 名“安全决策者”的调查，96%的安全决策者表示，零信任安全方法对其组织的成功至关重要，76%的决策者表示至少已经开始实施该方法。
*   多云和混合云的使用越来越多，这增加了复杂性，并强调了对零信任的需求——系统越分散和异构，防御“边界”就越明显不再存在。
*   网络攻击的持续增加有助于为各种安全措施创造一种紧迫感，包括零信任措施。

## 什么是零信任？

为了解释零信任与传统的安全思维有何不同，让我们重新审视一下“边界”的概念

过去，当组织依赖于他们自己的私有(通常是内部部署的)数据中心时，工作人员通常来到物理办公室开展工作，安全专家认为数据和工作负载具有需要保护的可定义的“边界”。

不管是人还是机器，不良行为者都被拒绝访问网络，就像入侵者被赶出城堡一样:在城堡周围建造一条(虚拟的)护城河。因此，通过个人登录和密码使用[认证和授权](https://thenewstack.io/how-do-authentication-and-authorization-differ/)。设计这些系统的架构师假设组织内部的实体是可信的，并且用户的身份不会被泄露。

但是这种城堡和壕沟的方法在今天被广泛认为是不可靠的。不仅没有单一的“城堡”需要保卫，而且很有可能在你的城堡里已经有不应该在那里的人或东西了。

零信任方法假设，正如恐怖电影的标语所说，电话是从房子里面打来的。它假设不应该在那里的人或东西可能已经在你的网络上了。

零信任假设，因为没有单一的“城堡”需要保卫，所以周围没有护城河或明确定义的网络边界。相反，更好的方法是确保所有东西都经过验证和授权，可以执行它试图执行的操作或请求，而不管这是系统、应用程序还是人类用户。

换句话说，这种方法不是保护整个房子，而是保护各个房间，此外，如果有人进入房子，要确保他们无法访问其他房间或有价值的资产。

> 零信任方法假设，正如恐怖电影的标语所说的那样，*电话来自房子内部*。它假设不应该在那里的人或东西可能已经在你的网络上了。

零信任方法的一个关键要素是绝不向网络公开个人凭据。相反，身份验证和授权——决定谁有权访问、他们可以去哪里以及他们可以做什么——是基于每个请求来处理的，因此每个操作要么被授权，要么被限制。这确保了即使凭据有可能被泄露或截获，在首次使用后它们也不再有效。

零信任方法还消除了手动交互；它自动执行临时凭据的轮换以及这些凭据的颁发方式。

手动流程不仅会降低生产效率，还会带来自身的漏洞。“传统上，创建和管理负载平衡器和防火墙规则变得异常复杂和脆弱，尤其是在当今瞬息万变的形势下，”Kent 说。“对于最大的团队和组织来说，跟上 IP 规则、路由、清除旧 IP 地址，仅仅是为了允许访问基础架构或从基础架构中访问，这是很难扩展的，因此自动化访问和授权变得至关重要。”

当一个组织依赖于人工交互时，人们可以访问他们不应该访问的东西，因为授予访问权限(或者当有人离开公司或改变角色时删除它)是一个非常令人头疼的问题。肯特说:“我们在大大小小的公司中看到了一些常见的模式，在这些公司中，团队将他们所有的凭据存储在一个电子表格中，然后他们共享这个电子表格。”。

自动化凭据轮换和颁发有助于消除人为错误因素。此外，在为零信任设计的系统中，自动生成的机器对机器凭证会很快过期；该系统创建的目标只会在使用时出现，然后消失，这使得网络攻击对潜在攻击者来说更具挑战性，因此不太可能发生。

## 自动化降低了数据泄露造成的损失

最近的研究表明，自动化在安全性方面带来了许多重要的好处。除了有助于防止数据泄露，它还可以降低数据泄露的成本。

事实上，[根据 IBM 和 Ponemon Institute 在 7 月份发布的数据泄露成本报告](https://www.ibm.com/security/data-breach)，安全自动化在数据泄露的总成本中起到了最大的作用。报告称，自动化使组织能够更快地发现漏洞并遏制它。

根据该报告，没有实现访问和安全自动化的公司平均花费 670 万美元来恢复违规。这一数字是完全部署自动化的公司的两倍多，后者仅花费 290 万美元。零信任安全方法是一种姿态，意味着如果发生违规，其后果和影响可以减轻并更快被检测到。

## 创建零信任架构

如果零信任方法比旧的城堡和壕沟模型更适合分布式系统来维护安全性，这五个步骤可以帮助您的组织开始创建支持它所需的体系结构:

### 1.基于身份保护一切。

从传统的内部数据中心和环境过渡到动态的云基础架构非常复杂，并为企业安全带来了新的挑战。有更多的系统需要管理，更多的终端需要监控，更多的网络需要连接，更多的人需要访问。违规的可能性会显著增加，如果没有正确的安全态势，这只是时间问题。

### 2.认证和授权一切。

确保所有系统、用户和应用程序都被允许访问或执行给定的操作是至关重要的，也是零信任方法的基础。

### 3.集中自动化凭据和轮换。

每个应用程序、系统和用户都需要凭据来访问其他系统、网络等。通过集中这些机密的自动化，组织可以确保凭据长期存在于世，并且所有内容都及时轮换或颁发，从而降低与凭据泄露或失窃相关的违规风险。随着勒索软件攻击的增加，这一点尤为重要。

### 4.加密一切。

公司习惯于加密整卷数据，例如整个磁盘。但通常情况下，在出现违规或系统受损的情况下，肇事者是拥有访问权限的人。加密传输中和静态数据有所帮助；在系统遭到破坏的情况下，编码数据仍然是安全的。

### 5.创建零信任策略。

该策略应该确定哪些资源应该可以访问哪些资源，何时应该可以访问，访问应该包括哪些内容，可以在哪里授予访问权限，以及应该如何授予访问权限。

实施零信任方法的一个特别困难的障碍是所需的全面承诺——锁定受保护表面的零敲碎打的方法可能会使其中有价值的部分容易受到攻击。

“如果你甚至有一个部分不是零信任，那么它就不是零信任，”亚利桑那州坦佩技术咨询公司 Insight 的云和数据中心转型高级顾问 Jonathan Parnell 指出。

## 金库和边界在零信任中的作用

HashiCorp 提供了两种工具——Vault 和 Boundary——专门设计用于支持零信任安全方法，并为每种工具提供了自我管理(内部部署)和云版本。

### 哈希公司的金库是干什么的

HashiCorp Vault 是 HashiCorp 的秘密管理工具。HashiCorp 的联合创始人兼首席技术官[艾蒙·达德加尔](https://www.linkedin.com/in/armon-dadgar/)在一段解释该工具的视频中描述道，它的创建是为了[帮助解决“秘密蔓延”的问题。](https://youtu.be/VYfl-DpZ5wM)

他说，用户名、数据库凭证、API 令牌等等，经常以明文形式隐藏在源代码、配置管理或版本控制系统中，如 GitHub 或 [GitLab](https://about.gitlab.com/?utm_content=inline-mention) 。

“挑战在于，我们不知道谁能接触到所有这些东西，”达德加尔在视频中说——更不用说，他补充说，他们是否发现了那些秘密，以及他们用它们做了什么。

Vault 集中了“蔓延”它使用 API 保护、存储和严格控制对机密和敏感数据(令牌、密码、证书、加密密钥)的访问。无论是存储在 Vault 中还是在 Vault 和想要使用这些机密的客户端之间传输，这些机密都是加密的。

在 Vault 中，这些机密的管理基于应用程序和用户身份的可信来源，这是零信任方法的一个关键要素。它还编制了审计跟踪，以提高对谁有权访问哪些应用程序以及何时访问的可观察性。

凭据是动态颁发的；它们是短暂的、细粒度的，特定于特定时间特定应用程序的特定请求。Vault 灵活的 REST API 支持与其他应用程序集成，其标准化使其适用于所有地区和云平台。

### 哈希公司边界做什么

HashiCorp Boundary 旨在解决远程工作时访问组织网络的问题，这是越来越多的组织面临的一个问题，因为他们的劳动力和网络变得分散。

在从远程位置访问组织网络的传统工作流中，用户获得访问 VPN 的凭据，然后连接到特定的 VPN，可能必须通过防火墙(静态系统中的“护城河”)，然后通过凭据访问特定的应用。

HashiCorp 的高级解决方案工程师 Tio Bagio T1 在 10 月份该公司的 [HashiConf 全球 2021](https://hashiconf.com/global/) 会议上发表演讲时表示，这种做法的问题包括繁琐的入职流程、知道内部网络地址的必要性以及凭证很容易暴露在网络上的事实。

“用户需要保留这些凭证，需要记住它们，”巴吉奥说。“所以他们很自然地把它们放在最方便的地方——记事本、文件、电子邮件。这些不一定是最安全的。这可能会导致凭据意外泄露，并给组织带来风险。”

相比之下，Boundary 要求用户只需使用单一的可信身份登录。然后，他们从自动化的动态目录中选择一个项目—主机或服务。该目录允许用户查看他们需要保护的全部内容，并且每个项目都有一个易于记忆的名称。

然后，Boundary 基于用户的角色授予授权，凭证从 Vault 的凭证存储中检出；然后，用户自动连接到所需的应用程序。

凭据永远不会暴露在网络中。“我们称之为凭证注入——代表你注入凭证，这样你就永远不必这么做了，”Kent 说。

## 零信任的下一步是什么？

10 月， [HashiCorp 宣布了与微软的新合作](https://www.globenewswire.com/news-release/2021/10/19/2316793/0/en/HashiCorp-to-Collaborate-with-Microsoft-on-Secure-Remote-Access-Solution-for-Azure-Active-Directory.html)，将 Boundary 与微软 Azure Active Directory(被称为 Azure AD)集成。Kent 表示，这种合作关系是 HashiCorp 更大计划的一部分，旨在将相同的零信任方法引入开发人员和工程师如何跨各种云平台连接应用程序。

“这与当前状态、疫情和远程工作非常相关，”他说。“这就是安全远程访问的概念。如何通过这种自动化程度高、易于使用的工作流程安全地远程访问数据？”

肯特说，在哈希公司，零信任“是我们一直认为应该确保安全的方式”。“凭据位置和机密管理是零信任的基础构件，从根本上说，这是我们的本质。现在，我们看到围绕这种方法是正确方法的共识开始形成。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>