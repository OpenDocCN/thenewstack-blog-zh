# DevOps 使用自动化流程编排克服可扩展性挑战的 7 种方式

> 原文：<https://thenewstack.io/7-ways-devops-can-overcome-scalability-challenges-using-automated-orchestration/>

[](https://www.dynatrace.com/)

 [安德里亚斯·格拉布纳

安德里亚斯是 Dynatrace 的 DevOps 活动家。他拥有 20 多年的软件开发、测试和架构师经验，是高性能云操作的倡导者。作为 DevOps 计划的倡导者，Andreas 致力于帮助开发人员、测试人员和运营团队利用 Dynatrace 的软件智能平台提高工作效率。](https://www.dynatrace.com/) [](https://www.dynatrace.com/)

软件交付正趋向于在软件交付管道的所有阶段应用 DevOps 原则的自助服务平台模型。根据 Puppet [2020 年开发运营状况报告](https://puppet.com/resources/report/2020-state-of-devops-report/)，该模型涵盖私有云和云基础架构以及开发环境，并包含监控、警报、审计日志记录以及持续、渐进的交付。这种自助式平台方法有利于 DevOps 实践和基于容器化 Kubernetes 的架构，旨在帮助 DevOps 团队更高效地开发和发布高质量、安全的软件，使他们能够为其组织推动新的创新和商业价值。

然而，我从开发人员、工程师和运营团队那里听到的往往是相反的情况。许多团队正在努力发布更好的软件，加速创新的步伐，并在他们的组织中扩展连续交付实践。DevOps *应该*走向的趋势线经常与许多 DevOps 团队经历的日常现实不符。

## **是什么导致了 DevOps 的这种脱节？**

上面引用的 DevOps 傀儡状态报告和我自己公司进行的 DevOps 用户调查都揭示了团队在 DevOps 采用和可伸缩性方面面临的一些主要挑战:

*   每一次失败的部署都需要大约**五个小时**的“英雄”来修复，以及**六次重试**来恢复正常。
*   大约 95%的管道工程时间用于维护复杂的管道。
*   大约 80%的管道交付时间花费在人工质量验证上。
*   大约 **90%的故障排除时间**花费在人工生产补救上。

为什么会这样？为什么部署会耗费如此多的时间和资源？为什么如此多的组织无法释放 DevOps 的真正潜力，以更快地开发更好、更安全的软件？

为了回答这些问题，我确定了一些阻碍整个组织采用 DevOps 和可伸缩性的关键因素。我还概述了这些因素如何成为 DevOps 资源和生产力的拖累，以及组织如何通过数据驱动的交付和运营协调来克服这些挑战。

## **减缓开发运维采用和可扩展性的 7 大瓶颈**

1.  **缺乏对多云的可观察性:**对混合云和多云环境的有限访问和可见性掩盖了 DevOps 采用的真实状况。对您的环境的可观察性越低，就越难以在组织内成熟和自动化开发运维实践。因此，某些“灯塔项目”的成功故事描绘了一幅比真实情况更加乐观的画面。
2.  **对遗留工具的依赖:**微服务有着不同于单一应用的需求，然而许多团队继续使用相同的遗留工具进行交付。
3.  **对遗留过程的依赖**:类似地，并不是所有的微服务都是平等的，但是组织经常全面应用顺序的、瀑布式的开发过程，就好像它们是平等的一样。
4.  **紧密耦合的架构:**某些组织结构和流程(例如，筒仓)导致紧密的架构耦合和相互依赖的系统，使得在内部扩展开发运维更加困难。
5.  **定制**:缺少集成标准导致大量定制的、手动密集型工具集成。
6.  **缺少标准**:缺少验证标准导致团队手工做出“直觉”决定。
7.  **缺乏自动化**:对自动化交付的过度关注忽略了对自动化运营的需求。

## **devo PS 需要的是自助服务、数据驱动的交付和运营协调**

这些瓶颈背后缺少的元素是端到端的可观察性、自动化和人工智能，以推动数据驱动的交付和编排。这些需求激发了一个名为 [Keptn](https://thenewstack.io/how-keptn-automatically-configures-prometheus-ecosystems/) 的新开源项目的开发:一个[云本地计算基金会](https://cncf.io/?utm_content=inline-mention) (CNCF)沙盒项目，提供微服务的自助式渐进交付、自动化的基于标准的质量关口、持续的反馈以及生产问题的自动补救。

Keptn 使用数据驱动的声明式编程方法进行编排，消除了将流程放入脚本的需要。基于 GitOps、服务水平目标(SLO)和开源互操作性标准(例如用于与工具通信的 CloudEvents)，Keptn 使开发人员、运营人员和站点可靠性工程师能够识别他们的瓶颈并自动解决问题——从基于 SLO 和站点可靠性自动化的质量关，到连续交付和自动修复。

让我们将此应用于之前强调的一个问题:分配给管道工程的大约 95%的时间都花在了扩展流程、更改工具和在更新后应用修复上。这都是因为传统管道过于复杂，难以扩展。

这种情况下的解决方案是移除硬依赖和定制集成。通过将流程(例如构建、准备、部署、测试、通知、回滚)与工具和功能(例如配置、管理、部署、回滚、监控、测试和 ChatOps)分离，团队可以使用事件驱动的架构来连接这些流程和功能。Keptn 所基于的编排范例使得在整个组织中快速扩展和采用这些 DevOps 过程成为可能。

## 【Keptn 解决 DevOps 瓶颈的 7 种方法

以下是 Keptn 解决上述 DevOps 采用和可伸缩性挑战的七种方法:

1.  **专为多云打造** : Keptn 专为现代云原生堆栈和现有企业技术而设计。
2.  **灵活的工具编排**:它根据组织独特的堆栈和架构来编排所有工具，而不是使用相同的传统工具进行交付。
3.  **适应性强的流程**:它不会在所有微服务上应用相同的遗留流程，而是应用最适合的流程。
4.  **解耦架构**:Keptn 独立于底层基础设施运行流程，而不是紧密耦合的相互依赖关系。
5.  **与定制无关**:开放式集成标准确保了与所有 DevOps 工具的连接，没有供应商锁定条款。
6.  **清晰的标准**:使用标准化的 SLO 进行数据驱动的生命周期编排。
7.  **为自动化而构建**:针对以前专注于自动化交付而非运营的模型，Keptn 协调了两者。

DevOps 的目标是更快地发布更好更安全的软件。采用和扩展 DevOps 流程的瓶颈使太多的团队无法实现这种方法的全部优势，并限制了团队将其运营提升到下一个级别的能力。为了转变他们的工作方式，并促进更高效的协作、更快的创新和对业务的更积极影响，开发运维团队需要能够利用一个自适应的自助式平台模型来进行数据驱动的交付和运营协调(如 Keptn)，以扩展开发运维交付并推动整个组织的采用。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>