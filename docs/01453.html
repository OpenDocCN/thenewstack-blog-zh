<html>
<head>
<title>Microsoft Open Sources PowerShell, Ports the CLI to Linux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微软开源PowerShell，将CLI移植到Linux</h1>
<blockquote>原文：<a href="https://thenewstack.io/microsoft-open-sources-powershell-ports-cli-linux/#0001-01-01">https://thenewstack.io/microsoft-open-sources-powershell-ports-cli-linux/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">微软为管理员开放了Windows命令行shell，称为PowerShell，并将其移植到Linux和MacOS上。</p>
<p class="translated">“Linux上的PowerShell现在使客户能够使用同样的工具，同样的人，从任何地方管理一切，”微软技术研究员兼该公司企业云小组首席架构师杰弗里·斯诺弗在宣布发布的博客文章中写道。</p>
<p class="translated">像Bash for Unix/Linux一样，<a href="https://powershell.org/" class="ext-link" rel="external "> PowerShell </a>被设计成Windows Server的丰富命令行界面。它建在。Net框架，所以它享有一个<a href="https://www.microsoft.com/en-us/download/details.aspx?id=36389" class="ext-link" rel="external ">丰富的脚本环境</a>。</p>
<p class="translated">斯诺弗在随后的采访中告诉TNS，展望未来，PowerShell的新版本将同时面向Windows和Linux发布。“Linux将成为一个完全的一等公民，”他说。</p>
<p class="translated">这项工作是基于早期的和微软的移植。NET核心到Linux。代码可在<a href="https://github.com/PowerShell/PowerShell" class="ext-link" rel="external "> GitHub </a>上获得。这些软件包最初将适用于Ubuntu、CentOS、Red Hat Enterprise Linux和Mac OS X。该公司还移植了在Windows上运行的<a href="http://www.openssh.com/" class="ext-link" rel="external "> OpenSSH </a>，因此用户可以为PowerShell的所有用途部署一个单一的远程访问协议。</p>
<p class="translated">开放CLI源代码的动力来自客户，据斯诺弗称，他们来自那些希望在PowerShell上实现标准化的客户，但由于它不能在Linux上运行而受到限制。</p>
<p class="translated">PowerShell不仅可以提供Windows和Linux的接口，还可以通过模块的方式扩展到第三方平台。Amazon Web Services和VMware都有可用的PowerShell扩展，Google和Chef也正在开发它们。</p>
<p class="translated">“客户将能够编写一个脚本来管理VMware、Azure或AWS，并在Windows、MacOS或Linux上运行，无需修改，”斯诺弗说。</p>
<p class="translated">https://youtu.be/VsThrkdlKpE</p>
<h2 class="translated">反斜杠和区分大小写</h2>
<p class="translated"><span>微软最初<a href="https://blogs.msdn.microsoft.com/powershell/2007/03/18/monad-manifesto-the-origin-of-windows-powershell/" class="ext-link" rel="external ">开发</a> PowerShell时就考虑到了Unix。该公司希望为Windows提供一个强大的命令行界面(CLI ),就像Unix提供的许多shells一样，管理员可以用它来控制应用程序和脚本进程。</span></p>
<p class="translated">虽然开发团队(斯诺弗是其中的一员)想要模仿Unix，但他们采取了一种稍微不同的方法。Unix/Linux的部分强大之处在于，在命令行中，所有的操作都可以被编写成脚本，并在一个操作管道中绑定在一起。</p>
<p class="translated">斯诺弗说，Unix管道是围绕文本字符串构建的，而PowerShell则更多地针对对象进行了优化。斯诺弗承认，当前的开发团队仍有一些工作要做，以达到基于文本流的处理的完全保真，以及其他高级Unix shell方法，如<a href="http://www.tldp.org/LDP/abs/html/globbingref.html" class="ext-link" rel="external "> globbing </a>，这是一种文件名扩展的形式。</p>
<p class="translated">另一方面，PowerShell基于对象的方法可能会带来一些Bash没有的优势(3月份，微软<a href="https://thenewstack.io/microsoft-plants-bash-windows-freaks-everyone/" class="local-link">将</a> Bash嵌入Windows)。“我们的亮点在于结构化数据，”斯诺弗说。</p>
<p class="translated">斯诺弗说，出于自动化的目的，管理界正在从文本流处理转向读取配置文件等任务，并转向表面结构化对象，如REST APIs。</p>
<p class="translated">“调用一个REST API，得到的是一个JSON文件。我们将它们转换成结构化的对象，”他补充道。</p>
<p class="translated">当然，Windows管理员必须适应Linux的某些方面，尤其是区分大小写，Unix尊重这一点，而Windows不尊重。此外，Unix和Windows处理斜线以区分文件路径的方式也有所不同:Unix使用正斜线，Windows使用反斜线。斯诺弗说，那些对编写跨平台脚本感兴趣的人仍然必须考虑这些差异。</p>
<p class="translated">该公司还增加了许多新功能，以帮助交叉兼容性。一个是PowerShell编辑器服务，它为外部代码编辑器提供了编辑PowerShell文件的钩子，并支持<a href="https://msdn.microsoft.com/en-us/library/hcw1s69b.aspx" class="ext-link" rel="external ">智能感知</a>和其他调试工具。最初，<a href="https://code.visualstudio.com/" class="ext-link" rel="external "> VS Code </a>和<a href="https://www.sublimetext.com/" class="ext-link" rel="external "> Sublime </a>是为PowerShell配备的，以后还会有更多的编辑器。</p>
<p class="translated">该公司还内置了对PowerShell的OpenSSH支持，允许用户使用PowerShell Remoting协议(<a href="https://msdn.microsoft.com/en-us/library/dd357801.aspx" class="ext-link" rel="external "> MS-PSRP </a>)通过SSH进入远程PowerShell环境。实际上，微软已经将OpenSSH移植到了Windows上。用户还可以部署现有的<a href="https://msdn.microsoft.com/en-us/library/aa384426(v=vs.85).aspx" class="ext-link" rel="external "> Windows远程管理支持</a>。</p>
<p class="translated">https://youtu.be/Mx1bgIjO8SM</p>
<h2 class="translated">管理所有的事情</h2>
<p class="translated">虽然将CLI扩展到其他平台似乎是一个令人愉快的特性，但这一举动可能会产生强大的反响。斯诺弗说，在Linux和Windows上运行的PowerShell现在可以“为所有需要管理的东西提供一个通用的管理堆栈”。</p>
<p class="translated">例如，它可用于启动VMware虚拟机，在部署时对其进行配置。PowerShell VMware模块包含用户可以在vCenter中执行的每个操作的命令。</p>
<p class="translated">https://youtu.be/kh5nTvELwfo</p>
<p class="translated">PowerShell是使用微软的<a href="https://msdn.microsoft.com/en-us/powershell/dsc/overview" class="ext-link" rel="external ">期望状态配置</a> (DSC)的关键，该公司的IT自动化脚本语言可用于配置和管理资源。PowerShell还为该公司的云管理服务提供了一个接口，<a href="https://thenewstack.io/microsofts-jeremy-winter-qa-automation-new-visualization/" class="local-link">运营管理套件</a> (OMS)，该套件提供了Azure和其他云之间工作负载的可见性和控制。实际上，这允许用户从命令行管理他们的云资源。</p>
<p class="translated">https://youtu.be/O–d_F5A7aA</p>
<p class="translated">OMS还提供了一个集中的位置来管理PowerShell操作手册、DSC配置和DSC节点配置。</p>
<p class="translated">IDC软件开发研究项目主管<a href="https://twitter.com/AlHilwa" class="ext-link" rel="external ">阿尔·希尔瓦</a>在一封电子邮件中写道:“我认为，在继续巩固PowerShell的成功和普及的基础上，这对微软来说是正确的事实上，可以说，很难为任何至少部分针对开发者的专有技术进一步建立生态系统和社区。是时候让[PowerShell]在Linux系统上可用了，Linux系统占了今天运行在云中的大部分内容。"</p>
<p class="attribution translated">特写图片由<a href="https://commons.wikimedia.org/wiki/File:Troy_(and_a_trojan_horse)_(8709942456).jpg" class="ext-image" rel="external "> Jorge Lascar </a>，CC BY 2.0。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>