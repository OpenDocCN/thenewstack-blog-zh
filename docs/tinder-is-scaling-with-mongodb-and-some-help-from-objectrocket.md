# 在 MongoDB 和 ObjectRocket 的帮助下，Tinder 正在升级

> 原文：<https://thenewstack.io/tinder-is-scaling-with-mongodb-and-some-help-from-objectrocket/>

Tinder 是一家公司外包一些最复杂的数据库管理的例子，以专注于产品和它最了解的东西:通过地理定位进行匹配。这是一个例子，说明即使是最复杂的互联网规模的公司也需要专业知识来管理支持其服务的数据库。在扩展时尤其如此，性能开始变得与产品本身同等重要，甚至更加重要。

Tinder 不同于许多应用程序，Tinder 的首席技术官 Ryan Ogle 在旧金山艺术宫举行的 Rackspace::Solve week 上说。他们希望人们离开应用程序，去认识其他人。理解 Tinder 和它所提供的东西是一件有趣的事情。但是最后，如果人们见面了，他们会告诉他们的朋友。成功了:Tinder 正在扩大。他们最近增加了 [Tinder Plus](http://www.gotinder.com/blog/plus) ，为那些想通过 Tinder 服务寻找熟人的人提供“护照功能”。Tinder 从三个开发者开始。然后他们开始雇佣有 DevOps 和移动应用开发经验的人。他们现在有 35 名开发人员，并希望到 2015 年底拥有 75 名员工。

如今，该公司每天进行 17 亿次评级(用户对其他用户进行评级)，相当于 2500 万次匹配。他们每周安装 100 万个应用程序。

为了向前发展，该公司需要其应用程序表现良好。为了扩大规模，公司需要横向扩展。Tinder 不得不将重心从产品转移到扩展服务上。

这就是 ObjectRocket 的切入点。ObjectRocket 是 Rackspace 服务，帮助公司管理 MongoDB 和 Redis 环境。

ObjectRocket 的创始人之一克里斯·拉隆德(Chris Lalonde)创建了自己的品酒应用。他这样做是为了好玩。它工作了，但是他在使用云服务时丢失了数据库。他煞费苦心地开始重建数据库。

> 但是后来他意识到——为什么不用推特呢？

对于 Twitter，这意味着该服务只能向用户推送 140 个字符或更少的消息。但是 Twitter 背后的数据库是稳固的。后来，在波士顿布鲁因斯的一场比赛中，当他和一个朋友在一起时，他想到了他们如何开发一个非常简单的也可以扩展的数据库服务。拉隆德曾在易贝工作，当时该公司正把服务器从卡车上卸下来，放在机架上点亮，几乎立刻就能看到它们因数据负载而满负荷工作。

但是在易贝，公司有时间优势，拉隆德说。易贝花了三年时间达到一百万用户。现在，服务可以在六个月内覆盖一百万用户。

> 拉隆德说:“我知道十几个创业公司是靠自己的成功而失败的。“这些问题只会越来越严重。”

拉隆德与埃里克·毕比和肯尼·戈尔曼共同创立了这家公司。Rackspace 大约两年前收购了 ObjectRocket，并使其成为其数据服务集团的一部分，该集团帮助 Tinder 等公司扩大规模。

Tinder 的问题让人们想起了 Battery Ventures 的阿德里安科克罗夫特(Adrian Schmidt)谈到的气球类比。挤压气球，空气就会被推向另一部分。对于最终用户和开发人员来说，追求应用程序的简单性也是如此。复杂性转移到分布式基础设施和管理它的人身上，因此它是快速、无缝的，并且表现良好。这需要公司通常不具备的技能。对于 Tinder 这样的公司来说确实如此。

Tinder 与 ObjectRocket 合作，扩展并成长为今天的应用程序。NoSQL 数据库 MongoDB 从第一天起就已经是这个架构的一部分。Ogle 说，Mongo 设置起来很简单。它只是工作。但是工作是一回事，在生产环境中工作完全是另一回事。他们知道如何使用它，但是使用和维护它是两码事。Tinder 需要帮助。他们雇佣了 ObjectRocket 来帮助 MongoDB 上的性能。今天，ObjectRocket 托管了 MongoDB 数据库，比如匹配人的数据库。他们通过亚马逊网络服务连接到数据库。他们用原生驱动运行 Node.js，并用它连接到 ObjectRocket。在某个时候，由于成本等原因，Tinder 将不得不离开云。ObjectRocket 提供内部部署服务，他们希望如果有一天到来的话，这些服务能够缓解这种转变。

Object Rocket 还帮助 Tinder 找到了最好的数据库管理员(DBA)，这在这个世界上是很难做到的。Ogle 说，Mongo 原型很容易，但是扩展和维护它相当复杂。

复杂的不仅仅是 Mongo。分布式架构通常难以管理和扩展。没有正确规划扩展的公司所遭受的痛苦有无数的例子。对于像 Tinder 这样的大型企业运营和精明的初创公司来说都是如此。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>