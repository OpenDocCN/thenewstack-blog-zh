# 无服务器与容器在安全性、管理方面的主要区别

> 原文：<https://thenewstack.io/key-differences-in-security-management-for-serverless-vs-containers/>

[无服务器](https://thenewstack.io/category/serverless/)功能和容器是当今 IT 界最热门的两个话题。它们也是两种有很多共同点的技术——毕竟，两者都是在隔离的离散环境中部署代码的方法。它们绝不是完全相同的技术，但在理论上，它们以相似的方式工作。

然而。

关于最佳实践和[安全管理](https://thenewstack.io/category/security/)以及它们在无服务器和容器之间的区别，存在很多困惑。在要考虑的问题中，当处理无服务器功能而不是容器时，您必须决定如何改变您的架构策略。

本文通过比较和对比无服务器和容器来回答这些问题。我们将概述这两种技术的共同点，并解释无服务器和容器化工作负载的部署、管理和安全策略的比较。

## 什么是无服务器和容器，它们有什么共同点？

 [索尼娅·科普季耶夫

Sonya 是 Twistlock 的福音传道部主任。自 SharePoint 和. NET 早期以来，她一直在推动各种开发技术的社区工作。Sonya 致力于建立 Office 开发人员社区和 Microsoft AI 开发人员社区，并将最新的前沿技术带到开发人员手中。作为 Twistlock 的一部分，Sonya 希望将安全的云原生开发带到每个开发人员的手中，确保他们能够以安全的方式充分利用最好的云原生技术。](https://www.paloaltonetworks.com/prisma/cloud) 

关于[无服务器](https://www.twistlock.com/serverless-security/)计算和容器的详细定义超出了本文的范围。但是这里有一些简单的定义:

1.  无服务器计算指的是按需执行代码的架构。无服务器工作负载通常位于云中，但是[内部无服务器](https://www.twistlock.com/2019/03/19/when-on-premise-serverless-beats-the-cloud/)平台也存在；
2.  容器为承载应用程序或应用程序的一部分提供了可移植的环境。今天最常见的容器平台是 Docker，尽管容器化的概念可以追溯到 20 世纪 70 年代末对 Unix 的 chroot 调用。

虽然无服务器功能和容器是为满足不同的需求而设计的，并且使用不同的工具进行部署，但它们有许多共同点:

*   它们允许您部署有限的代码，因此非常适合微服务架构；
*   它们很容易跨分布式体系结构部署。出于这个原因，您通常会看到它们被用于云中；
*   无服务器功能和容器启动相当快(通常在几秒钟内)；
*   两者都严重依赖 API 来协调它们与外部资源的集成；
*   两者通常都没有内置的持久存储；相反，他们依赖外部资源来满足持续的存储需求；
*   它们经常被用来构建不可变的基础设施(尽管，严格地说，并不是所有的无服务器或容器化的架构都是不可变的)。

这个列表还可以继续下去，但是这些是容器和无服务器功能共有的基本特征。

## 管理和保护无服务器与容器

鉴于上面描述的相似性，您可能认为用于管理和保护无服务器功能的策略也可以用于容器。在某种程度上，你是对的。

以下是适用于容器和无服务器功能的软件管理和安全策略的关键组件:

*   动态基线。在容器化环境和无服务器环境中，都没有“正常”这回事。相反，在给定时间运行的容器或无服务器功能的数量以及它们之间的通信水平不断波动。这就是为什么利用支持动态基线的监控和安全工具至关重要，这意味着它们可以自动调整以识别异常行为，即使在不断变化的环境中也是如此；
*   第三方依赖管理。容器和无服务器函数在运行时导入第三方代码是很常见的。因此，在这两种情况下，管理和保护来自上游源代码的代码是至关重要的。这意味着知道代码来自哪里，并尽早意识到与之相关的任何稳定性或安全性问题，以便您可以在问题产生之前解决问题；
*   门禁。尽管无服务器功能和容器运行在彼此相对隔离以及与主机服务器相对隔离的环境中，但这种隔离并不是绝对的。遇到性能问题或安全漏洞的无服务器功能或容器可能会以不良方式影响其他资源。这就是为什么利用[访问控制](https://www.twistlock.com/platform/access-control/)系统来锁定函数和容器可以访问的资源是至关重要的。例如，您不希望无服务器功能或容器内部的编码缺陷或安全漏洞导致大量消耗云资源，或者使另一个容器或服务器崩溃。；
*   [API 测试](https://thenewstack.io/beyond-api-security-testing-runtime-protection/)和安全性。因为 API 在容器和无服务器环境中都非常重要，所以测试和保护 API 对于这两种环境都至关重要。

然而，在其他方面，无服务器和容器需要完全不同的管理和安全技术:

*   管理和保护主机环境。有了无服务器，最终用户就不需要担心运行其功能的主机服务器和操作系统(或者通常对其有很大的控制权)。(这也是为什么叫无服务器，毕竟。)相比之下，当您使用容器时，确保您的容器本身、 [Docker 环境](https://thenewstack.io/how-to-install-docker-desktop-with-kubernetes-on-macos/)和主机操作系统的稳定和安全是至关重要的；
*   资源消耗。使用无服务器功能部署的工作负载类型往往会在短时间内消耗大量资源。从管理和安全的角度来看，这意味着如果您希望保持计算费用可控，避免不必要的资源消耗或无服务器功能的执行时间非常重要。效率对容器来说当然也很重要，但没那么重要，因为容器化的应用程序或服务通常被设计为运行更长的时间，它们可能不会持续消耗资源；
*   云框架。虽然在某些情况下，无服务器功能可以部署在内部，但在今天的大多数情况下，无服务器工作负载使用像 [AWS Lambda](https://thenewstack.io/aws-lambda-is-a-step-towards-creating-a-new-normal/) 或 Azure Functions 这样的服务在公共云中运行。这意味着可用于管理和保护这些功能的工具数量有限。您只能使用云供应商提供的工具(通常功能有限)，以及与您正在使用的云兼容的第三方工具。当您使用基于云的容器即服务平台时，容器可能会带来同样的挑战，但更常见的是在通用云基础设施或内部部署容器，在这些地方工具集兼容性的限制较少。

## 底线

简而言之，容器和无服务器在几个关键方面是相似的，你用来管理它们和保证它们安全的策略也应该是相似的。但是，在管理和保护无服务器或容器化工作负载的某些方面时，存在一些非常重要的差异，例如您对主机环境承担的责任范围以及您可以使用的工具。

在一个简单的世界中，您的容器和无服务器策略可能是相同的，但是在现实世界中，当您制定计划以保持无服务器功能和容器精简、有效和安全时，您必须考虑这些变化。

在本文中，我们只讨论了基础知识。访问 Twistlock 的资源页面，了解更多关于[集装箱安全](https://www.twistlock.com/container-security/)和[无服务器安全](https://www.twistlock.com/serverless-security/)的细节。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>