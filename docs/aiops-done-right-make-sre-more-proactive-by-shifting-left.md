# AIOps 做对了:通过左移让 SRE 更主动

> 原文：<https://thenewstack.io/aiops-done-right-make-sre-more-proactive-by-shifting-left/>

[](https://www.dynatrace.com/)

 [安德里亚斯·格拉布纳

安德里亚斯是 Dynatrace 的 DevOps 活动家。他拥有 20 多年的软件开发、测试和架构师经验，是高性能云操作的倡导者。作为 DevOps 计划的倡导者，Andreas 致力于帮助开发人员、测试人员和运营团队利用 Dynatrace 的软件智能平台提高工作效率。](https://www.dynatrace.com/) [](https://www.dynatrace.com/)

许多组织正转向 AIOps，希望更快地创建更好、更安全的软件。但是，创建健壮和快速的软件交付管道的能力经常受到需要在生产环境中手动排除和修复问题的阻碍。根据[傀儡 DevOps 报告](https://puppet.com/resources/report/2020-state-of-devops-report/)和 [Dynatrace 自主云调查](https://www.dynatrace.com/news/blog/how-your-peers-use-cloud-automation-to-innovate-faster-part-1/)，这仍然是 90%的组织正在采用的方法。

与此同时，这些调查还显示，组织预计在未来 12 个月内将生产部署的频率提高 10 倍。如果这些组织中的 90%继续依赖手动故障排除、补救和根本原因分析，这几乎肯定会失败。

组织已经开始挖掘 AIOps 的潜力，以减少这种水平的手动工作，并提供更快的自动化解决方案，以更精确地了解其应用程序、微服务和基础架构的性能和安全性。然而，并非所有的 AIOps 解决方案都是相同的。旧的“第 1 代”解决方案——试图在独立的、不连续的数据源中发现模式的解决方案——在更快地创建更好的软件方面没有它们能够或应该达到的效率或效果。

在这篇文章中，以及我将在本月晚些时候发布的一篇附带文章中，我将描述“以正确的方式”部署 AIOps 的情况，以确保您从您的 AIOps 解决方案中获得最大价值，并确定旧的迭代可能已经出错的地方。首先，我将分析为什么第一代 AIOps 解决方案没有提供这种价值，然后概述几个 AIOps 如何做得最好的例子，从将 AIOps 左移以创建更多的“测试驱动的操作”开始。

## **为什么第 1 代 AIOps 解决方案不尽人意**

第一波 AIOps 解决方案通过获取数据(包括日志、指标和跟踪)并分析这些数据的相关性来解释技术问题或用户行为变化的根本原因，从而提供了可观察性。当时，IT 团队可以计算每年发生多少次与生产工作负载相关的部署和配置挑战，因此 AIOps 的这种使用对于相对较少的这些挑战来说效果很好。由于变更频率如此之低且可预测，ITOps 团队更容易管理维护窗口，并将停机时间和平均修复时间(MTTR)降至最低。

但这并不是数字团队今天生活的环境。现在，生产部署以天计算，而不是以年计算。多云环境变得越来越动态化和容器化。大多数新的应用程序架构利用微服务，这些微服务作为容器部署在多集群、多云环境中，这使得跟踪变化和找到根本原因变得更加困难。

团队正在向[渐进交付模型](https://devopsinstitute.com/progressive-delivery/)转移，用于部署(蓝/绿、淡黄色、特征标志)，在这种模型中，不是替换整个系统，而是在渐进的基础上升级单个服务并用新的迭代替换。环境变化太快，基于相关性的机器学习算法无法建立正常的基线。此外，由于应用程序、基础架构、容器和微服务之间潜在的数百万或数十亿的依赖性，将日志、指标和跟踪关联起来以得出结论变得更加困难。涉及的服务太多了。

随着动态多云环境推动交付和运营方面的新变化，AIOps 必须相应地适应开发运维团队和站点可靠性工程师(SREs ),以最大化他们和他们的组织能够从中获得的价值。换句话说，团队需要确保他们以正确的方式进行 AIOps。

## **流程和平台之间更紧密的集成**

一种更动态、更全面的 AIOps 方法不仅仅是简单地更新您的 AIOps 工具。这意味着将 AIOps 解决方案集成到一切中——开发流程、测试、开发运维以及 SRE 实践——并将其嵌入到您的内部平台中。弥合您的 AIOps 解决方案与您的内部平台和流程之间的差距，使 AIOps 能够准确、自动地吸收和了解 CI/CD 管道中发生的有意和无意的行为变化。

ITOps 团队越是能够利用 AIOps 作为[混沌工程](https://principlesofchaos.org/)的一部分，这些解决方案在异常检测方面就越是经得起考验和验证。这种验证让团队对其 AIOps 解决方案在生产环境中自动修复问题的能力充满信心。如果它可以在混乱的情况下处理自己，它的自动化异常检测可以在任何情况下提供快速、准确的答案，以及补救措施来支持它们。

## **创建更主动的‘测试驱动的操作’**

sre 使用服务级别目标(SLO)来验证和跟踪系统在不同工作负载或条件下的生产行为，并编写自动补救脚本来进行必要的调整，以保持可用性和一致的数字体验。但这是一个被动的位置，因此工程师通常只在用户遇到问题并且他们的数字体验受到损害后才部署自动补救代码。

将 AIOps 左移可以实现更主动的方法，即在恢复能力和自动补救脚本投入生产之前对其进行测试。一种方法是:工程师可以使用 [Keptn](https://thenewstack.io/7-ways-devops-can-overcome-scalability-challenges-using-automated-orchestration/) ，一个开源的 CNCF 项目，来编排一个由 AIOps 解决方案监控的预生产环境，用于加载测试，注入混乱和验证自动修复脚本。这是“左移”部分:通过将 AIOps 解决方案集成到这个“测试驱动的操作”环境中，您验证了 AIOps 在出现问题时触发自动修复脚本的能力。工程师不必在用户遇到问题后编写和部署自动修复代码，AIOps 工具可以立即主动部署修复程序，因为它已经提前针对这些场景进行了实战测试。

在我的下一篇文章中，我将深入研究工程师如何以正确的方式利用 AIOps 的几个例子，但这个用例应该有望开始强调 AIOps 如何在正确的情况下帮助确保生产中的健康系统。正如测试驱动的开发流程帮助开发人员创建更高质量的代码一样，测试驱动的运营将帮助工程师为用户维护更稳定的生产系统和更一致的数字体验，进而为整个组织创造更多价值。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>