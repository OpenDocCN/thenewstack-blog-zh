# 云计算时代 CI/CD 的转变

> 原文：<https://thenewstack.io/the-shifting-nature-of-ci-cd-in-the-age-of-cloud-native-computing/>

[CloudBees](https://www.cloudbees.com/) 赞助了这个故事，作为正在进行的“**云原生 DevOps”系列的一部分。**“查看本月的后续版本。

一直以来，云的概念都是抽象的。将存储转移到云中不仅意味着您不能指向存储数据的物理驱动器，而且理论上可用的存储是无限的，可以按需使用。同样，将计算转移到云意味着您的处理能力可以成倍增加，而无需采购和配置物理服务器。

与此同时，虽然向云的迁移解决了一些问题，但其他问题也不可避免地取而代之。现在，随着向云原生技术的迁移，我们再次看到了一个新的抽象级别，以前为非云场景保留的技术正在向云迁移，并体验随之而来的增强的功能和复杂性。从本质上来说，迁移到云原生 DevOps 意味着又一次转型和一系列新想法的引入。在实践中，这意味着新的工具和工作流程，这种转变具有广泛的影响。

然而，向“原生云”的迁移是过去十年中向“云”迁移的更深层次的分裂。虽然虚拟机基本上是抽象的服务器，运行起来就像服务器一样，拥有完整的环境，通常还有完整的应用程序，但微服务已经出现，将虚拟机分解为更小的组件。如今，一个应用可能包含数十个、数百个甚至数千个微服务，每个微服务执行自己的任务，部署这样的应用带来了新的优势和挑战。

## 定义原生云

根据云原生计算基金会(CNCF) [的定义](https://github.com/cncf/toc/blob/master/DEFINITION.md),“云原生”是一种范式，其中组织“在现代的动态环境中，如公共云、私有云和混合云，构建和运行可扩展的应用程序”，并以“容器、服务网格、微服务、不可变基础设施和声明性 API”等工具为例

CI/CD automation engine[cloud bees](https://www.cloudbees.com/)的 DevOps 布道者 Brian Dawson 解释说，云原生涉及一个完整的频谱转移。

Dawson 说:“不仅应用程序被部署到云中，而且它们是在云中构建、测试和部署的，驱动该工作流的工具也倾向于基于云，而不是传统的内部解决方案。“为了完全接受云原生开发，开发人员和组织必须采用以云为中心的工具，并开发新的肌肉来使用这些工具。”

虽然向“云”的转移是这两个定义的核心，但云原生 CI/CD 平台 Codefresh 的首席技术传道者 Dan Garfield 警告说，就“云原生”而言，工具本身及其使用意图比位置更重要

“一个常见的误解是‘云本地’意味着‘在云上’这可能有点用词不当。加菲尔德说:“许多组织都有‘内部’数据中心，使用 Docker、Kubernetes、Helm、Istio、Serverless 和其他云技术。原生云更多的是对应用程序定义和架构外观的想法，而不是对这些服务在哪里运行的描述。"

不要太纠结于定义，但它们对于理解向云原生技术的转变如何影响 CI/CD 至关重要，CI/CD 是云原生开发运维不可或缺的组成部分。

## 速度更快，复杂性更高

Garfield 解释说，在 CI/CD 上迁移到完全云原生策略的第一个影响是，从处理单一应用程序到更加多元化的微服务，复杂性增加了。

“云原生对 CI/CD 的影响是深远的。随着工程团队采用微服务，他们需要的管道数量呈指数级增长，”Garfield 说。“现在，他们不再需要支持单个整体的发布过程，而是需要支持几十个微服务的发布过程。”

根据 [New Relic](https://newrelic.com/) 的解决方案战略总监 [Ravi Tharisayi](https://www.linkedin.com/in/rthar/) 的说法，向云原生的转变可能是一把双刃剑，必须调整您的持续集成和持续部署(CI/CD)工具和实践才能跟上步伐。

“总体而言，云原生在速度和规模方面提供了机会，但也增加了复杂性。整个堆栈的界限越来越模糊，有更多的依赖和更多的层，”Tharisayi 说。“随着云原生方法的发展，CI/CD 实践必须随着速度的提高而发展，以保持稳定性。因为如果没有正确的护栏，就像把火箭船绑在卡丁车上一样。这不是一个非常有趣的旅程。”

提高速度的一种方法是提高自动化程度，Tharisayi 指出这对于云原生 CI/CD 至关重要。

“尽可能自动化的仪器文化对于确保高功能的 CI/CD 管道至关重要，”Tharisayi 说。“鉴于云原生环境的复杂性，试验成为您的 CI/CD 渠道必须具备的核心能力。无论是金丝雀部署、A/B 测试、蓝绿色部署还是这些部署的组合，正确的部署策略都可以帮助测试 velocity 的新功能，从而改善客户体验。”

## **云原生自动化转移责任**

Codefresh 的 Dan Garfield 解释说，自动化程度的提高不仅意味着部署速度的提高，还意味着通过 [GitOps](https://www.weave.works/blog/gitops-operations-by-pull-request) 为自动化做出贡献的开发人员的角色扩大了。

“云原生应用普遍将配置放入代码中，这使得应用程序如何运行比以前更接近应用程序开发人员，”Garfield 说。“在过去，运营部门会非常担心应用程序如何运行以及如何部署。云原生的一个副作用是，开发人员对他们的应用程序如何运行以及如何部署承担了更多责任。”

Brian Dawson 进一步将开发人员角色的扩展描述为“无操作”方法的一部分。

Dawson 说:“云原生应用是为(并鼓励)敏捷/DevOps 团队而构建的，这意味着云原生生命周期非常强调以开发人员为中心的‘全栈’无操作方法，将传统的孤岛功能合并到一个较短的自动化生命周期中。

## **devo PS 的扩展频谱**

最后，Tharisayi 解释说，向云原生 DevOps 的迁移就像任何技术采用一样，是沿着一个频谱发生的，并且是持续不断的。

“开发运维的本质应该使团队能够合理地采用新技术，从而帮助提高工程速度和客户价值。因此，从这个意义上来说，您的 DevOps 工作永远不会“完成”,而是不断发展以利用新的机会，包括新技术的使用。因此，DevOps 团队对云原生方法的欢迎和采用在许多方面都代表了这种精神的延续，而不是重置，”Tharisayi 说。“人们倾向于将迁移到云或采用 CI/CD 作为某种最终状态，但事实是永远不会有最终状态。技术的发展速度如此之快，以至于 DevOps 团队不断面临评估新方法以保持竞争力的挑战，并且必须发展快速适应的核心能力，包括流程和技术方面。”

云计算原生计算基金会是新堆栈的赞助商。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>