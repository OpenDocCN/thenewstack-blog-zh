# 微服务改变了开发运维—为什么安全性是下一个目标

> 原文：<https://thenewstack.io/microservices-transformed-devops-why-security-is-next/>

[](https://www.linkedin.com/in/timhinrichs/)

 [蒂姆·辛里奇

蒂姆·辛里奇是开放政策代理项目的联合创始人，也是 Styra 的 CTO。在此之前，他共同创立了 OpenStack Congress 项目，并且是 VMware 的一名软件工程师。Tim 花了 18 年时间为不同领域开发声明性语言，例如云计算、软件定义的网络、配置管理、web 安全和访问控制。他于 2008 年获得斯坦福大学计算机科学博士学位。](https://www.linkedin.com/in/timhinrichs/) [](https://www.linkedin.com/in/timhinrichs/)

微服务从根本上改变了我们构建现代应用的方式。在微服务出现之前，工程师有少量的大块代码组成他们的应用程序。许多应用程序是一整块代码，有些可能被分成前端、后端和数据库。因此，当一个团队需要更新或修补他们的代码时，他们必须慢慢来，非常小心，因为对任何部分的任何更改都会影响他们应用程序的其他部分。

相比之下，微服务将同一个应用程序分解成数十个或数百个小的独立软件，这些软件处理不同的功能，并通过独立的 API 协同工作。基于微服务的方法使团队能够单独更新这些单独的软件，而不必接触应用程序的每个部分。

开发团队可以更快地移动，软件更新可以更频繁地发生，因为版本更小了。这种应用程序构建和更新方式的转变产生了第二个运动/变化:软件团队如何运作和工作。在现代环境中，软件团队负责处理应用程序中某个功能的较小的代码片段。例如，假设一家比萨公司有一个团队(团队 1)专门负责订购软件，另一个团队(团队 2)负责客户交付的跟踪功能。如果订购功能有更新，它不应该影响团队 2 正在做的工作。基于微服务的架构不仅改变了软件的创建方式，也改变了团队互动和合作的方式。

## **心态的转变**

随着微服务越来越多地被采用，并成为构建现代应用的实际方法，合规和安全团队的运营方式也需要类似的转变。尽管基于服务的体系结构提供了优势，但现代应用程序的复杂性带来了新的风险和挑战。现代应用程序的复杂性——由多个微服务组成，存放在容器中——以及运行这些应用程序的 Kubernetes 等平台的动态性。从云开始，一切都以“代码”的形式交付，并通过软件开发生命周期进行管理。这对开发人员来说是理想的，因为这符合他们的工作文化，新的异步工具和过程加强了这种文化，使他们能够在团队之间更加有效和协作。当然，这些新的 DevOps 过程和相关工具还没有被组织中的其他团队使用；例如，安全团队不能在相同的新文化、工具或流程中工作。

对于几十年来一直在内部安全运行应用程序的组织来说，这一挑战尤为突出。举个极端的例子:当一切都在本地时，如果出现安全漏洞，IT 可以在必要时物理隔离受影响的系统。更有可能的是，他们会登录到特定的系统(防火墙、交换机、代理、反恶意软件或主机本身)并进行更改，以最小化爆炸半径并消除威胁。这不仅仅是断开网络电缆，但它仍然是在物理系统上完成的工作，通过专门为安全团队构建的接口公开。

然而，在一个现代的突破口，范式是不同的。一切都是“短暂的”，可以在几秒钟内被取代。系统通过基于软件的规则连接，图形界面越来越少。这是一个重大的范式转变，可以理解安全团队最初会对这个想法感到不舒服。然而，随着安全和合规团队对云原生技术和安全工具的了解越来越多，我们将开始看到思维模式的转变。随着这一转变，安全团队可以转向近乎即时的补救、修补和威胁隔离/消除，就像开发人员更新功能代码一样。由于每天都有多次代码推送和短暂的服务，攻击面可能会扩大，但威胁窗口会显著缩小，从而改善整体安全状况。好处是实实在在的，但就像所有事情一样，转变只是需要时间。

## **安全团队应该开始拥抱微服务**

合规和安全人员可以采取几个步骤来帮助他们踏上微服务之旅。而且，像云原生空间中的大多数东西一样，社区方法是最好的。他们需要供应商、监管机构、分析师、云提供商和最终用户/开发人员的帮助:

*   依靠现有的支持系统。云供应商在从他们平台上运行的无数部署中学习最佳实践方面做得很好。他们中的许多人都有高接触服务，他们将直接与团队合作，以确保从一开始就建立成功的架构、部署和安全性。他们也有大量的指南、演示、博客等来帮助安全架构师做出正确的选择，以满足特定的、不同的需求。利用已经经历过的人和团队的知识。
*   **要求现有的合规性供应商为云提供框架。**优秀的合规性供应商和合适的审计员将拥有最佳实践甚至公共框架(如 MITRE、CIS 基准测试等)方面的经验，他们已经将这些经验映射到云和软件定义的基础架构。向他们寻求帮助，如果他们没有答案，就去寻找有答案的。合规顾问应该能够就如何安全地实施云原生技术提供经过验证的建议，至少作为一个基准，以使部署更加清晰，并简化后续审计。
*   **关注开源社区。**开源和安全并不总是同一个话题的一部分，但今天它们携手并进。找到 Slack 社区、Discord boards 甚至 meetups 来参加，在那里最有创新和经验的云开发人员正在展示最佳实践——通常这些将围绕关键的开源项目及其社区。Envoy、Falco、SPIFFE/Spire 和 [Open Policy Agent](https://blog.styra.com/blog/what-is-open-policy-agent) 都拥有蓬勃发展的社区，并拥有成熟的安全实现。
*   **推动分析师获取更多信息。**几十年来，分析师社区在帮助选择和部署安全性方面发挥了巨大作用，但并不是每个公司都非常关注云原生和基于微服务的安全性研究。伸出手去看看现在有什么，但是在某些情况下不要羞于要求更多。分析师可以释放真正的价值，但前提是他们的客户将他们带到需要洞察力的领域——我们才刚刚开始对云迁移进行大量的研究。努力在值得信赖的公司中找到有合适经验的合适人选。他们在那里，需要支持和询问来证明他们的研究。

与过去任何其他巨大的应用技术转变相比，这种基于微服务的架构的下一次演变可能是基于社区的。好消息是，开发人员和开源团队已经铺平了道路，并建立了良好的文化和流程基础——这始终是任何业务转变中最重要的部分。最佳实践已经得到了很好的证明，其好处是显而易见的，并且先驱们已经完成了转变。现在所需要的是允许一点时间来学习、信任和实现一种新的安全应用方式。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>