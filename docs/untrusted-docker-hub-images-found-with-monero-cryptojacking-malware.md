# 发现带有 Monero 加密劫持恶意软件的不可信 Docker Hub 映像

> 原文：<https://thenewstack.io/untrusted-docker-hub-images-found-with-monero-cryptojacking-malware/>

帕洛阿尔托网络公司(Palo Alto Networks)[第 42 单元](https://unit42.paloaltonetworks.com/)的安全团队发现了六个集装箱，这些集装箱位于[码头枢纽](https://hub.docker.com/)上，一旦被实例化，就会被未知方激活以开采 [Monero](https://www.getmonero.org/) 加密货币。到目前为止，研究人员已经确定，这些图像的创作者已经利用不知情的受害者的计算机产生了至少价值 36，000 美元的 Monero 货币。

这六张图片是由账号“azurenql”创建的，已经被集体拉了 200 多万次。

在容器映像中隐藏秘密工作负载正成为越来越流行的攻击手段。“从攻击者的角度来看，这是非常低的开销, [Jen Miller-Osborn](https://twitter.com/jadefh?lang=en) 说道，他是 Unit 42 的威胁情报副主管。“他们所要做的就是设法把这些储存库放到网上，让它们看起来足够合法，人们就会下载它们。仅此而已。”

对于 Unit 42，非法图像的密报被发现在账户名称本身，这看起来像一个官方账户(在这种情况下显然来自微软 Azure)，但实际上是匿名种植的。人们认为这些是合法的图像，但他们持有隐藏的密码。

这些图像建立在 Ubuntu 16.04.6 LTS 的基础上，并且还安装了 [Tor](https://www.torproject.org/) 和 [ProxyChains-NG](https://github.com/rofl0r/proxychains-ng) 来路由匿名流量。图像上还植入了 [xmrig 采矿软件](https://github.com/xmrig/xmrig/releases)。使用钱包 ID 格式将开采的区块发送到中央 Monero 采矿池 [minexmr](https://minexmr.com/) 。Python 脚本 dao.py 启动了挖掘过程。

尽管挖掘软件使用主机的 CPU 来生成货币块，但是这种操作只有最小的开销，并且可能不会被管理员注意到。

[微软](https://www.microsoft.com/security/blog/2020/06/10/misconfigured-kubeflow-workloads-are-a-security-risk/)本月早些时候报告了它发现的一次类似攻击，这次涉及 Kubernetes 的机器学习工具包 Kubeflow，它为大量容器集群授粉。那次袭击还产生了 Monero 货币。

许多企业安全平台，如帕洛阿尔托自己的 [Prisma Cloud](https://www.paloaltonetworks.com/prisma/cloud) ，可以识别并阻止密码劫持，如果它被设置为警告管理员此类活动的话。管理员还可以防止这种活动，主要是通过确保图像仅从可信来源下载。米勒-奥斯本说:“人们在下载这些东西时真的需要小心，他们下载的是真实的东西，因为有各种各样的攻击者正在利用人们对此不够重视的情况。”。

如果 Tor 等程序在网络上没有合法用途，管理员也可以留意它们产生的活动。

Palo Alto Networks 是新堆栈的赞助商。

来自 Pixabay 的 Nardus70 的特征图像。

目前，新堆栈不允许直接在该网站上发表评论。我们邀请所有希望讨论故事的读者通过[推特](https://twitter.com/thenewstack)或[脸书](https://www.facebook.com/thenewstack/)访问我们。我们也欢迎您通过电子邮件发送新闻提示和反馈: [feedback@thenewstack.io](mailto:feedback@thenewstack.io) 。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>