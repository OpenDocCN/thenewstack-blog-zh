# 养猫:Kubernetes 的状态和数据无处不在

> 原文：<https://thenewstack.io/herding-cats-state-and-data-in-kubernetes-is-everywhere/>

企业的现状是什么？Kubernetes 和容器化环境是为在无状态机器上运行而构建的。但是现在，随着这种编排成为主流，团队希望将这种资源效率和可伸缩性应用到堆栈的其余部分。数据库和分析工作负载等状态环境。网络服务器和游戏网站。任何需要持久数据的地方。

但是怎么做呢？

新堆栈发布者 Alex Williams 与 NetApp 的技术营销工程师 Diane Patton、Diamanti 的营销副总裁 Jenny Fong 和 IDC 的分析师 Sriram Subramanian 坐在一起，了解 Kubernetes 如何发展成为有状态环境的首选基础架构层。

[放牧的猫——状态的状态](https://thenewstack.simplecast.com/episodes/herding-cats-the-state-of-state)

Patton 认为，当应用于任何需要持久数据的东西时，sure Kubernetes 是合乎逻辑的，但总是有变化的。

Patton 说:“在这种情况下，您可能希望在容器之外的某个外部位置维护该内容，以便能够访问该内容，如果该容器被重新部署，可能是在不同的节点上。

她指出 Kubernetes 可以成功地应用于有状态数据库:

1.  它们有一个稳定的主机名
2.  他们有有序的部署
3.  每个实例都有一个单独的卷

Fong 还认为，这完全是因为很少有应用程序不需要数据库，所以团队也希望从容器中获得有状态部分的好处是有道理的。

她说，“我们所说的不可变基础设施的好处随处可见。虽然开发微服务应用程序的开发人员可能是第一批真正认识到容器和 Kubernetes 强大功能的团队，但我认为现在每个人都明白这是多么有价值——能够基本上将您的应用程序定义为平面文件，并能够在您经历测试、开发、试运行到生产的过程中对其进行重新部署。”

Patton 回应说，Kubernetes 有能力拥有某个对象，该对象能够部署可以从前端应用程序进行交互的数据库。

Subramanian 从他认为 Kubernetes 根本不应该是有状态的时候开始转变过来。他现在承认了它的好处，因为他说，充分服务于企业客户的唯一方法是在整个企业堆栈中利用容器敏捷性。尽管他仍然不愿意说这种不变的基础设施是解决一切问题的答案。

Fong 也认为这还不是一个完美的组合。她说，随着越来越多的组织采用这种基于容器的基础设施，然后将其应用于有状态的应用程序，团队正在寻找一组数据服务，其级别与他们在较新的容器化环境中的虚拟化环境中习惯的级别相同。

这变得越来越复杂，因为这些云原生应用程序不需要依赖底层基础架构。这意味着他们不能再依赖基础架构来获得可用性、弹性和无故障容错能力。

Subramanian 说，这“给应用程序开发者增加了额外的负担。我们如何从失败中恢复？你需要记录什么？你需要监控什么？你需要追踪什么？这些事情需要额外的、更高水平的技术成熟度。”

他仍然看到不同成熟度的客户。他说，他们正在到达他们想要到达的最终环境，具有更新架构的更大潜力，但是他们仍然没有快速满足他们的期望。

Subramanian 说，在基础设施建立并运行之后，我们通常还需要澄清:

*   什么是云原生应用？
*   什么是 Kubernetes 平台，它有什么作用？
*   容器基础设施是做什么的？
*   对应用程序开发人员的期望是什么？

请收听这一集的新堆栈分析，了解我们的发展方向，以及我们应该如何在任何给定的情况下处理状态。

NetApp 和 Diamanti 是新堆栈的赞助商。

照片由 Unsplash 上的 Clément Falize 拍摄。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>