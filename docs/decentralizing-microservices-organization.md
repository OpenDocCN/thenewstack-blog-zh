# 分散您的微服务组织

> 原文：<https://thenewstack.io/decentralizing-microservices-organization/>

适应性——快速而轻松地改变的能力— [已经成为现代企业的主要目标](https://hbr.org/2011/07/adaptability-the-new-competitive-advantage),并给技术团队带来压力，要求他们构建更容易改变且成本更低的平台。在这样的环境中工作，这些团队越来越被软件架构的微服务风格所吸引。吸引他们的是加速软件变更的方法的承诺，而不会给业务带来不必要的危险。

微服务的工作方式在很大程度上是通过支持软件组件和数据的去中心化而成为可能的，更具体地说，是通过将“单片”元素分解成更小、更容易改变的部分，并将这些部分部署在网络上。要让这个架构很好地工作，需要改变工作的完成方式和[如何管理工作](https://martinfowler.com/articles/microservices.html#DecentralizedGovernance)。采用微服务的组织是一个“避开开发人员的方式”的组织，它提供了实现奇迹的自由和自主权。

 [罗尼·米特拉

Ronnie 是 CA Technologies 的 API 学院的设计总监。他是一名作家、演示者和设计师，特别关注软件和人之间的交流方式。他最近的出版物是合著的《微服务架构》一书，由 O'Reilly 出版。](http://www.apiacademy.co/team_member/ronnie-mitra/) 

在组织设计中，他们的目标是分散决策权。与其让几个人为组织中的每个人做架构和软件决策，分散化可以使他们将决策权分配给做工作的人。

将决策权直接推给工人，让他们有更多的自由和自主权进行生产。在正确的情况下，这将导致更好更快的变化。然而，如果您的组织犯了错误，一系列糟糕的决策可能会减缓变革的速度，或者更糟，最终损害您的业务。

诀窍是只分散那些有助于加快速度的事情，而不牺牲系统的安全性。

找到正确的分权战略是一个渐进的过程，需要你去调整、分析和适应。为了帮助你朝着正确的方向开始，这里有三个你应该考虑的最重要的问题:

## 我们应该针对哪些决策？

我们的目标是增强平台的可变性。所以你应该从找到阻碍改变发生的瓶颈开始。仔细看看特性和变化是如何从想法到实现的，并找出流程中需要工作的人不能完成工作的部分，因为他们在等待其他人做出决定。

权力下放不是消除瓶颈的灵丹妙药。然而，在一个倾向于集中决策的组织中，分权可能会有所帮助。另一方面，如果你找不到很多员工因为集中决策过程而陷入困境的情况，分权就不应该是你最关心的问题。

让微服务系统发挥作用需要的不仅仅是改变对组件大小的想法。您的组织中涉及创建和更改服务的所有领域都要发挥作用。以下是微服务世界中可能成为分散化候选的决策类型的非详尽列表:

*   **服务生命周期** —服务何时创建或退役？它们叫什么？我们什么时候需要把它们分开？
*   **服务实现** —我们应该在每个服务中使用哪些工具、语言和架构？
*   **系统架构**——服务如何相互交流？开发者如何了解它们？
*   **数据架构** —服务之间如何共享数据？
*   **变更流程** —什么时候可以变更服务？部署和 QA 的工具和流程是什么？
*   **团队管理** —谁为哪个团队服务？每个团队负责什么？团队成员是做什么的？
*   **人员管理** —如何聘用和解雇人员？如何激励和奖励员工？休假政策是什么？
*   **安全管理** —我们如何降低安全事故的风险？需要做些什么来提高整个系统的安全性？
*   **采购** —可以采购哪些软件？使用开源软件需要哪些保护？

有必要分析一下这些领域的决策是如何做出的。它们如何影响系统改变的方式？哪些决策过程阻碍了你的发展？哪些阻碍了人们的创新？最后，在哪些情况下，更多的自由和自主权是有益的？

网飞是一个以创新方式分散权力的公司的典范。它的政策是授权员工决定他们需要休息多长时间，这分散了传统上被严密控制的决定权。

授权员工指定自己的假期分配听起来可能有些奇怪。但是，如果您想要将您的组织的可变性提升到一个更高的档位，您应该采取的确切方法是消除冗余和不必要的协调工作，同时避免引入新的风险。追求构建软件的微服务风格的团队应该在整个组织中考虑这种优化。

这并不意味着分配假期决策的策略应该是微服务架构的一个原则。网飞能够做到这一点，是因为其文化和劳动力使得这一政策更容易实施。它的员工被信任做出对整个系统最有利的决定，而且该公司以精挑细选而闻名。

不是每个组织看起来都像网飞，很少有人在网飞的在线视频内容交付领域运营。每个公司都有自己独特的约束和目标。你需要发现自己的目标和限制。分析、洞察和实验将帮助您区分分散化工作的优先级，并引导您的系统朝着适应性的目标前进。

## 参与的人是谁？

人们做出的一些决定会对他们的公司产生难以置信的影响。对于传统银行来说，决定改变银行账户交易的实施方式是有风险的。对于拥有大量熟悉旧界面的用户的软件公司来说，改变应用程序用户体验的决定是有风险的。

组织试图增加对这些类型的决策的控制，以使这种风险最小化，从而导致决策权的集中。例如，在过去的几年里，苹果以拥有一个高度集中的设计团队而闻名于世，这个团队由相对较少的人组成，他们对产品的设计做出大部分决定。

集中化之所以发生，是因为合适的人需要做出最重要的决策。通常，“合适的人”是那些拥有才能、专业知识和经验的人，这让我们能够充分信任他们，做出最好的决定。我们可以称这些人为我们的“明星”决策者。

如果一个组织只有明星，那么它的所有决策都是分散的。如果我们相信更多的人能做出最好的决定，我们就会把更多的决定分配给更多的人。

实际上，公司的明星决策者数量有限。事实上，大多数团队有几个明星和大量的决策者，他们有能力，但缺乏做出完美决策所需的经验或才能。

好消息是，你不需要一个全明星团队来采用分权战略。你只需要考虑如何把你的团队组织在一起，把你最好的决策者安排在哪里。

微服务风格使这一切变得更容易，因为决策的影响可以被限制，同时实现个体变化的速度可以被提高。如果一个团队在做微服务的时候做了一个错误的决定，这个错误的爆炸半径应该是很小的，并且是可以控制的。当系统的改变变得便宜和容易时，团队可以快速地改进先前的决策，允许他们更快地得到最佳决策。

在这种环境下，你不会被你的明星效应所限制——当目标是达成最佳决策时，你只需要提供一个系统，让有能力的员工自由自主地达成目标。

## 谁拥有哪一部分？

没有决定是瞬间做出的。它基于选择，而选择又基于领域知识。决定永远不应该立即执行。有时它可能需要某人的祝福，而在其他时候，它可能需要高度专业化的技能或知识来实现。

管理专家[亨利·明茨伯格给了我们一个很好的模型](http://www.mintzberg.org/blog/decision-making)，它概括了决策过程的步骤:

1.  研究和信息收集
2.  产生选择
3.  选择(做出选择)
4.  选择的授权
5.  执行和实施

所有这一切的关键是，在使用决策分散化时，你不需要绝对。明茨伯格的每一步都可以独立地集中或分散，从而在平衡基于决策的系统变更的速度和安全性时具有更大的灵活性。

考虑一下大公司典型的招聘流程:当需要招聘新员工时，由集中的人力资源部门发布空缺职位并邀请人们申请这份工作。同一个集中的团队筛选候选人，并从该组中产生最佳名单。然后，这份名单被交给实际的招聘经理，后者会在进一步审查的基础上选出最佳候选人。从那里，招聘经理将球递回给中央人力资源团队，他们完成文书工作并完成流程。

这种集中选择*一代*和分散选择*选择*相结合的模式在大公司很常见。事实上，大多数采用微服务风格的组织都以某种形式使用它。

例如，一个集中的企业团队可以确定所有微服务团队都应该使用的三种类型的数据库。由各个团队做出选择*选择*，但是他们应该从提供的菜单中选择。如果他们偏离了批准的列表，他们将需要证明他们的决定，从而为集中的团队提供一个反馈机制，他们可以用这个机制来重新评估菜单。

将流程中的*选择*、*授权*和*执行*部分分散化，可以让各个团队快速、大规模地行动。集中*研究*和选择*生成*步骤，会损害整体创新，但会降低做出负面影响整个系统的决策的风险。这是一种流行的模式，因为它为大多数组织提供了正确的折衷方案。

当人们谈论微服务组织时，分散化出现了很多，因为它是提高变化速度的有效方式。但是不要忘记这只是等式的一部分。你的人是谁，你的团队如何协调，以及他们工作的所有系统、工具和环境都同样重要。

你必须明白，思考决策是如何制定的，更重要的是，思考如何改进决策过程，这是向变革友好型组织转变的一个很好的方式。

[CA Technologies](https://www.broadcom.com/info/aiops/docker-monitoring) 是新堆栈的赞助商。

标题人们在公共领域建造金字塔的图片——具体来说，[体操运动员互相托起进入金字塔](https://commons.wikimedia.org/wiki/File:Pyramid_building_(1909)_(14784186253).jpg)，大约在 1909 年——由美国国会图书馆提供。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>