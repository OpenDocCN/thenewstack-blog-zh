# Lyft 的阿蒙森:内置信任的数据发现

> 原文：<https://thenewstack.io/lyfts-amundsen-data-discovery-with-built-in-trust/>

随着 1 月 1 日[通用数据保护条例(GDPR)](https://eugdpr.org/) 和[加州消费者隐私法案(CCPA)](https://www.caprivacy.org/)的颁布，了解一家公司拥有哪些数据以及这些数据存储在哪里以及如何存储变得更加迫切。

但是，对于处理大量数据的组织来说，其他问题，如员工的工作效率，也很重要。例如，拼车公司 [Lyft](https://www.lyft.com/) 收集其每月提供的超过 5000 万次拼车的数据。

然而，据该公司称，数据科学家花了多达三分之一的时间试图找到他们需要的数据，然后试图确定他们找到的数据是否可信。

作为回应，Lyft 在元数据存储库的基础上构建了一个数据发现应用程序，让数据科学家和其他人更容易找到数据并与之互动。它是以挪威探险家罗尔德·阿蒙森的名字命名的，他的探险队是第一个到达南极的人，它是根据谷歌搜索的模式命名的。Lyft 在 4 月份开源了这个项目。

### 强调信任

Lyft 在提供的服务量方面一直在快速增长，但加入该公司的员工数量也在快速增长，这留下了一个关于该公司拥有哪些数据、之前在这方面做了哪些工作以及这些数据有多新的知识缺口，产品经理 [Mark Grover](https://www.linkedin.com/in/grovermark/) 在最近的[网络研讨会](https://www.youtube.com/watch?v=WVjss62XIG0)中解释道。

Lyft 的数据源包括结构化和非结构化数据存储，如 Hive、Presto、Postgres 和 Amazon Redshift。

它面临的挑战是，没有一个单一的数据模型适合所有的数据资源，而且每个数据模型的存储和读取方式都不同。

它对项目的要求包括:

*   解决方案中体现的信任——更值得信任的东西首先出现在搜索结果中。
*   很少的手动监管—它需要自动化。

对开放源代码的偏好。格罗弗说，虽然该团队考虑了 LinkedIn 的 [WhereHows](https://github.com/linkedin/WhereHows) 和 [Apache Atlas](https://atlas.apache.org/) 等开源项目，但最终决定不提供他们想要的体验，并着手建立自己的体验。

[到阿蒙森有四个部分](https://www.datacouncil.ai/hubfs/DataEngConf/Data%20Council/Slides%20SF%2019/Amundsen%20-%20A%20Data%20Discovery%20Platform%20from%20Lyft.pdf):

*   **爬虫称为 Databuilder** 类似于 Google 的网络爬虫。它搜索数据库、仪表板和人力资源系统，以确定自上次运行以来哪些表是新创建的，哪些列是添加的，谁进入了系统，谁离开了公司等等。它使用 [Apache Airflow](https://airflow.apache.org/) 来协调工作。
*   **搜索引擎**类似谷歌的基于 Elasticsearch。它支持多种类型的搜索:normal，根据相关性匹配记录；category，首先根据数据类型匹配记录，然后根据相关性匹配记录；和通配符。
*   **前端服务**——例如，如果你正在寻找司机的预计到达时间(et a)数据，你在搜索框中键入“ETA”，就会得到一个类似于谷歌搜索中页面排名的结果页面。其中的信息包括查询表的频率、最后一次填充表的时间以及还有谁在使用该表。如果您单击第一个结果，它会提供更多的数据，包括表的模式、数据的快速预览和关于数据形状的统计，如标准差、平均值等。
*   **图形数据库** —这是一个元数据库，包含关于表、人以及它们之间关系的信息。它基于 Neo4j，但是对 Apache Atlas 的支持正在进行中。它还支持其他服务直接推送或拉取元数据的 REST APIs。

第一次迭代主要集中在表格上，数据科学家和分析师的工作，人们使用原始数据集进行分析。此后，它又增加了第二个节点，那就是人。

“我可以进入团队中某个人的页面—她拥有哪些表，她收藏了什么，她经常使用什么？我们以前在 Slack 上的那些对话不再需要发生了，因为我有那些信息，”格罗弗说。

它计划添加更多的节点，包括仪表板、流、ETL 和数据质量。

### 核心的元数据

据该公司称，元数据是下一波大数据应用的关键。

“我们意识到我们正在收集所有这些有趣的元数据，我们希望将其用于数据发现和信任，但我们也可以将其用于其他应用程序。Grover 说:“我们最终在顶层构建了这个数据发现应用程序，但在底层是这个元数据引擎，它是人们用来驱动数据的所有信息的核心。

“如果我知道我们所有的数据存储在哪里，如果我可以将所有这些列标记为个人或私人，并知道谁在访问这些数据，那么我就可以有一个基于此的治理系统，”他谈到该系统的合规性用例。

他在一篇博文中解释说，元数据可以用来适当地限制访问并保持合规性，而不是手动方法或在单独的数据库或位置中隔离敏感数据。

对于 ETL 和数据质量，使用所有表中的数据配置文件，用户可以应用试探法来确定今天进入的数据与昨天的数据相比如何，然后设置一些允许的差异百分比。

对于流，它可以确定哪些流是可信的，哪些映射到哪些数据集。

专题图片:[安妮塔·里特诺尔](https://www.flickr.com/photos/puliarfanita/)的《冰山陷害》。根据 [CC BY-SA 2.0](https://creativecommons.org/licenses/by/2.0/) 授权。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>