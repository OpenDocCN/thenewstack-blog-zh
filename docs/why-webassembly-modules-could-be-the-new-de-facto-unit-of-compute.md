# 为什么 WebAssembly 模块会成为新的事实上的计算单元

> 原文：<https://thenewstack.io/why-webassembly-modules-could-be-the-new-de-facto-unit-of-compute/>

[](https://suborbital.dev)

 [康纳·希克斯

康纳·希克斯是加拿大渥太华的一名开发人员。Connor 从事安全和分布式系统项目，领导 1Password 的产品开发，并构建亚轨道开源项目。Connor 坚信将安全性和隐私构建到所有软件的核心中，并正在利用 WebAssembly 等技术探索下一代 web 服务开发。](https://suborbital.dev) [](https://suborbital.dev)

您可能在过去几年的某个时候听说过 WebAssembly。它被称为“网络浏览器的第四种语言”，虽然这是看待它的一种方式，但它肯定不是整个故事的全部。由于 [WebAssembly](https://webassembly.org/) 实际上是一种平台无关的二进制格式的可执行文件，谈论它在哪里运行和它做什么一样重要。在过去的一两年里，WebAssembly 已经超越了浏览器，现在正将其优势借给其他领域，如嵌入式系统、物联网和服务器端开发。

我从事云原生 WebAssembly 框架 [Atmo](https://github.com/suborbital/atmo) 已经有一年了，我在这里展示的可能性让我对生态系统的未来感到非常兴奋。我每周都看到进步，新的开源项目和很酷的用例到处涌现。

众所周知，在过去的十年中，软件业已经从裸机转向虚拟机和容器。当前时代有许多形式的云计算争夺你的注意力，如 Kubernetes、各种类型的无服务器等等。问题变成了这些解决方案的巨大复杂性——这甚至还没有开始涵盖将客户端应用程序集成到组合中的需求。WebAssembly 正在实现一些特别的东西，那就是拥有可重用的代码模块的能力，这些代码模块可以在任何地方运行，并且可以被组合以构建具有较低复杂性的强大软件。

让我们介绍一下 WebAssembly 的基础知识；这是一种字节码格式，可以成为许多语言的编译目标。这仅仅意味着，当使用 Rust、C++、Swift 等编写代码时，可以将 WebAssembly 作为目标，而不是通常生成的可执行二进制或静态库。生成的模块是语言无关的，可以在各种环境中执行。WebAssembly 模块在运行时是完全沙盒化的，这意味着第三方甚至潜在的不安全代码比你对 NPM 或 GitHub 的一般依赖要少得多。这甚至意味着当 WebAssembly 模块崩溃时，它不会影响其沙箱之外的任何东西。WebAssembly 可以实现接近本机的性能(我的意思是比 JavaScript 更快)，并且在浏览器内外有许多不同的运行时环境可供选择。

这些模块与其他代码库有几个不同之处。WebAssembly 模块在运行时加载，这允许您的应用程序选择何时以及如何加载模块。这也意味着您可以热插拔模块，而无需终止进程或重新编译代码。这在推出新版本的代码时非常有益，因为它提高了性能并使部署更快。这些模块也是独立于平台和架构的，这意味着您不需要为 Mac、Windows、Linux 以及它们支持的各种处理器架构创建版本。WebAssembly 运行时将在这些平台上本地运行，并执行模块，而不管它是如何产生的。

WebAssembly 最让我兴奋的一点是在客户机和服务器之间共享代码的能力。您可以想象构建的代码不仅共享类型，还共享与之相关的业务逻辑。WebAssembly 允许您编写类似身份验证模块的东西一次，然后在您的服务器、web 应用程序以及本机移动和桌面客户端上运行它。这对于今天的传统方法来说并非不可能，但是 WebAssembly 让它变得几乎微不足道。这种实践促进了良好的代码封装、合理的抽象和整体良好的代码设计。

WebAssembly 模块的另一个引人注目的方面是能够轻松编写多语言应用程序。今天，构建不同语言间互操作的系统需要大量的工程工作。微服务模式结合了这一点，但通常需要编写底层库和垫片，以使其可伸缩且直观，便于开发人员采用，更不用说处理潜在的易变网络了。WebAssembly 模块一经编译就与语言无关，因此在同一个流程中同时运行从 Rust 编译的模块和从 Swift 编译的模块不仅可行，而且简单明了。我可以想象一个未来，SaaS 的供应商使用一组 WebAssembly 模块而不是用 Go、Rust、NodeJS、Ruby 等编写的库来分发其 API 库。

我已经开始探索的 WebAssembly 的最后一个方面是动态分解应用程序并让它跨网络的多个层运行的能力。想象一下，编写一组捆绑到一个应用程序中的模块，在部署后，开始在您的集中式云环境、边缘网络和用户设备中执行，而您无需选择在每个级别运行什么。我可以想象一个应用程序，它会智能地将某些模块发送到您的 CDN，在离您的用户不到 50 毫秒的延迟时间内在云中执行，甚至一些下载到用户浏览器的模块会在页面上执行。如果我们采用 WebAssembly 模块作为事实上的计算单元，这些都是非常令人兴奋的机会。

Atmo 是[亚轨道](https://suborbital.dev)的一部分，亚轨道是一个开源项目家族，致力于帮助开发者使用 WebAssembly 构建强大的云原生应用。如果您对利用 WebAssembly 所提供的优势感兴趣，或者想要帮助解决这些非常引人注目的问题，我希望您能来看看！

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>