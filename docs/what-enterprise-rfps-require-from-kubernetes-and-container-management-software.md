# 企业 RFP 对 Kubernetes 和容器管理软件有什么要求

> 原文：<https://thenewstack.io/what-enterprise-rfps-require-from-kubernetes-and-container-management-software/>

[](https://rafay.co/)

 [莫汉·阿特雷亚

莫汉·阿特雷亚是拉法系统公司产品和解决方案副总裁。他是一位经验丰富的产品专家，拥有 20 多年的经验。在 Rafay 之前，他曾在 Okta、Neustar、McAfee 和 RSA 担任高级产品管理职务。他获得了新加坡国立大学的工程硕士学位。闲暇时，莫汉喜欢和家人在一起，摆弄他的望远镜。](https://rafay.co/) [](https://rafay.co/)

Kubernetes (K8s)已经成为构建云原生应用程序的重要容器编排平台。它代表着加速数字化转型、利用基于云的技术以及通过创新实现企业产品和服务差异化的巨大机遇。然而，具有讽刺意味的是，一项旨在帮助简化现代云应用程序管理的技术本身很难管理。因此，随着公司从仅有的几个集群发展到集群车队，在过去的 12 个月中，高效管理 K8s 和集装箱的能力已经成为许多企业的一个关键项目。

但是，供应商认为最受欢迎的软件需求是什么？当企业开始实施 Kubernetes 和容器管理(KCM)基础设施时，为什么这些需求对企业很重要？本文将试图通过分析在过去六个月中收到的十几个真实企业征求建议书(RFP)的随机样本中最常见的匿名需求来回答这些问题(RFP 是一个组织发布的一组需求，该组织通过竞争将特定的服务、项目或解决方案外包给感兴趣的投标人)。请注意，我将企业定义为大中型企业对企业(B2B)或企业对消费者(B2C)公司，去年收入超过 1 亿美元，员工超过 500 人。对于那些对审查所有要求感兴趣的人，或者想利用 RFP 样本达到自己的目的的人，我们在 GitHub 上以 Microsoft Word 的形式免费提供了一个[RFP 样本。](https://github.com/RafaySystems/Sample-Kubernetes-Management-RFP)

在分析了企业 RFP 样本后，很明显出现了几种模式，其中一些模式由于企业的私有性质而不经常公开分享。本文的目标是，通过揭示他们的同行希望满足的流行要求，DevOps 专业人员可以了解关键的 K8s 管理功能和要求(跨实施和运营),以便在他们开始自己的 K8s 之旅时加以考虑。

## 首要需求#1:支持混合环境

在我们收到的 100%的企业 RFP 中，都出现了对混合环境(即，云环境和内部环境)的支持:

*KCM 解决方案必须能够在以下基础架构和组合中配置和管理集群:内部部署(在 VMWare 和 Openstack 等虚拟化环境以及裸机配置上)以及在我们的战略公共云供应商的环境中(例如，Amazon Web Service (AWS)、Microsoft Azure 等)。)*

### 为什么这是一个重要的要求？

根据 Rightscale 发布的[报告，混合云(定义为利用本地基础设施/私有云与公共云的混合)在企业中的采用率为 58%。为什么这么高？因为现代应用程序需求以及支持它的尖端技术正在快速变化，因此不是每个应用程序都属于私有云或公共云。这使得企业能够敏捷地满足其业务和客户的需求。多云也是一个不断增长的趋势，事实上，根据](https://resources.flexera.com/web/media/documents/rightscale-2019-state-of-the-cloud-report-from-flexera.pdf) [Gartner](https://www.gartner.com/smarterwithgartner/why-organizations-choose-a-multicloud-strategy/) 的数据，81%的企业现在使用“两个或更多云提供商”，因为某些公共云具有某些应用程序利用的特定功能或优势。另一个原因是，企业希望保持其基础架构选项的开放性，避免局限于任何特定的云和/或 K8s 发行版。为了支持不断发展的业务性质并保持开放和敏捷，KCM 解决方案支持任何基础设施组合(私有或公共)而不存在专有方法未来限制的可能性是至关重要的。

## 首要要求#2:与 DevOps 自动化工作流和 Kubernetes 生态系统技术集成

在我们收到的所有企业 RFP 中，都出现了与流行的 DevOps 工具集集成以实现工作流自动化和 Kubernetes 技术的要求:

*KCM 解决方案必须在 Kubernetes 生态系统中提供与以下技术的认证集成，以支持我们当前的 DevOps 工作流(其中一些是自动化的)，包括我们选择的 CI/CD 管道和注册表供应商，以及与 Kubernetes 存储、机密管理、网络、监控、日志和安全技术的集成*。

### 为什么这是一个重要的要求？

Kubernetes 本身并没有提供一个完整的、生产就绪的容器管理解决方案。它需要大量支持技术来简化应用程序部署，并在各种开发和生产环境中有效运行。因此，KCM 解决方案必须提供与 Kubernetes 生态系统技术的交钥匙认证集成，并与现有应用部署管道无缝集成。如果这些集成需要大量的人工劳动、专业知识和定制编码，则部署应用程序、开发集成并使所述集成与发布的每个升级保持同步会花费大量时间(和专业资源)。

## 首要需求#3:安全的 Kubectl 访问和治理

在我们收到的 83%的企业 RFP 中，都要求为 kubectl 提供一定程度的安全控制和审计:

*KCM 解决方案必须支持通过 Kubectl 无缝安全地访问 k8s 集群，并维护由 RBAC 管理的所有活动的集中审计跟踪。该解决方案应该有助于安全团队防止“流氓 kubectl admins”执行操作，并提供一种方法来审查/审计所有因内部政策、合规性和法规原因而执行的 kubectl 操作。*

### 为什么这是一个重要的要求？

当然，Kubctl 是用于访问和管理 K8s 集群的命令行界面(CLI ),它非常强大。然而，权力越大，责任越大。由于有时直接访问生产系统，kubectl 可以不受约束地对集群和应用程序进行大范围(有时是灾难性的)更改，这引起了支持/SRE 组织的不满。影子或“流氓”管理员通过 kubectl CLI 执行的操作是一个关键的安全问题，尤其是出于可靠性原因。随着时间的推移控制访问可能会很困难，尤其是在有大量集群或管理员的情况下。因此，对 kubectl 的访问——以及执行某些操作的权利——应该由 RBAC 管理。此外，默认情况下，记录的 kubectl 事件不会被用户帐户标记，这使得审计谁在何时做了什么变得非常困难。对于大多数企业来说，这是一个大问题，尤其是那些受监管行业的企业。因此，为了遵守内部策略和外部法规，通过 kubectl 管理的所有集群上执行的所有操作都应该由用户帐户记录。

## 首要要求#4:车队管理功能

在 75%的企业 RFP 中，我们收到了一组旨在简化 K8s 车队管理的要求:

KCM 解决方案提供了哪些功能(如果有)来提高集群(定义为 5 个以上的集群)的持续部署和生命周期管理的效率？请描述每个功能、其使用案例以及它如何为用户带来好处。

### 为什么这是一个重要的要求？

在过去，车队管理是事后才想到的。但今天的情况并非如此。每个企业管理的集群的平均数量在不断增长，因此昨天的“少数集群”正在迅速成为今天的舰队。[新堆栈报道](https://thenewstack.io/)几乎 [40%被调查的公司现在运行超过五个集群](https://thenewstack.io/ebooks/kubernetes/state-of-kubernetes-ecosystem-second-edition-2020)。

管理少量集群相对简单，但是管理更多集群就完全是另一回事了。因此，任何 KCM 解决方案都应提供众多特性和功能，以帮助实现工作流程标准化和车队管理自动化。一些考虑因素包括:

*   **管理:**能够进行多级管理，以创建完全不同的 Kubernetes 管理空间，用于跟踪使用情况(对内部/外部计费有用)和管理访问控制和操作。
*   **灵活的集群组管理:**能够根据任何技术或业务需求(例如，根据部门、应用类型、操作环境、客户目标、地理位置)创建和定制应用或集群的逻辑分组。
*   **单点登录和 RBAC 集成:**无缝集成的能力，从而利用组织的单点登录和 RBAC 策略进行访问管理
*   **集群标准化:**能够创建和管理定制的集群蓝图，以确保集群符合企业政策，并拥有经批准的应用和安全配置文件所需的可重复的软件组件基准集。

## 首要要求#5:咨询、实施服务和全天候支持

在我们收到的所有企业 RFP 中，都出现了对专业服务专家和全天候支持组织的需求，以处理紧急问题:

*KCM 解决方案供应商必须能够为专业服务人员提供经认证的 Kubernetes 管理员(CKAs)认证，以及 24×7 全天候的运营支持和有保证的服务水平协议(SLA)。*

### 为什么这是一个重要的要求？

Kubernetes 是一项复杂的技术，具有许多依赖性，很难实现和操作。问题不在于问题是否会发生，而在于何时发生，尤其是在运行各种 Kubernetes 生态系统技术(例如，秘密管理或日志记录)的时候。对于管理任务关键型应用程序的企业来说，联系可信赖的专家是必不可少的，这既是为了顺利启动项目，也是为了快速解决问题。因此，任何 KCM 解决方案供应商都需要为员工提供核心 Kubernetes 技术以及复杂的 k8s 生态系统的专业知识。当发生事故时，KCM 解决方案供应商需要具有超强的响应能力来支持企业的应用程序或 Kubernetes 基础设施。

## 关键要点

我们能从这些需求中得到什么？从 RFP 的这个小样本中，有许多关键趋势值得注意:

1.  **基础架构变得越来越复杂**:过去只有内部部署，现在公司希望利用一个(而且越来越多)公共云
2.  **自动化提高效率**:公司希望尽可能实现部署和基础设施管理的自动化
3.  **安全和治理** : K8s 不再只是实验室的专利。考虑到它用于生产级应用程序，它需要企业级的安全性和治理
4.  **管理的集群数量正在增加**:公司正在使用多集群策略来管理跨开发、测试和生产环境、跨地域、跨业务部门和跨混合基础架构的应用
5.  **K8s 专业知识很难找到** : K8s 仍然是新的和不断发展的，公司在着手建立成功的 K8s 和容器管理基础设施时继续需要帮助

作为 DevOps 社区的资源，我们在一个示例 RFP(Microsoft Word 格式)中整合了最受欢迎的需求，可以从 GitHub 免费[下载，并用于为 Kubernetes 和容器管理解决方案创建新的 RFI 和 RFP。](https://github.com/RafaySystems/Sample-Kubernetes-Management-RFP)

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>