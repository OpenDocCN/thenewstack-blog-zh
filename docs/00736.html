<html>
<head>
<title>Off-The-Shelf Hacker: Instantly Upgrade Your Arduino Project Design</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现成的黑客:立即升级您的Arduino项目设计</h1>
<blockquote>原文：<a href="https://thenewstack.io/off-the-shelf-hacker-instantly-upgrade-your-arduino-project-design/#0001-01-01">https://thenewstack.io/off-the-shelf-hacker-instantly-upgrade-your-arduino-project-design/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">Arduinos非常适合低功耗的独立作业，只需读取输入，进行一些计算，然后设置一些输出。它们混合了模拟和数字输入/输出引脚，可以通过串行、I2C和其他接口与其他板通信。它们也很快，使用基于固件的程序，并且功能单一。他们对很多工作都很在行。我自己的项目，<a href="/off-the-shelf-hacker-hedley-the-robotic-skull-spooks-minneapolis/">机器人头骨赫德利</a>现在使用一个Arduino纳米克隆体作为他下颚伺服系统的驱动板。我最近用Nano替换了旧的Arduino NG。</p>
<p class="translated">我坐在那里看着头骨，它给了我灵感。我能不能换一个基于ESP8266的模块，通常被称为<a href="https://www.banggood.com/3Pcs-NodeMcu-Lua-WIFI-Internet-Things-Development-Board-Based-ESP8266-CP2102-Wireless-Module-p-1121409.html?rmmds=buy&amp;cur_warehouse=CN" target="_blank" class="ext-link" rel="external "> NodeMCU开发套件</a>，来代替Arduino Nano，同时仍然让赫德利能够与我通话？这两块板大小差不多。它们的价格差不多，每个不到5美元。它们有相似的引脚，尽管有一些重要的区别，我们将在本文后面介绍。最后，您可以使用Arduino IDE和相关库对两种板进行编程。读者可能还记得最近关于在我的<a href="https://thenewstack.io/off-the-shelf-hacker-automated-yard-watering-project/" target="_blank" class="local-link">庭院洒水项目</a>中使用NodeMCU的讨论。</p>
<p class="translated">为什么我要用NodeMCU替换Arduino Nano？让我们来看看。</p>
<h2 class="translated">用不同的方式解决问题</h2>
<p class="translated">一个NodeMCU内置了WiFi。让那件事过去一分钟。</p>
<p class="translated">虽然这很酷，但我们当然不需要WiFi来移动赫德利的下颚伺服系统，而是使用树莓Pi上处理程序的一些串行数据。尽管如此，对于那份特殊的工作来说，这是一个近乎顺带的替代。</p>
<p class="translated">头上的LED显示，如果你的Arduino很容易联网，你可以解决一系列全新的问题。</p>
<p class="translated">我们必须将我们的“本地硬件点解决方案”思维扩展到“机器对机器”的网络视角。也许是多台机器对多台机器。这就是物联网(IoT)的本质吧？</p>
<p class="translated">我说的是从使用独立的微控制器来解决像移动赫德利的下巴这样的小问题，跳到使用一组小点解决方案的可扩展解决方案，这些小点解决方案相互之间以及与外部世界进行对话。牢记网络成为设计过程的一部分，帮助您实现前所未有的解决方案。</p>
<h2 class="translated">当前的项目想法如何？</h2>
<p class="translated">我不喜欢我后院的感应灯。首先，它们相当昂贵。其次，它们并不那么可靠。而且，很难同时打开它们。你绝对不能远程打开它们。最后，除非我看到灯亮着，否则没办法知道后院是否有任何东西或人。午夜到凌晨5点之间有什么或什么人在院子里爬来爬去？不知道，没有数据。</p>
<p class="translated">一个Arduino Nano，一个无源红外传感器，一个继电器板，一个小电源和一对20瓦的led可以在有东西经过设备前面时照亮院子的一个角落。那会给我我现在所拥有的。</p>
<p class="translated">只需换上一个NodeMCU并稍微更改固件，我就可以立即获得入侵者记录功能、硬件状态数据、警报激活甚至启动防御措施。使用随时间收集的数据，我们可以跟踪物业周围的活动，并发现模式，我可以利用这些模式来防止问题或大大提高对情况的认识。</p>
<p class="translated">我上周订购了继电器板和一个小电源。在我的新庭院灯项目中，我将使用我最近获得的一个NodeMCUs和一个来自零件箱的红外传感器。现有的150瓦密封光束聚光灯可以很容易地连接到该项目的第一次迭代中继板。用110伏led聚光灯替换密封光束是微不足道的，因为它们也是由继电器板切换的。</p>
<h2 class="translated">NodeMCU与Arduino Nano</h2>
<p class="translated">像工程中的所有事情一样，在将NodeMCU替换为Nano时有一些权衡。</p>
<p class="translated">NodeMCU板只有一个模拟输入引脚，因此读取模拟传感器并不是它的强项。它还有13个通用数字输入/输出引脚，其中一些引脚作为各种通信接口，如I2C和SPI。使用该板时，您必须考虑数字传感器。</p>
<p class="translated">另一方面，Nano有八个模拟输入，其他一切都与NodeMCU基本相同。大不了。</p>
<p class="translated">另一个权衡是功耗。由于NodeMCU板有一个wifi无线电，当与您的本地网络通信时，它将比没有WiFi的直接Arduino Nano消耗更多的功率。报告称，传输数据时可能会达到350毫安。我没有做过任何实际的测试，这可能是未来故事的素材。不用说，网上的每个人都知道基于ESP8266的设备非常耗电。这是需要考虑的事情，尽管如果你使用小型电源而不是电池来运行你的项目，功耗可能不是问题。</p>
<p class="translated">纳米印刷电路板的宽度也大约是NodeMCU板的三分之二。它们都是标准的试验板友好型。我见过两种板都没有预焊的插头引脚，因此将它们连接到您的项目非常容易。</p>
<h2 class="translated">让我们来谈谈固件</h2>
<p class="translated">实际上，在赫德利，把NodeMCU板换成Nano只花了大约5分钟。我用了两块试验板，把电线从一块移到另一块。请注意，Nano使用5针USB mini-b连接器，而NodeMCU使用标准的micro-B USB配置。手机电缆通常使用后者，因此给NodeMCU加电可能稍微容易一些。</p>
<p class="translated">当然，无论你选择哪种板，你都需要合适的电缆来编程。</p>
<p class="translated">虽然NodeMCU使用了内置的Lua编程实现，但我还是用Arduino IDE(集成开发环境)写代码。从Nano迁移到NodeMCU需要在“工具”和“板”菜单下指定硬件。“ESPduino (ESP-13模块)”选项工作正常。我使用Arduino IDE软件的1.8.7版本进行测试。</p>
<p class="translated">我在NodeMCU板的固件中将伺服数据引脚切换到GPIO4(物理引脚D2)。我用的是Arduino NG和Nano版本的GPIO6。除此之外，代码完全相同。</p>
<p class="translated">使用NodeMCU设备时，赫德利的下巴以完全相同的方式移动，就像使用Nano或古董ng板一样。</p>
<p class="translated">请务必在Arduino IDE中查看所有ESP8266设备的示例程序。他们有很多人。只需使用现有的Nano程序，黑进ESP8266(网络)部分。</p>
<p class="translated">另外，不要忘记MQTT提供了一对多和多对一的能力。还有许多MQTT示例程序。我将在我的Linux笔记本上使用MQTT消息，或者可能使用一个新的MQTT代理作为院子洒水器和院子照明项目的数据传输机制。如果一个不速之客来到院子里，我们不仅可以开灯，还可以用洒水器把灯冲走。那不是很有趣吗？</p>
<p class="translated">网络化设计思维。明白了吗？</p>
<h2 class="translated">包裹</h2>
<p class="translated">独立的Arduino Nano项目非常便宜，绝对适合某些项目需求。只要多花一点功夫，多“联网”思考，基于ESP8266的模块非常有用。</p>
<p class="translated">实现飞跃，开启一个全新的物理计算世界。</p>
<p class="translated">敬请关注更新。</p>
<p class="attribution translated">特征图像:用NodeMCU板(ESP8266)替换Arduino Nano。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>