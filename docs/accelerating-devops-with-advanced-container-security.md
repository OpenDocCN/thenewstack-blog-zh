# 借助高级容器安全性加速开发运营

> 原文：<https://thenewstack.io/accelerating-devops-with-advanced-container-security/>

[](https://www.linkedin.com/in/lioros/)

[Lior Cohen](https://www.linkedin.com/in/lioros/)

[Lior Cohen 是 Fortinet 的云安全产品和解决方案高级总监。他在信息安全、数据中心网络和云计算领域拥有超过 20 年的工作经验。Lior 是 Fortinet 云安全解决方案的负责人，专注于保护企业基于公共云的部署和私有云构建。Lior 之前在云安全领域担任过各种供应商和客户职位，包括云解决方案架构师、信息安全顾问以及领先行业供应商的 SDN、虚拟化和云网络主题专家。](https://www.linkedin.com/in/lioros/)

[](https://www.linkedin.com/in/lioros/)[](https://www.linkedin.com/in/lioros/)

随着软件开发人员利用容器加速开发，DevOps 团队越来越需要支持容器。然而，为基于容器的环境实现一个有效的安全策略经常会造成障碍。当您以市场速度开发应用程序时，解决每一个可能的安全问题然后手动重新配置安全措施所花费的时间会使开发过程变得非常缓慢。

根据最近的[容器采用基准调查](https://diamanti.com/wp-content/uploads/2018/07/WP_Diamanti_End-User_Survey_072818.pdf)，71%的受访者表示他们已经在虚拟机上部署了容器，35%的受访者在公共云上部署了容器，34%的受访者在私有云上部署了容器。由于与许可费用相关的成本不断上升，近一半(44%)的受访者还报告了用容器替换部分或全部虚拟机的计划。

然而，尽管拥抱容器技术的热潮在加速，但严重的安全威胁仍然存在——无论是来自恶意软件、网络钓鱼和社会工程等外部攻击，还是由于与安全服务的错误交付或错误配置相关的内部问题。

问题的另一部分是捕捉漏洞是一项挑战。根据最近的 [2019 年 DevOps 安全状况报告](https://www.fortinet.com/resources/resources-campaign.html?utm_source=social&utm_medium=blog&campaign=power-of&utm_term=devops#ufh-i-503777615-2019-state-of-devops-security-report)，只有 14%的组织能够从其安全运营中心(SOC)全面了解其 DevOps 环境。与此同时，92%的组织在过去 12 个月中至少发现一个漏洞进入生产环境，典型的组织在生产环境中会遇到三到五个漏洞。

### DevOps 团队需要为容器环境设计的解决方案

这就是为什么 DevOps 团队需要基于容器优势的安全解决方案和策略，并且能够在新的微服务范式中无缝工作。任何集装箱安全策略都需要包括四个关键要素:

*   与云平台的本机集成，
*   为集装箱环境的独特要求而设计的全套保护，
*   与部署在整个分布式网络中其他地方的相同安全元素无缝集成，
*   统一的管理和协调系统，确保一致的保护，同时消除不同平台之间的安全差距。

容器安全解决方案不仅需要解决当今分布式网络不断扩大的攻击面，还需要将安全性直接集成到容器应用程序的生命周期中，使组织能够以数字业务速度交付更安全的应用程序。

### 解决方案需要解决容器安全性的四个关键属性

大多数容器安全解决方案根本不是为容器环境的独特需求而设计的。有效的集装箱安全解决方案必须能够解决以下四个关键属性:

**容器感知安全** —为了实现真正的容器感知安全，安全解决方案需要直接与容器编排系统接口。这允许他们利用名称空间、标签和其他元数据作为安全策略对象。它还要求保护容器环境本身。这可以通过虚拟外围下一代防火墙(NGFW)来实现，它可以与容器管理层通信，并根据不同容器的元数据来学习地址。当流量离开集装箱化环境的边界时，标签感知 NGFW 可以根据集装箱的角色执行策略。这种标签的使用确保了即使在容器被移动或重新配置时，策略也能得到一致的执行。

**支持容器的安全性** —支持容器的安全性需要保护业务关键型 web 应用程序和 API 免受针对已知和未知漏洞的攻击。将 web 应用防火墙和基于 API 的安全微服务捆绑到应用链中，结合机器学习来减少误报并加速策略的微调，允许开发人员在应用开发生命周期中定义安全控制，并在整个应用生命周期中确保端口应用安全以及其他应用服务。

然后，可以对单个应用程序服务进行编程，以调用安全容器来应用特定的安全功能。这有助于保持基于容器的应用程序开发的灵活性和可移植性，因为单个应用程序段可以更新或交换，而不会影响应用程序其余部分的安全性，即使在跨环境移植时也是如此。

**容器集成安全性** —基本容器映像中的损坏或恶意数据，或者通过泄漏注入容器的数据，会使组织面临风险。例子包括最近[兴起的被设计成在集装箱环境中运行的密码挖掘恶意软件](https://www.zdnet.com/article/this-is-how-docker-can-be-exploited-to-covertly-mine-for-cryptocurrency/)。容器集成的安全性需要一个集成的自动化解决方案来支持持续的云安全，以及利用各种网络服务网格(如 Istio 或 Envoy)为 Kubernetes 等组织网络安全策略的能力。

为了确保基于容器的应用程序的通信流得到正确的检查，服务之间的通信流必须对安全处理服务可见并可执行。这些服务可以是基于容器的，甚至是基于网络的(驻留在容器基础设施之外)；但是，它们必须与容器编排层进行交互。其中一些技术将是控制层的 Kubernetes、Mesos 和 Swarm，或服务网格层的 Istio、LinkerD 或 Consul，以保护集装箱之间的东西向流量。

**容器注册表安全性** —容器映像通常存储在称为注册表的公共存储库中，向其发布新容器映像通常没有什么限制。因此，容器映像可能会被有意或无意地植入恶意代码，然后由应用程序开发人员从注册表中“取出”恶意代码，并捆绑到应用程序链中。为了降低与这些敏捷开发方法相关的风险，组织需要部署高级威胁保护解决方案(ATP ),如沙箱，以动态检查和识别受损或受感染的映像，包括以前未知的威胁。然而，为了正常工作，这样的解决方案需要支持应用程序编程接口(API)和集成能力。

### 解决集装箱安全问题不能孤立地进行

对持续的、迭代的应用程序开发的高需求正在推动 DevOps 团队采用基于容器的基础设施管理方法，允许开发过程变得更加模块化和简化。不幸的是，传统的安全解决方案无法为开发人员需要的环境提供保护。

DevOps 团队需要能够在不牺牲开发灵活性或应用程序性能的情况下，将安全性(如网络防火墙、web 应用程序防火墙和沙箱)编织到他们的容器环境中。此外，这些工具不能孤立运行。单一来源的可见性和控制需要扩展到当今分布式网络的每个角落，甚至扩展到容器中，以确保一致的策略协调、分析和实施。这意味着为保护容器环境而选择的安全解决方案还需要与部署在网络中其他地方的安全解决方案进行互操作。

来自 Pixabay 的安德鲁·马丁特写图片。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>