# DevSecOps 不是安全的灵丹妙药

> 原文：<https://thenewstack.io/devsecops-not-security-panacea/>

许多开发团队将安全性视为敏捷性和创新的障碍，但过去几年的努力尝试将安全控制和测试直接集成到 DevOps 工作流中，而不牺牲开发速度和部署灵活性。

安全性和敏捷开发的结合被称为 DevSecOps，旨在将事件监控、补丁管理、权限控制和漏洞评估等核心安全性任务直接实现到 DevOps 流程中。这包括在开发周期的所有级别进行动态和静态漏洞测试，以便在代码投入生产之前，可以及早发现主要缺陷。

根据软件供应链自动化公司 [Sonatype](https://www.sonatype.com/) 三月份 [DevSecOps 社区调查](https://cdn2.hubspot.net/hubfs/1958393/DevSecOps%20Survey/Sonatype%20DevSecOps%20Survey%202017.pdf?t=1497020355667)的结果，几乎 60%拥有成熟 DevOps 实践的组织已经集成了自动化安全测试。

但是，尽管 DevSecOps 在理论上看起来很棒，但由于人为疏忽或复杂的业务原因，它的好处并不总是转化为实践。

[总部位于日内瓦的网络安全公司 High-Tech Bridge](https://www.htbridge.com/) 发现，三分之二采用 DevSecOps 方法的公司在其外部网络应用程序中仍然存在至少一个严重或高风险漏洞。这是基于该公司漏洞测试平台的结果，该平台将机器学习支持的自动化漏洞扫描与手动测试相结合。

High-Tech Bridge 首席执行官 [Ilia Kolochenko](https://www.linkedin.com/in/kolochenko) 说，即使 DevSecOps 安全要求和策略得到了很好的整合，商业原因，如在竞争对手之前推出产品的压力，也可能导致员工跳过或肤浅地通过测试或验证程序。另一个问题是，在非常大的组织中，某些开发任务是由在世界不同地区远程工作的小团队执行的。他说，这使得协调和执行 DevSecOps 政策变得非常困难，特别是不断有新人加入项目，而且不同国家有不同的假期和其他文化差异。

> 随着代码的成熟和缺陷变得越来越难发现，bug 猎人将转移到更新的应用程序上，在那里发现缺陷更容易，花费的时间也更少，从而赚钱。

因此，尽管 DevSecOps 肯定是有用的，并且可以减少应用程序最终可能出现的安全问题的数量，但它不是一颗银弹，应该辅之以 web 应用程序防火墙(WAFs)、可以减少各类缺陷的服务器加固技术和第三方安全审计，特别是手动渗透测试。

## 大局

这一切都归结于拥有一个整体的安全方法，因为没有一个单一的解决方案是完美的。

不幸的是，很少有公司这样做。来自高科技桥的免费网络服务器安全测试工具的数据显示，只有 2.5%的网络服务器使用了所有可用的安全加固技术。这包括 HTTP 响应头，如 [X-Frame-Options](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options) ，它可以防止点击劫持攻击；[X-XSS-保护](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection)，它阻止反射的跨站点脚本(XSS)漏洞利用或者[内容安全策略](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) (CSP)报头，它保护免受各种代码注入攻击。

Web 应用程序防火墙可以检测和阻止 SQL 注入、XSS 和其他常见类型的 web 应用程序攻击，但黑客通常会找到绕过此类防火墙的方法，并找到潜在的缺陷。

一些严重的漏洞通常是 WAFs 无法防范的有缺陷的应用程序业务逻辑、不适当的访问控制或错误配置的结果。事实上，根据高科桥的说法，WAFs 在几乎 90%的情况下不能阻止对这种缺陷的利用。

根据 Kolochenko 的说法，由合格人员进行手动安全测试非常重要，因为自动漏洞扫描器可能会遗漏高达 50%的漏洞，甚至是由[开放 Web 应用安全项目](https://owasp.org/) (OWASP)维护的前 10 名列表中最广为人知的漏洞。之所以会发生这种情况，是因为许多漏洞可能需要利用链，包括提供有效的客户端 id、进行身份验证或解决 CAPTCHA 挑战，而自动化漏洞扫描器本身不会这样做。

运行公共 bug bounty 计划可能是一个解决方案，这是与独立安全研究人员保持开放沟通渠道的好方法，但通常情况下，通过此类计划收到的报告的质量和数量会随着时间的推移而下降。这是因为，随着代码的成熟和缺陷变得越来越难发现，bug 猎人将转移到更新的应用程序，在那里发现缺陷并因此赚钱更容易，花费的时间更少。

这并不是说 bug bounty 程序没有价值，尤其是如果你是一家不断发布新产品或为基于客户端的应用程序提供新的 web 服务的公司。

例如，高科技桥梁发现，与用户直接交互的 web 服务的安全性相比，公司往往更少关注移动应用程序后端服务的安全性，这些服务可通过基于 web 的 API 访问。

该公司发现，来自银行、金融和零售部门的超过 80%的移动应用后端服务容易受到至少一个高风险漏洞的攻击。这包括可能导致绕过身份验证的严重错误配置、访问敏感数据的授权要求不足、缺乏强力保护，以及可能导致服务器上的数据窃取或远程代码执行的 SQL 和 XML 注入等缺陷。

Kolochenko 说，移动后端服务通常不受网络应用防火墙的保护。“我不知道为什么，但有些人可能会想:‘没有人会试图黑掉它’或者 WAFs 是用于网站的，不是用于 API 的’。”

另一个问题是，许多应用程序从第三方组件继承了漏洞，但根据 Sonatype 调查，只有三分之一的组织保持对开发中使用哪些组件的控制。这令人担忧，因为现在大约 80%的典型应用程序是由开源开发框架和组件组成的。

维护软件材料清单并制定政策来防止使用已知的易受攻击的组件版本应该是任何组织的 DevSecOps 方法的一部分，因为根据 Sonatype 的说法，与易受攻击的开源组件相关的安全漏洞数量在 2014 年至 2017 年之间翻了一番。

专题图片:“奥拉库洛·米尼翁的封面，一个在大锅里调制药水的女巫，”大都会艺术博物馆，公共领域。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>