# Kubernetes 1.20 包含 44 项增强功能

> 原文：<https://thenewstack.io/kubernetes-1-20-lands-with-44-enhancements/>

Kubernetes 1.20 已经发布，标志着开源容器编排软件今年的第三次发布。有 44 个增强功能，包括 11 个升级到稳定版，15 个升级到 beta 版，16 个进入 alpha 版，还有几个弃用版本，这个版本比平均水平要大，部分原因是涉及的时间框架更长。

“如果你回头看 1.19，应该是四的第二次发布。通常来说，Kubernetes 已经经历了季度发布的过程，1.19 版本的发布时间相当长。它与世界上发生的许多事情有点重叠——COVID，美国的动荡——我们有一个真正长时间的代码冻结作为其中的一部分，”Kubernetes 发布负责人兼 VMWare 的工作人员工程师 Jeremy Rickard 说。

虽然发布节奏可能会因外部因素而改变，但 Rickard 指出了在[Kubernetes release special interest group(SIG)](https://github.com/kubernetes/sig-release/)中正在进行的[讨论](https://github.com/kubernetes/sig-release/issues/1290)，并指出有很好的理由坚持每年发布三次，而不是四次。

“我认为从向后兼容性的角度来看，有很大的压力要跟上，以及支持多少版本，”Rickard 说。“一般来说，有三个版本在支持，一旦你从火车上掉下来，你就会失去一些东西，就像无论何时 CVE 出来，你都不一定会得到这些的补丁。跟上这些发布的压力很大。对发布团队来说，这也是一笔很大的开销，需要付出很多努力。”

发布节奏的问题目前仍有待讨论，但 Rickard 表示，他预计这个问题将在 Kubernetes 1.21 发布时得到解决，Kubernetes 1.21 将于 1 月份开始其周期，并应在 3 月份左右发布，类似于去年的 1.18。

至于功能增强，Rickard 说稳定一些长期运行的功能是 1.20 的一大重点。例子包括控制器新版本的 [CronJobs](https://github.com/kubernetes/enhancements/issues/19) 更新，以及为兼容[容器运行时接口(CRI)](https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/) 而采取的措施，不赞成使用 Dockershim。这是因为 Kubernetes 1.19 做出了一个决定，即功能不能无限期地闲置在测试版中，而是必须遵循某种时间表。

“这两种东西几乎在同一时期就已经存在了。他们已经在那里很久很久了。我们在 1.19 中引入了这个新的过程，在这个过程中，事情不能永远处于测试阶段。“那个桶里有很多东西，”里卡德说。“像这样的某些东西往往会被搁置，人们会选择依赖它们，然后，后来，就很难对它们进行更改，因为人们已经采取了这些依赖。它们要么升级到正式版或稳定版，要么被新的测试版取代，要么被弃用。这三件事情中必须有一件发生。”

关于 Dockershim 的弃用，Kubernetes 团队已经写了[一篇博文](https://blog.k8s.io/2020/12/02/dont-panic-kubernetes-and-docker/)和[一个专门的 FAQ 页面](https://blog.k8s.io/2020/12/02/dockershim-faq/)来回答任何问题，尽管现在 1.20 中唯一的影响将是对最终用户的弃用警告。

1.20 中包含的其他功能有:卷快照操作转向稳定、kubectl debug 进入测试版、引入了节点正常关闭功能，以及对 IPv4/IPv6 支持的更新(支持双堆栈)。

“双栈的优点是以前支持 IPv6，您可以运行基于 IPv6 的集群，也可以运行 IPv4 集群，但您不能同时运行两者。在以前的世界里，这是一个非此即彼的选择。“双栈功能真的很棒，因为它允许您两者兼而有之，并且说，‘嘿，现有的这些东西可以继续作为 IPv4 运行，我们有了这些新东西，我们将作为 IPv6 运行，这很酷，它们可以共存。’我们还可以将服务公开为两者，作为过去世界和未来世界之间的另一种过渡机制。"

展望未来，里卡德说，他认为推动稳定将是一个持续的主题，同时努力为 Windows 提供更大的支持。他还提到了一项正在进行的工作，即增加未来版本的透明度。

“现在，很多关于决定发布什么的工作都是一个非常非常手工的过程。你通过 GitHub 的问题，你说‘你是否计划在 1.20 中登陆它？’如果你想来看看 1.21 会有什么落地，其实并不算透明。很难把这些东西拼凑在一起。我们想做的事情之一就是让它变得更加透明，”里卡德说。

他说，对于未来的版本，SIG Release 正在努力定义一个过程，人们将在这个过程中定义元数据，然后这些数据将用于建立一个仪表板，显示什么版本在什么时候发布，或者计划发布什么版本。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>