# 我们能从顶级云安全漏洞中学到什么

> 原文：<https://thenewstack.io/what-we-can-learn-from-the-top-cloud-security-breaches/>

[](https://www.linkedin.com/in/jonathan-maresky/)

 [乔纳森·马雷斯基

乔纳森是 Check Point 的云安全产品营销经理。他曾在从三人创业公司到大型跨国公司的公司中担任过各种产品、专业服务、营销和业务开发职位。他努力变得环保，并且在受伤期间参加马拉松训练。](https://www.linkedin.com/in/jonathan-maresky/) [](https://www.linkedin.com/in/jonathan-maresky/)

根据[科纳仕公司最近发布的网络安全评论](https://www.canalys.com/newsroom/cybersecurity-investment-2020)，2020 年期间的数据泄露比之前 15 年的总和还要多:300 起报告的泄露事件(比 2019 年增长 119%)，在此期间，310 亿条数据记录被泄露(比 2019 年增长 171%)。

毫无疑问，新冠肺炎·疫情在这场戏剧性的升级中扮演了重要角色。在家工作的员工数量的突然增加给保护远程访问公司资源带来了巨大的挑战。此外，高度分散的异地工作人员成为社会工程黑客策略的理想目标。

虽然网络安全支出在 2020 年增长了 10%，但这一增长远远低于业务连续性、劳动力生产率和协作平台方面的加速投资。与此同时，云基础设施服务支出同比增长 33%，云软件服务支出同比增长 20%，笔记本电脑出货量同比增长 17%。

简而言之，2020 年的网络安全支出没有跟上数字化转型的步伐，导致组织有效应对公共云基础设施和现代容器化应用程序带来的安全挑战的能力差距更大:复杂的环境、分散的堆栈和无边界的基础设施，更不用说前所未有的速度、敏捷性和规模了。请参见我们的白皮书[云安全蓝图简介，](https://pages.checkpoint.com/cloud-security-blueprint.html)了解云安全挑战的详细讨论，无论有无疫情。

在这篇博客文章中，我们来看一下 2020 年最大的九个云漏洞，其中“大”不一定是实际被破坏的数据记录的数量，而是暴露的范围和潜在的漏洞。我们描述了这些重大违规事件是如何发生的，并提供了一些关键要点来帮助您提高组织的安全性。

## **1。错误配置的内部数据库**

微软[在 2020 年 1 月披露了](https://msrc-blog.microsoft.com/2020/01/22/access-misconfiguration-for-customer-support-database/)一个发生在内部支持分析数据库中的事件。2019 年 12 月 5 日对数据库网络安全组的更改引入了错误配置的安全规则。结果，2 . 5 亿条支持案例记录遭到破坏，包括电子邮件和 IP 地址以及支持案例详细信息。

微软向客户保证，这次违规没有暴露其任何商业云服务，在大多数情况下，数据已被自动编辑，以删除个人信息。但是，客户数据的任何丢失都会带来严重的后果，例如给威胁参与者提供大量信息，以备将来进行网络钓鱼。Check Point 的[事件响应团队](https://www.checkpoint.com/support-services/threatcloud-incident-response/) (CPIRT)已经发现了许多成功的网络钓鱼攻击，这些攻击以“您的 IT 支持邮箱已满”或“新语音邮件:无法访问资源”为借口在这种情况下，能够访问支持票证历史记录的威胁参与者可能会发起非常有针对性的网络钓鱼攻击，这些攻击与之前与供应商的合法通信保持一致。

该事件为微软和我们所有人敲响了警钟，即内部资源的网络安全规则必须接受与外部资源一样严格的审计。同样值得注意的是，此次曝光是由第三方检测到的。三个多星期过去了，错误配置才得以纠正。检测安全规则错误配置并实时提醒安全团队的全面措施对于防止违规至关重要。

## **2。未受保护的数据库，未加密的数据**

2020 年 1 月 30 日，一名[安全研究员](https://securitydiscovery.com/estee-lauder/)发现了一个没有密码保护的数据库，互联网上的任何人都可以访问。该数据库是该公司教育平台的一部分，包含明文形式的用户电子邮件以及 IP 地址、端口、路径和存储信息，恶意行为者可以利用这些信息来更深入地访问网络。未加密的生产、审计、错误、CMS 和中间件日志也暴露出来，为网络创造了更多可能的后门。

雅诗兰黛在发现这一问题的当天就采取了补救措施，并向顾客保证消费者的数据没有被泄露。尽管损失很小，但至少可以从这次违规中吸取三个重要的教训:

*   有效的资产发现和管理对安全性至关重要。任何未受保护的资产都可能成为威胁行为者的重要立足点，并且在这种情况下，可能会为未来的社会工程和网络钓鱼攻击提供宝贵的素材。
*   当心云资源调配的灵活性和简易性。决不能以维护安全最佳实践(如密码保护)为代价。
*   数据应该始终加密，即使在非生产数据库中也是如此。

## **3。8 年未受保护的秘密数据库**

Whisper 是一款秘密分享智能手机应用，自 2012 年以来一直存在。早些年，它是一个流行的平台，以假名分享忏悔和其他高度个人化的信息。2020 年 3 月 10 日，华盛顿邮报的[报道称，安全研究人员在一个未受保护的数据库中发现了 9 亿条密语帖子及其元数据。被曝光的数据可以追溯到 2012 年，包括用户的年龄、种族、性别、家乡、昵称和群组成员。](https://www.tomsguide.com/news/whisper-data-leak#:~:text=Whisper%20app%20data%20leak%20exposes%20900%20million%20secret%20confessions%3A%20What%20to%20do,-By%20Paul%20Wagenseil&text=Back%20around%202014%2C%20there%20was,real%20names%20allowed%2C%20of%20course.)

没有证据表明该数据库曾被利用过，在《华盛顿邮报》联系后，Whisper 立即关闭了该数据库。真的很难理解一个秘密共享应用程序的公开数据库怎么会被该公司发现这么多年。

然而，这显然不是一个不寻常的情况。我们的 CPIRT 同事已经了解到，意外暴露的服务器或服务通常是配置最错误和补丁最过时的。定期的外部攻击面映射和扫描有助于识别此类服务器和服务，并防止意外暴露。也许这也是需要注意的地方，在当今复杂的混合和多云环境中，对有效安全监控的需求比以往任何时候都更大。

## **4。不安全服务器上的生物特征数据**

2020 年 3 月，安全研究人员通知一家巴西生物识别解决方案公司，8150 万条记录已经在一台不安全的服务器上暴露。这些记录包括 admin(！)登录信息、员工电话号码和电子邮件地址、公司电子邮件以及与 76000 个指纹相关的二进制代码，这些信息本来可以用来对指纹本身进行逆向工程。在曝光的数据库中也发现了面部识别数据。

该违规事件的发生主要是因为该公司未能安全地配置将数据迁移到基于云的数据库进行存储。我们的 CPIRT 调查人员目睹了几次仓促的云迁移，导致了数据或其他漏洞的意外暴露。当从受保护的内部基础架构迁移到云基础架构时，应采取非常措施来保护应用程序，从您将在内部应用的相同控制措施开始，如密码保护和数据加密。

## **5。日常维护中暴露的 50 亿条记录**

这起[特大泄密事件发生在 2020 年 3 月](https://www.keepnetlabs.com/public-statement-in-relation-to-data-briefly-exposed-on-an-elasticsearch-database/')，当时一家服务提供商在日常维护中临时暴露了 50 亿条记录。该承包商关闭了防火墙大约 10 分钟，以加快 Elasticsearch 数据库的迁移，为互联网索引服务 BinaryEdge 打开了一个窗口，以索引所有数据。在这 10 分钟内，一名安全研究人员能够通过一个未受保护的端口访问数据库，尽管他只成功提取了非常小的记录子集。

该数据库包含来自众所周知的数据泄露的电子邮件和密码，这些数据曾被用来通知 Keepnet 的客户他们是否受到了威胁。没有公司或客户数据暴露，记录本身都来自公开的威胁情报资源。

考虑到威胁参与者的复杂性和敏捷性，Keepnet 漏洞凸显了持续保持警惕的重要性，即使在日常维护和操作期间也是如此。在该公司关于该事件的公开声明中，吸取的教训之一是:“我们已经在我们的 24/7 监控系统中添加了威胁情报服务，并进行持续的漏洞扫描。”

在 CPIRT 的经验中，攻击者经常获得访问权，然后通过网络横向传播，因为安全控制被禁用以利于性能。事实上，威胁参与者寻找的是具有出色性能且几乎没有或根本没有安全控制的系统。正确的安全体系结构应该在早期规划和设计阶段就考虑性能要求。从长远来看，这种前期投资节省了安全管理的时间和资源。

## **6。错误配置的云服务器泄露客人信息**

2020 年 7 月，米高梅大酒店承认 1.42 亿份包含客人个人信息的记录被泄露，并被[在黑暗网络](https://www.zdnet.com/article/a-hacker-is-selling-details-of-142-million-mgm-hotel-guests-on-the-dark-web/#:~:text=MGM%20says%20it%20notified%20all%20impacted%20users&text=The%20security%20breach%20came%20to,full%20breadth%20of%20the%20intrusion.)上出售。被黑的数据包括家庭住址、联系信息、出生日期、驾照号码和护照号码。幸运的是，它不包括财务信息，身份证或预订细节。

这可能是 2019 年 7 月同一起入侵事件的一部分，2020 年 2 月，当[的 1060 万张唱片](https://www.cnbc.com/2020/02/20/mgm-data-breach-5-things-you-should-do-if-you-were-affected.html#:~:text=The%20data%2C%20which%20was%20obtained,email%20addresses%20and%20phone%20numbers.)在一个黑客论坛上免费下载时，这起事件备受瞩目。不幸的是，这里披露的数据是又一个为威胁者提供未来鱼叉式网络钓鱼攻击所需的一切的例子。

这一漏洞显然是由于一个错误配置的云服务器在未经授权的情况下被访问造成的。考虑到大多数错误配置都是人为错误造成的，该事件凸显了自动化安全工作流对于加强组织的安全态势的无比重要性。

## **7。个人&财务数据**泄露未被发现

2020 年 9 月，华纳媒体集团(WMG)宣布，它是一家外部服务提供商托管和支持的多个电子商务网站为期三个月的 Magecart 数据收集攻击的受害者。2020 年 4 月 25 日至 8 月 5 日，一名黑客在购物时泄露了输入网站的个人信息(姓名、电子邮件地址、电话号码、帐单和送货地址)和信用卡信息(卡号、CVC、有效期)。

在事件发生后对 WMG 提起的集体诉讼中，[原告写道](https://www.infosecurity-magazine.com/news/lawsuit-filed-against-wmg-over/)“这一违规行为据称持续了三个多月而未被发现的事实表明，华纳媒体集团涉嫌缺乏对保护其客户信息的关注。“WMG 从惨痛的教训中吸取的教训是，下一代威胁搜索和情报能力可能会更快地发现问题，甚至先发制人。高级数据驱动的威胁取证是加快补救时间的关键。

## **8。针对 Kubernetes 的秘密采矿活动**

2020 年 6 月，攻击者在微软 Azure 的计算密集型 Kubernetes 机器学习节点上发起了一场[成功的加密挖掘活动](https://visualstudiomagazine.com/articles/2020/06/24/azure-attack.aspx)。目标是 Kubeflow，一个在 Kubernetes 中管理 ML 任务的开源项目。攻击者利用了 Kubeflow 仪表板，这些仪表板的配置更多是为了方便而不是安全。这些错误配置将服务暴露给了互联网，并允许未经授权的用户执行 Kubeflow 操作，包括部署新的容器。

Azure 安全中心证实，此次攻击影响了数十个 Kubernetes 集群，但没有说明资源劫持的范围，也没有说明攻击者是否能够利用仪表盘进行其他恶意活动。鉴于云的自动扩展能力，云服务提供商成为加密挖掘活动的常见目标也就不足为奇了。受害者通常在月底收到一份异常高额的云使用账单时才意识到漏洞。

在任何情况下，完全依赖云服务提供商的安全控制都是不明智的。每个组织都必须了解其在云安全[共享责任模型](https://pages.checkpoint.com/shared-responsibility-model-introduction.html)中的责任，并坚持所有与云网络安全和云配置合规性相关的最佳实践。

## **9。向商业伙伴公开账户注册信息**

2020 年 12 月，Spotify 宣布，未披露数量的账户注册记录意外暴露给了 Spotify 的商业合作伙伴。他们可能获得的敏感用户信息包括电子邮件地址、首选显示名称、密码、性别和出生日期。此次入侵是由一个系统漏洞造成的，该漏洞在 4 月份就出现了，但直到 11 月份才被发现。

自动扫描和定期渗透测试可能有助于识别这些类型的系统弱点，也许可以防止违规。保护云资产的安全不仅仅是 Spotify 面临的挑战。在 2020 年 6 月参加 [IDC 云安全调查](https://cdn2.hubspot.net/hubfs/6580341/Whitepapers/IDC%20Cloud%20Security%20Survey%20Highlights%20Whitepaper.pdf?utm_campaign=IDC%20Survey%20Highlights&utm_medium=email&_hsmi=88839460&_hsenc=p2ANqtz-8A_NESVSVCy18A5jNIaWLbI20dLjkdYq0XfB46sElzrYwxdnVEYDVbk4AXOj74baFbcrpzK_tnY7PrAy7uPVG_XKZIrw&utm_content=88839460&utm_source=hs_automation)的 300 名美国 CISOs 中，云生产环境的首要问题是安全配置不当(67%)、缺乏对访问设置和活动的可见性(64%)以及身份和访问管理(IAM)错误(61%)。他们最优先考虑的云安全是合规性监控(78%)、授权和许可管理(75%)以及安全配置管理(73%)。鉴于这些挑战和优先事项，企业正在寻求第三方安全供应商来补充他们的云提供商安全工具和服务，并提供自动化和统一的云安全解决方案。

## **结论**

保护网络和数据资产的安全是安全团队和威胁参与者之间永无止境的战斗。正如我们在对选定的 2020 年云漏洞的审查中所看到的，糟糕的资产管理、安全错误配置和未加密数据都是导致漏洞的主要因素，这些漏洞会危及敏感数据和其他资源。

事实上，并非上述所有的暴露都会导致破坏性的利用，这并不令人欣慰。暴露本身通常被认为是对组织的云网络安全和云安全管理实践的不良反映。如果一个组织成为持续攻击的目标，被利用的漏洞最终会造成严重后果，如数据泄露、应用程序性能下降或中断，或者资源劫持。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>