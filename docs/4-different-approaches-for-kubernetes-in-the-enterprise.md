# Kubernetes 在企业中的 4 种不同方法

> 原文：<https://thenewstack.io/4-different-approaches-for-kubernetes-in-the-enterprise/>

[](https://www.linkedin.com/in/twaintaylor/)

 [吐温泰勒

吐温在谷歌开始了他的职业生涯，在那里，他参与了 AdWords 团队的技术支持工作。他的工作包括审查堆栈跟踪，解决影响客户和支持团队的问题，以及处理升级。后来，他建立了品牌社交媒体应用程序和自动化脚本，以帮助初创公司更好地管理他们的营销业务。如今，作为一名技术记者，他帮助 IT 杂志和初创公司改变团队构建和发布应用程序的方式。](https://www.linkedin.com/in/twaintaylor/) [](https://www.linkedin.com/in/twaintaylor/)

此刻的 Kubernetes 世界就像一个巨大的公共游泳池，每个人都在同时学习游泳。虽然很多人已经掌握了窍门，比如谷歌和网飞等公司的少数人，但大多数人仍在浅水中跋涉，想知道如何呼吸。游泳的好处是你可以用任何你喜欢的方式游泳，自由泳，仰泳，甚至是狗式划水，只要你把头露出水面，不被淹死，没有任何硬性的规则。

类似地，有了 [Kubernetes](/category/kubernetes/) 开源容器编排引擎，有多种方式来完成工作，这是一个通常遵循的“为您工作”的策略。也就是说，我们将通过将 Kubernetes 解决方案分为四个子类别，并提出一些你可以问自己的问题来帮助你在它们之间进行选择，从而尝试给这个有些混乱的系统带来一些秩序。除了每个选择带来的更明显的好处和限制之外，我们还将看看您自己的需求最终应该如何决定您理想的 Kubernetes 解决方案。

## 1.到 PaaS 还是不到 PaaS

PaaS 解决方案已经存在了一段时间，可能是我们将要关注的最可靠的子类别。最突出的例子是 Pivotal Container Service([PKS](https://pivotal.io/platform/pivotal-container-service))和 Red Hat 的 [OpenShift](https://www.openshift.com/) 。如果您优先考虑的是易用性，并且可定制性不是您现在或不久的将来需要的东西，PaaS 解决方案是一个非常安全的选择。这是因为这里所做的只是代码解释，然后是依赖项安装、容器化，瞧，你的产品已经部署好了。只是不要期望能够做任何“花哨”的事情，比如在实例上安装定制软件。

使用 PaaS 解决方案的组织通常要求他们的整个开发团队在同一个平台上运行。虽然这种方法有利于全面的一致性，但它在大型组织中会导致瓶颈。它限制了开发人员可以对他们的 Kubernetes 安装做什么。重要的是，它限制了软件的开发方式，在不同的点上设置了限制，并形成了一种“变通”文化如果在固执己见的工具和开放工具之间进行选择，开发者几乎总是会选择开放。

在走这条路之前，问自己一个好问题，你是否愿意放弃对 PaaS 提供商的完全基础设施控制。SnapChat 就是一个很好的例子，它现在已经和 Google App Engine 紧密结合。虽然如果您希望能够专注于您的应用程序而不担心基础架构，PaaS 解决方案是很好的，但您会失去细粒度的可定制性，而倾向于您的提供商决定的最适合您的方案。简而言之，PaaS 与非 PaaS 的决策应该基于您需要的控制级别。

## 2.云:方便又简单

继续我们的下一个子类:云托管的 Kubernetes。人们选择这一类别的主要原因是方便。至少这是人们愿意让自己受制于供应商锁定的唯一可能的原因，这是大多数开发人员尽力避免的事情。这意味着，虽然你不能否认让你的云提供商为你管理 Kubernetes 所节省的时间和金钱，但你的选择再次受到你的提供商为你选择的限制。因此，如果有一个特定版本的 Kubernetes，你宁愿使用，例如，运气不好。

亚马逊弹性 Kubernetes 服务( [EKS](https://aws.amazon.com/eks/) )、微软 Azure Kubernetes 服务( [AKS](https://azure.microsoft.com/en-us/services/kubernetes-service/) )和谷歌 Kubernetes 引擎( [GKE](https://cloud.google.com/kubernetes-engine/) )都是旨在让入门变得非常容易的服务，尤其是对于尚未开发内部 Kubernetes 专业知识的组织。在转向这些提供商之前，问问自己是否能够(或愿意)将控制权(例如参数配置)交给提供商。如果您认为您需要与其他企业解决方案集成和/或在混合/多云环境中运行的能力，那么它可能不适合您。如果不是这样，这可能是最简单和最划算的选择——所以去做吧！如今，云供应商正在采取措施进行全面整合，尤其是与最流行的开源工具如 Istio 和 Prometheus 进行整合。

## 3.为您管理 Kubernetes

这就把我们带到了下一个类别:托管 Kubernetes。平台 9 可能是这里最突出的例子。这些供应商在其自己的数据中心、内部或公共云中提供托管 Kubernetes 集群，并提供全天候管理和企业支持。它们允许您部署到多个公共云平台，在某些情况下还可以部署到无服务器平台。这些托管服务提供商甚至在大型云供应商之前就已经开始提供 Kubernetes 服务，并与 Kubernetes 生态系统一起发展。

与云托管类似，这种替代方案非常适合仍在构建 Kubernetes 专业知识的组织。他们提供 Kubernetes 集群的远程管理，极大地简化了管理。他们的主要承诺是具有 99.9% SLA 的高可用性，他们能够提供这一承诺的原因是他们“管理一切”如果您喜欢不干涉的方法，这很好，但是如果您想要管理工具链的关键部分，您需要在提交到他们的平台之前与提供商核实。

## 4.原生 Kubernetes 平台:开发与运营

这最后一类是有趣的地方。它们围绕 Kubernetes 构建，是最接近于纯开源的 Kubernetes。它们与多个云提供商集成，允许用户从一个控制面板管理多个环境中的所有 Kubernetes 集群。简而言之，适用于所有环境的单一 Kubernetes 管理层。他们的不同之处在于他们的主要用户焦点:开发者和操作焦点。现在，虽然前者毫无疑问是面向用户友好性和易用性的，但如果您确实需要操作控制来利用 Kubernetes 更高级的功能，则您需要后者。

Rancher 是以开发为中心的 Kubernetes 平台的一个很好的例子，它包括一个应用程序模板的[目录，使得部署复杂的堆栈变得非常简单。当您需要重复部署应用程序时，它还允许您使用舵图表目录。它们是开源的，在开发社区获得了大量的关注。](https://rancher.com/docs/rancher/v1.6/en/catalog/)

另一方面，运营团队对成功的 [Kubernetes 部署](https://kublr.com/features/)有着不同的要求——这一切都与可靠性和安全性有关。RBAC，默认的集中式日志记录和监控只是几个要求。这就是像 Kublr 这样专注于企业的 Kubernetes 平台脱颖而出的地方。大型企业面临的真正挑战是可靠和安全的生产集群。他们提供的一些功能包括带 RBAC 的集中式多集群管理和完全定制集群的能力(从而使企业能够完全控制其集群)。与只在一个云中管理几个集群的公司相比，这些平台显然更适合于在异构环境中有多个团队使用的大型部署的公司。

总之，您选择哪种解决方案将取决于您想要多大程度的控制、您想要多大程度的易用性、您想要解决方案有多灵活，以及您的组织在云采用方面走了多远。虽然选择一个解决方案可能看起来很难，但首先要评估适合贵公司需求的类别。然后，继续该类别中的选项。显然，每个人都有需要的东西。

本文作者曾在 Rancher 和 Kublr 做过咨询工作。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>