# 问与答:Julia Grace，Slack 的基础设施工程主管

> 原文：<https://thenewstack.io/qa-julia-grace-slacks-head-of-infrastructure-engineering/>

本周早些时候，一个国际商务假日几乎被宣布为空闲[意外离线几个小时](https://www.computerworld.com/article/3285714/collaboration/slack-outage-causes-disruption-but-highlights-importance-of-team-chat.html)。组织已经变得如此依赖团队聊天消息服务，以至于许多人想知道他们是否能在此停机期间完成任何工作。成立仅四年的[公司](https://slack.com/about)为来自 50 万不同组织的 800 万用户提供服务。因此，即使到处都有中断，Slack 对快速可伸缩性和长期可靠性还是略知一二。

今年早些时候，我们采访了 T4 的茱莉亚·格雷斯，她是 Slack 的基础设施工程高级总监。[2015 年](https://www.linkedin.com/in/juliagrace/)入职，她很快被提升为高级职位，在入职后的两年时间里，她的工程团队已经发展到 75 人。在 Slack 之前，她共同创立了 **[Tindie](https://www.tindie.com/) ，**一个制造商商品的市场，并在 [IBM Research](http://www.research.ibm.com/) 工作过。我们与她讨论了快速可扩展性、云计算与内部计算、多样性以及其他话题。

当你在大学学习计算机科学时，你的专业领域是什么？我一直对人类和计算机的交集非常着迷。所以我总是觉得很有趣:我们如何建立系统。我在脸书崛起的时候读了研究生，因此有一个非常有趣的挑战，那就是构建一个非常大规模的应用程序，然后查看这些应用程序的使用和理解模式，以及它们如何促进社区、对话和交流。

当我读本科的时候，即使我知道数学和计算机科学是我的职业，但我花了很多时间研究社会心理学的另外两个领域，所以我上了很多社会学和社会心理学的课，这是一个很自然的主题。人们是如何交流的？如何理解权力动态和群体，以及人们如何交流的所有这些非常迷人的属性。

我在东海岸。当你作为一名研究生学习计算机科学时，许多道路通向加利福尼亚。所以我上了 40 号州际公路，向西行驶，来到了 IBM 研究院。我们做了很多非常有趣的工作。例如，我们做了一个早期的论文和系统，用于抓取和挖掘 MySpace 中的数据，MySpace 是当时的社交网络。在收集和理解情感的过程中，我们基本上可以进行自然语言处理。构建挖掘 MySpace 的系统非常困难，因为当时 MySpace 的活跃程度非常高。

> 为了支持这些拥有成千上万用户的公司，我们在幕后做了非常大的改变，特别是在我们发送和接收的数据量方面。

我参与的早期项目之一是挖掘更能代表人们所听音乐的十大音乐列表数据。这真的很重要，因为大约在这个时候，比如 2007 年，所有的排行榜前十名都是 CD 销量。那是一个衰落的市场，因为人们购买即时信息流。所以没有任何方法可以解决这个问题。所以我对开始构建这些系统很感兴趣，与机器学习、自然学习和处理领域的一些最聪明的头脑一起工作。所以我一直认为，如果你了解计算和技术，而且了解社会如何交流、合作和运作，你就能对社会产生巨大的影响。

所以，我喜欢人，我喜欢和人一起工作，我喜欢成长中的人，因此现在是一名经理。因此，结合我的系统知识，我发现我可以产生最大的影响。

**后来，你们共同创立了[庭蝶](https://www.tindie.com/)，并成立了工程部。你是如何解决这个问题的？**

我与埃米尔·彼得罗内共同创立了 Tindie。然后，他担任 CEO，我担任 CTO。我不仅要从头开始组建工程团队，还要和我的联合创始人一起创业。所以，现在只有有趣的招聘挑战，但我想说的是，我在 Sandhill Road 获得了 MBA 学位，因为必须推销和理解业务的细微差别是如此重要，理解客户获取，理解营销。

发生的一件奇妙的事情是，当我学会如何谈论业务和影响时，我可以在与工程师交谈时使用相同的语气，因为没有更好的词。因为，理想情况下——在 Slack 也是如此——我们希望人们对公司的使命充满激情。我们需要对产品以及产品如何真正改变人们的工作方式深信不疑的人。我们工作的时间比在家的时间多，这是很长的时间。

所以当我在 Tindie 的时候，一切都是为了让下一代硬件企业家能够在市场上买卖他们的产品。我们建立市场。所以我在 Tindie 学到的，我一直带着它到 Slack，我是一个非常有使命感的人。我们在 Tindie 使用了 Slack，它完全改变了我们的工作方式，这是在我想到在 Slack 工作之前很久的事情。我当时就想“这个产品太棒了！”我在平台上建造。

当我们卖掉 Tindie 时，我正在决定下一步做什么。我看着手机的主屏幕，看着我喜欢的应用程序，Slack 就在中间。

你刚刚在那里介绍了自己？

你猜对了。我通过我的一些导师认识了这里的一些人，我第一次去问我的导师“你对 Slack 有什么看法？我只从一个产品上了解它，你从文化角度，从公司角度怎么看？”我听到的只有热情洋溢的评价。所以我尽可能地阅读了每一篇关于 Slack 的文章，听了每一个播客，这些播客是[斯图尔特·巴特菲尔德](https://twitter.com/stewart)【Slack CEO】的，因为我想了解业务，我想听听 Stewart 和我们的其他高管对业务的看法，以及业务的发展方向。我做了很多研究，我发现的一切只是再次证实了这将是一个非常适合我的地方，所以我得到了介绍。

有一个职位空缺，我去面试了，他们像我喜欢他们一样喜欢我。他们对我说，“我们没有人让你来管理，但我们会雇用一些人，所以当你开始工作时，就会有人来管理。”我说“哦，听起来很棒，给我报名吧！”几个月后，我加入了这家公司，从那以后，这是一段不可思议的旅程。

**现在，你如何解释你在公司的实际基础设施方面的角色？**

我的组织，我们建立并密封所有让 Slack 工作的后端系统。因此，如果我们正确地完成工作，Slack 就是无缝的。它的性能，你注意不到。我经常把它比作现实世界中的基础设施。如果你在一条没有坑洼、没有碎片的路上开车，你不会认为“这是一条很棒的路！”你可以自由思考其他事情。因此，基础设施的挑战是，就像在现实世界中一样，如果道路有坑洼，如果有碎片，如果没有做好标记，你会感到沮丧。你注意到了，为什么他们不修补这些坑洼？如果我们做好我们的工作，你永远不会想到我们，基础设施只是工作。如果我们工作做得不好，我们就会上所有新闻出版物的头版。

**当网站出现问题或速度变慢时，你就是承受压力的人……**

没错。我们处于压力之下，但我们热爱我们的工作，因为我们能够构建那些系统，然后移动工程师、设计师、产品经理、从事产品工作的工程师可以以更快的节奏构建，他们可以更可靠地构建，他们可以构建你知道并喜欢的功能，而我们在幕后确保房子的基础是牢固的，并可以随着用户群而扩展。

就扩大规模以满足全球需求而言，Slack 是一个令人惊叹的故事。你对可伸缩性有什么经验法则吗？

我们现在已经做了很多事情来确保 Slack 在美国和在香港一样快一样无缝。或者日本，或者亚太地区的任何地方。然后很大一部分是缓存世界各地的数据，确保启动时间，频道切换时间，在你打开快速切换器的地方找到某人或搜索他们所需的时间。通过将数据存储在离用户越来越近的地方，我们确保所有这些都非常快。

在早期，我们没有这样做，因为大多数 Slack 用户都是美国的小团队。因此，美国小型连锁店的基础设施坚如磐石。我是说，我们的创始人来自 Flickr。他们扩展了高性能的网站。但是用户群开始多样化。它不仅仅是国际性的，它还是大型企业。例如，Oracle 现在有 38，000 人在 Slack 上。这与我在美国和加拿大和我的小团队一起管理 Tindie 时大不相同。

为了支持这些拥有成千上万用户的公司，我们在幕后做了非常大的改变，特别是在我们发送和接收的数据量方面。人们一天大概有 10 个小时不睡觉。他们每天十个小时都没有积极地使用这个产品，但是我们正在发送，你知道，像 Joab 在线，他离线这样的消息，新的渠道已经创建，有人对你的消息做出表情反应。

这是一个非常大的数据量，我们曾经向所有的客户端，你的 iPhone，你的桌面设备发送大量的数据。但是随着我们的成长和扩大，我们不得不过渡到发布-订阅模式，因为数据太多了，会淹没客户。这是过去几个月来的一个巨大变化，将是发布-订阅。

**就像你说的，从基于消防水管的架构转向基于酒吧订阅的架构，是否存在某种文化挑战？高度可伸缩性带来了不同的思维方式吗？**

在 Slack 的早期，我们是产品的最大用户。所以我们做了大量测试的方式是我们向自己发布这些功能。现在，随着业务的增长，每隔几周就会有新员工加入，我们的规模还不及甲骨文的 38，000 人。因此，我们不得不建立许多内部工具，在负载测试方面，以非常非常大的规模测试功能，因为，这是一个很好的问题，不再是最大的用户。

> 建立工程团队和成为一名工程师不仅仅是写代码，它还培养和创造了包容的、赋权的文化，这种文化能充分利用具有各种不同背景的人。

因此，我们必须转变心态，从“我们可以先把它发布给我们自己”，转变为理解我们如何建模，并更好地理解这些大公司的极高使用模式，以确保我们构建的基础设施将无缝工作，将快速工作，将在这些大规模上提供我们想要的结果。

在购买和构建方面，你有什么经验法则吗？我知道，尤其是在可扩展架构方面，总是存在是使用云服务还是在内部完成的问题。在这方面你有什么建议吗？

云环境正在快速变化。多元化和规模给我留下了难以置信的印象。这意味着我所有的经验法则都在不断变化，因为我们处在一个快速变化和快速增长的世界。10-15 年前，建立自己的数据中心的公司使用的算法与今天完全不同。你会看到许多公司从他们自己的数据中心迁移到云，然后你会看到一些公司迁移，云优先的公司，迁移到他们自己的数据中心。

所以这真的取决于企业的类型。在数据中心的情况下，这取决于数据的传输量，还有一个巨大的成本因素。从成本角度来看，这可能有意义，但有时可能没有意义。因此，我们在 Slack 真正引以为豪的一点是快速迭代并适应快速变化的环境的能力。我们四年前做出的决定，有时是正确的决定，有时我们不得不修改并以不同的方式做事情，这也是因为现在云领域发生了许多有趣的事情。

**你在考虑微服务还是开发运维？我会想象你有一个非常敏捷的商店。**

是啊，太懒散了，我们刚满四岁。一方面，这是一家非常年轻的公司，但另一方面，像 Kubernetes 和集装箱运输这样的东西当时还不够成熟。我看到整个行业的趋势是运营商变得越来越像工程师。因此，运营商正在向上层移动，而开发者正在向下层移动。他们还需要知道如何部署、监控和提醒他们构建的服务。

所以我们在 Slack 看到了很多，团队有操作员和工程师，因为技能组合真的很好地结合在一起。虽然我们现在不是嵌入式模型，但我们肯定会考虑这一点。

我们正在思考未来如何使用这些更成熟、更令人兴奋的技术。一个例子是反应；React 是来自脸书的 JavaScript 框架。四年前还不够成熟，不适合我们使用，但是现在已经非常成熟了，很棒的工具，很棒的社区，所以我们现在正在拥抱这项技术，因为我们用这项新技术重建了我们界面的一部分。

所以，我认为有趣的部分是这是一个非常多样的，不断变化的景观。因此，我们必须经常调整，勤奋而谨慎地做，这样我们才能提供高度可用的服务，让公司可以在空闲时运行整个组织。

**多元化在基础设施中的重要性是什么？**

建立工程团队和成为一名工程师不仅仅是写代码，它还培养和创造了包容的、赋权的文化，这种文化能充分利用具有各种不同背景的人。没有人能垄断优秀的工程人才和想法。因此，要获得优秀的基础设施，你需要有不同背景、方法和思维过程的人。只有将所有这些不同的经验和观点结合在一起，你才能确定你正在构建真正优秀的东西。

<svg viewBox="0 0 68 31" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Group</title> <desc>Created with Sketch.</desc></svg>