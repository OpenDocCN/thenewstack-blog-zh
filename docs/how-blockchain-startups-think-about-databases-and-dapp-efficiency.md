# 区块链创业公司如何看待数据库和 dApp 效率

> 原文：<https://thenewstack.io/how-blockchain-startups-think-about-databases-and-dapp-efficiency/>

[](https://fauna.com/)

 [沙申克·高拉

沙申克·高拉是现代应用程序数据 API 动物群的高级产品营销经理。Shashank 的职业生涯从软件工程师开始，然后过渡到市场产品管理角色，他在无服务器架构、分布式系统和应用程序开发方面有深厚的背景。](https://fauna.com/) [](https://fauna.com/)

为了让应用程序在当今市场中获得吸引力，它们需要实现两个基本属性:低延迟和高安全性标准。数据库是这两个属性的重要贡献者，并且是早期应用程序架构中的重要决策。最近，使用以太坊这样的区块链作为底层存储机制的应用[数量有了显著增长。虽然这些应用程序使用区块链在公共总账上存储交易，但为了实现低延迟和高安全性标准，它们需要利用离线的传统数据库解决方案。](https://thenewstack.io/how-non-blockchain-developers-can-leap-to-web-3-0/)

当团队处理底层应用程序架构时，他们也面临熟悉的早期挑战:确定产品市场适合度，与比他们的企业同行更小的团队合作，以及确保他们使用开发友好的工具进行构建，并考虑到他们的用户。

当应用程序构建在区块链之上时，这些应用程序本质上是分散的，因此被称为 dApps(分散应用程序)。如今，大多数 dApps 利用以太坊这样的第 1 层(L1)区块链技术作为其主要的交易存储形式。

dApps 与底层区块链的交互主要有两种方式:读取和写入。让我们用一个 NFT 和游戏 dApp 作为例子，它奖励赢得硬币的游戏者，这些硬币可以用来购买 NFTs:**每当游戏者获胜并且硬币被添加到他们的钱包中时，对 L1 链执行写**；**读取**是在玩家登录到游戏中，需要为他们的游戏角色提取相关的 NFT 元数据(比如统计数据、排名等)时执行的。).作为构建上述游戏的早期 dApp，直接写入以太坊是禁止的，因为性能慢(影响延迟)和成本高(对早期公司来说很难)。

> 为了让使用区块链的应用程序实现低延迟和高安全性标准，它们需要利用离线的传统数据库解决方案。

为了帮助 dApp 生态系统中的开发人员，侧链和第 2 层(L2)解决方案，如 [Polygon](https://polygon.technology/) 提高了性能。高成本与通过将交易存储在侧链中直接写入以太坊有关，并且经常向主链提交交易的集合。虽然 Polygon 有助于高性能和经济高效的写入，但像 [The Graph](https://thegraph.com/en/) 这样的解决方案使开发人员可以在应用程序中使用 GraphQL 直接从 L1 或 L2 链进行查询。

虽然区块链是为存储交易而创建的，L2 链/索引加速器使直接处理链上数据变得更简单，但 dApp 中的数据仍然可以受益于利用集中式数据库，这被称为**链外数据**。

## 【dApps 的链外数据要求

如上所述，在构建 NFT 和游戏 dApp 时，有两个主要的数据要求——数据的读取/写入不应显著影响应用延迟，并且个人用户信息必须保密。后者尤其重要，因为区块链的主要原则之一是保持用户匿名。通过将游戏元数据存储在用户附近并确保用户信息的私密性，离线数据库也有助于保持应用程序的低延迟。为了充分利用外链数据库的安全性和性能优势，dApps 必须确保数据库在他们的外链数据中是可互操作的。

## **安全**

dApps 必须保持其数据存储系统的高安全标准，以避免暴露私人数据并保持用户的匿名性。在为用户信息和元数据选择离线数据库时，dApps 必须寻找安全功能，如基于属性的访问控制(ABAC)，这样他们就可以准确地控制谁在访问敏感的用户数据。这确保了私人数据不会暴露在公共账本上，同时还允许个人使用个人档案信息登录 dApps。

## **与链上数据的互操作性**

当选择一个外链数据库时，关键是外链数据库要适合 dApp 的架构，允许外链和链上数据之间的轻松通信。外链数据库至少需要有 dApps 在进行数据查询时可以使用的简单 API。对于最简单的互操作性，拥有一个 GraphQL 接口来查询数据允许 dApp 开发人员使用他们熟悉的 API 查询语言，并被区块链生态系统中的其他数据解决方案(例如，像 Graph 这样的索引加速器)使用。

## **性能**

应用保持低延迟至关重要，这样它们才能提供良好的用户体验。回顾一下，dApp 的数据架构有两种选择:在链上存储所有数据，或者在链上存储一些数据，在链外存储一些数据。虽然继续在链上直接处理信息很重要，但在游戏 dApp 中存储应用元数据(如排名或用户统计数据)是不合理的，因为这会显著增加延迟。离链数据库不仅可以安全地存储这些数据，而且还可以以一种全球分布的方式存储这些数据，以使数据尽可能地靠近用户。

## **结论**

随着区块链生态系统的不断发展，将会确定不同的架构选择来有效地构建和扩展 dApps。在任何应用程序的数据库层，重点关注性能和安全性是非常重要的。今天，dApps 有一系列选择，从纯粹的分散到市场上集中和分散解决方案的混合。选择取决于 dApps 的性能有多重要，以及将收集多少敏感的用户数据。创业公司越早发现并做出这些决定，就越容易获得用户并扩展不断增长的应用。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>