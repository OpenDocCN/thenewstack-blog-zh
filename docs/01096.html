<html>
<head>
<title>Polaris Points the Way to Kubernetes Best Practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">北极星为Kubernetes的最佳实践指明了方向</h1>
<blockquote>原文：<a href="https://thenewstack.io/polaris-points-the-way-to-kubernetes-best-practices/#0001-01-01">https://thenewstack.io/polaris-points-the-way-to-kubernetes-best-practices/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">Fairwinds的一个新的开源项目旨在拯救开发者。它名为<a href="https://github.com/FairwindsOps/polaris" target="_blank" rel="noopener noreferrer external " class="ext-link"> Polaris </a>，进行大约20次检查，以确保Kubernetes的部署符合最佳实践。</p>
<p class="translated">这些事情很容易被开发团队忽略，但是会导致可靠性和安全性问题。</p>
<p class="translated">“许多DevOps团队花时间记录最佳实践，并教育开发人员遵循最佳实践。这是一个耗时的过程。我们一直在这样做，并建立了一些强制机制，以便公司可以识别他们部署的风险，并防止这些部署进入生产，<a href="https://www.linkedin.com/in/robert-a-brennan/" target="_blank" rel="noopener noreferrer external " class="ext-link">公司开源总监罗伯特·布伦南</a>说。(不要和<a href="https://www.linkedin.com/in/bobbrennan236/" target="_blank" rel="noopener noreferrer external " class="ext-link">的董事长鲍勃·布伦南</a>混淆。)</p>
<p class="translated">它的最佳实践基于其作为Kubernetes提供商的多年经验以及在Kubernetes社区中共享的经验。</p>
<p class="translated">Polaris提供了两种运行检查的方式:通过仪表板或作为验证webhook。</p>
<p class="translated"><a href="https://cdn.thenewstack.io/media/2019/07/2ef42e3a-screen-shot-2019-07-23-at-4.38.55-pm.png" class="local-link"> <img decoding="async" loading="lazy" class="aligncenter wp-image-8171180 size-full" src="../Images/b1ba5268e0f981e28f4e56bf399a0a5a.png" alt="" data-id="8171180" data-original-src="https://cdn.thenewstack.io/media/2019/07/2ef42e3a-screen-shot-2019-07-23-at-4.38.55-pm.png"/> </a></p>
<p class="translated">该控制面板提供了集群运行状况的得分，以及每个工作负载的详细报告，按类别、命名空间和部署列出了结果。每个检查链接到关于该主题的文档和更多资源。它还提供了改进建议。</p>
<p class="translated">您可以深入查看每个检查类别。例如，在images下，开发人员可能会将指定图像的字段留空，Kubernetes将总是获取最新版本。Fairwinds战略副总裁Joe Pelletier 说:<a href="https://twitter.com/joepelletier?lang=en" target="_blank" rel="noopener noreferrer external " class="ext-link">这是一个让代码在生产中运行的好方法，如果你有一点试验性的代码在某个地方运行，这是你没有计划的。该检查确保每个部署都使用特定的图像标记。</a></p>
<p class="translated">您还可以设置资源请求和限制。“如果你不设置这些东西，Kubernetes就很难像魔法一样扩展你的部署，当pit运行不正常时计算它并自动重启它们。Pelletier说:“开发人员需要计算应该使用多少内存和CPU，如果他们不这样做，Polaris就会发出警报。</p>
<p class="translated">您还可以深入到非常具体的部署，例如特定团队负责的特定应用程序。</p>
<p class="translated">可选的webhook可以运行相同的验证，并将拒绝任何触发验证错误的部署。在一个演示中，Pelletier试图提升特权，这是一个潜在的安全漏洞，被系统拒绝。</p>
<p class="translated"><a href="https://cdn.thenewstack.io/media/2019/07/f37d292b-screen-shot-2019-07-22-at-1.12.36-pm.png" class="local-link"><img decoding="async" loading="lazy" class="aligncenter wp-image-8171181 size-full" src="../Images/ea1d3e183b9efd87e10ac74e1bfd92cb.png" alt="" data-id="8171181" data-original-src="https://cdn.thenewstack.io/media/2019/07/f37d292b-screen-shot-2019-07-22-at-1.12.36-pm.png"/>T2】</a></p>
<p class="translated">“如果你说你永远不希望一个容器运行特权，你可以把它设置为一个策略，你的开发者将无法绕过它，”他说。</p>
<p class="translated">“我们认为这是一个实验性的功能(公司称之为测试版),因为它阻碍了你与集群的交互。我们警告人们不要将此用于生产集群。</p>
<p class="translated">“我们不希望对您的集群能做什么和不能做什么有太多的规定。你可能有一个中断，你可能需要快速推动一些打破你的北极星配置。所以在投入生产之前，我们想对它进行更多的测试。我们希望在允许用户做他们需要做的事情来完成他们的工作和允许他们做一些会搬起石头砸自己的脚的事情之间找到一个平衡，”他说。</p>
<p class="translated">根据用户反馈，该公司为Circle CI和Jenkins等工具内置了持续集成/持续交付支持。</p>
<p class="translated">“通常，我们希望人们部署到生产环境的方式是不要让他们的最终开发人员与Kubernetes API交互。Pelletier说:“只有一个DevOps工程师，一个真正了解Kubernetes的人，才会使用kubectl与API本身进行交互。</p>
<p class="translated">“我们希望普通开发人员通过git存储库检查他们的配置，让CI/CD流程运行，然后如果测试全部通过，就将该配置交付生产。…人们希望能够针对本地文件运行，并在弹出错误或分数低于特定阈值时让此命令失败。”</p>
<p class="translated">北极星与审计工具如Sonobuoy和kubesec竞争。该公司表示，不同之处在于，Polaris分析部署层，重点是开发人员负责的配置，而大多数审计工具侧重于整体集群配置和设计，这通常会影响开发人员和基础设施工程师。</p>
<p class="translated">Polaris也是完全可配置的——您可以决定应用哪些检查以及您希望每个检查的严重程度。违规应该仅仅是警告还是阻止部署？您可以设置可用资源的限制。</p>
<p class="translated">Polaris可以在GitHub上找到，或者点击<a href="https://www.fairwinds.com/polaris" class="ext-link" rel="external ">网站</a>上的“验证你的集群”。</p>
<h2 class="translated"><strong>新方向</strong></h2>
<p class="translated">该公司原名ReactiveOps，在三位波士顿技术高管——前Veracode董事长兼首席执行官鲍勃·布伦南、前黑鸭软件首席技术官比尔·莱丁汉姆和Volition Capital创始合伙人罗布·凯特森——去年接管该公司后，该公司已更名为Fairwinds。莱丁汉姆现在是首席执行官。</p>
<p class="translated">该公司正在努力将it从一家服务公司转变为一家解决方案提供商，以帮助客户迁移到云原生技术。</p>
<p class="translated">它的其他开源工具包括:</p>
<ul>
<li class="translated">计算者，安装和管理多个舵图表版本。</li>
<li class="translated"><a href="https://github.com/FairwindsOps/rbac-manager" target="_blank" rel="noopener noreferrer external " class="ext-link"> RBAC管理器</a>，旨在简化Kubernetes中的授权。</li>
<li class="translated"><a href="https://medium.com/uptime-99/using-rok8s-scripts-to-automate-your-deployment-workflow-1977acd4be63" class="ext-link" rel="external "> rok8s脚本</a>，用于管理Kubernetes中应用部署生命周期的脚本。</li>
</ul>
<p class="attribution translated">专题图片:<a href="https://www.flickr.com/photos/157604335@N07/" class="ext-link" rel="external "> N1tr0glyc3r1n </a>的“IMG_2557.jpg”。根据CC BY-SA 2.0 获得许可。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>