# 云原生时代的安全性

> 原文：<https://thenewstack.io/security-cloud-native-era/>

这是一系列论文的最新条目，来自即将到来的

[KubeCon](http://events.linuxfoundation.org/events/kubecon)

和

[CloudNativeCon](http://sched.co/8K3m)

会议将于 11 月 8 日至 9 日在西雅图举行。

[](https://www.twistlock.com/)

 [什洛莫·齐佩尔

什洛莫·齐佩尔是 Twistlock 的开发商代言人。他帮助开发人员和安全用户更好地利用扭锁技术，并帮助根据用户需求制定产品路线图。他之前在 PrimeSense 领导应用和 UX 团队，该团队在微软 Kinect 后面构建了三维传感器。后来，他领导了在线风险投资公司 FundersClub 的工程团队。](https://www.twistlock.com/) [](https://www.twistlock.com/)

每隔几年，web 应用程序和服务的世界都会经历一次范式转变。第一次这样的转变发生在我们从物理服务器转向虚拟化的时候。目前正在发生的最新转变是从虚拟化到云原生架构的过渡。

每次这样的转变发生时，它都会改变我们处理的抽象级别——从硬件抽象到操作系统，并最终向上移动到应用程序。这些抽象的转变为以前不可能的创新提供了新的领域。虽然开发、安全和维护挑战基本保持不变，但重要的是要注意我们解决挑战的方式；我们部署代码、扩展应用和应对威胁的方式可以从根本上改变迁移到云原生架构的方式。

让我们更具体一点。

## 趋势—从物理服务器到容器

从前，公司的物理服务器都放在服务器机房里。他们将托管公司内部服务以及面向公众的服务。扩展意味着购买更多的服务器。安全意味着购买防火墙和配置隔离区。抽象的单位是:物理硬件。

一晃 20 年过去了，基础架构越来越多地由基础架构即服务(IaaS)公司托管。您处理的不是物理服务器，而是异地托管的虚拟服务器。抽象单元现在变成了操作系统。这种从物理机到虚拟机的转变让我们能够以全新且强大的方式解决部署、扩展和安全挑战，例如按需构建新的虚拟机或动态建立虚拟专用网络。

再过 10 年到现在，你会得到原生云:容器化的应用和服务。当然，这有点过于简化，在我刚刚描述的转变之间有中间步骤，但趋势是存在的。但是现在抽象的单元是一个单一的过程——容器。

因此，概括一下，我们从处理物理服务器(实际硬件)到虚拟机(操作系统)再到容器(单个进程)。挑战没有变，但解决挑战的界面变了。

## 相似的挑战，不同的界面

在整个范式转变过程中，每个运营专业人员必须应对的挑战在很大程度上保持不变:

1.  **部署、配置:**应该如何配置服务器？装的？有联系？如何处理更新？
2.  **编排、扩展:**多个服务，或者一个有多个移动部分的应用程序应该如何协调？当需要时，应用程序的新实例应该如何启动？
3.  **安全性:**我们如何扫描和管理漏洞？我们如何检测并阻止威胁和有害活动？我们如何保护该基础架构/系统中的数据？
4.  **法规遵从性/策略实施:**我们如何实施与我们的应用和服务相关的法规遵从性和公司策略？

但是，应对这些挑战的界面已经发生了显著变化。

## 部署、流程编排和扩展

有了容器抽象，部署、编排和扩展应用程序的任务在某些方面变得更加简单，因为环境(主机和操作系统)越来越从应用程序中抽象出来。这样更容易外包前者，专注于后者。

因此，这意味着编排和伸缩任务不必在应用程序中发生；它们可以从外部解耦和解决。这为应用程序编排和自动扩展带来了一系列创新，其中大部分有助于推进基础架构和运营任务应保持与应用程序无关的理念。

## 安全性

容器抽象体现了对安全性很重要的三个基本特征:极简性(例如，单个进程)、声明性和不可变。这些特征结合在一起，使得以过去难以实现或手动实现的方式保护应用成为可能。

**极简:**容器应该是单个进程。一个复杂的应用程序可能由许多不同的容器组成，每个容器服务于一个目的。极简主义意味着更容易分析它的行为

**声明性:**容器被“烘烤”在烘焙过程中，容器映像规定了大量的运行时信息。例如，Dockerfile 可以声明容器在运行时需要哪些网络端口、文件路径和依赖关系。这意味着有可能静态地处理容器映像并确定相关的运行时行为，这对于传统软件或虚拟机来说几乎是不可能的任务。

**不可变:**这个属性与容器的“声明性”密切相关本质上，一旦图像被烘焙，其实例化(容器)在其整个生命周期中不会偏离图像。

因此，通过静态或启动时元数据，可以立即确定容器的大量运行时行为，包括该容器属于哪些分布式应用程序，它可以与哪些其他容器通信，以及某种程度上详细的运行时信息，如系统调用和操作系统功能。然后，我们可以用很少的手动工作为应用程序自动开发一个可靠的基线，并使用该基线将可接受的行为列入白名单，并检测运行时的偏差。

节点应用程序就是一个很好的例子。使用 Node，可以开发节点 API 和 Linux 系统调用之间的映射。一旦有了映射，您就可以静态地解析节点应用程序，并确定应用程序将在运行时执行的系统调用的确切集合——任何不在列表中的调用都是可疑的系统调用，这可能表明存在主动危害。将节点应用程序放在容器中可以确保应用程序不会从底层发生变化，因此您开发的系统调用配置文件在其整个生命周期中都是可靠的。

## 摘要

应用和服务开发是一个不断变化的目标。最终，目标并没有改变:我们希望工具能够帮助我们以快速和安全的方式开发和部署应用程序。最近向容器的范式转变是一个以创造性的新方式解决同样的老挑战的好机会。

Twistlock 是新堆栈的赞助商。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>