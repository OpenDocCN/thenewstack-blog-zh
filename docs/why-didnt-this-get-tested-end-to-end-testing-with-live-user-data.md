# “为什么没有进行测试？”使用实时用户数据进行端到端测试

> 原文：<https://thenewstack.io/why-didnt-this-get-tested-end-to-end-testing-with-live-user-data/>

[](https://prodperfect.com/)

 [埃里克·福格

埃里克·福格是 ProdPerfect 的联合创始人兼首席税务官，负责监管公司的收入和增长。Erik 最初在麻省理工学院学习机械工程和政治学，从 Stroud International 的咨询职位过渡到初创公司 HelmetHub 的运营和销售主管职位，直到 2018 年与人联合创立了 ProdPerfect。在他的空闲时间，埃里克穿插作为一个政治作家，商业书籍代笔，以及私人股本和生物技术顾问。Erik 希望利用人工智能来帮助大型组织和社会始终如一地识别真伪，并做出更好的基于事实的决策。](https://prodperfect.com/) [](https://prodperfect.com/)

质量保证测试覆盖不充分或不一致会导致生产中的错误，从而对成本、收入、客户满意度以及最终的品牌价值产生负面影响。解决生产中的 bug 比解决测试阶段的 bug 要多花七倍的成本。

然而，因为端到端(E2E)测试在金钱和运行时间方面都很昂贵，QA 团队必须优先测试什么。通常，这包括 QA 团队聚在一个房间里，使用他们的知识和经验来猜测应该测试什么，设计测试，然后使用工具集来构建和维护测试自动化。

不幸的是，这些测试是主观的，基于 QA 团队受过良好教育的猜测。他们试图在没有实际数据的情况下预测真实生活中的用户行为，他们希望他们的测试反映用户的行为。有时这可能会击中目标，但通常不会。

预测的结果和用户实际做的事情之间的差距意味着测试覆盖模型将无法覆盖对用户体验至关重要的某些工作流，并且错误可能会出现在错过测试屏幕的产品中。例如，当用户手动修改数据时，分析应用程序停止显示数据；当用户在连接设备之前建立警报时，传感器应用程序会创建错误的警报；客户关系管理系统不会让你在之前添加了 14 个客户后再添加他们；ATS 不会让你发布与某个团队相关的工作。一个 bug 也可能扰乱结账过程，阻止用户转换、购买产品或为商品或服务付款。

像这样的故障可能意味着每分钟的停机时间都会造成巨大的收入或保留损失，因此当它们进入生产时，整个组织都会陷入恐慌。工程师放下他们正在做的一切。他们实际上是进入一个“作战室”来集体搜寻 bug 并修复它，然后尽快发布一个“修补程序”,希望这个修补程序不会导致其他东西出现故障。开发逐渐停止，以便尽可能减少变化的变量。

随后，QA 团队必须处理事后的“指责风暴”这是谁的错，为什么？你听说过多少次了，为什么这个没有被测试？指责的循环会导致相互指责和推卸责任的恶劣环境，如果这种情况经常发生，工程团队就无法培养出优秀的文化。才华横溢的工程师离开去了更好的组织，而不那么才华横溢的人取代了他们的位置。错误频率增加，延续了滚雪球效应。

最重要的是，工程团队经常不能随着特性的变化以同样的速度更新这些大型的、笨拙的测试，导致脆弱的、没有维护的测试套件。结合最佳猜测测试构建的覆盖缺口，这些测试套件失败得如此频繁，以至于它们不再被关注并提供零价值(这种“喊狼来了的男孩”现象可能对许多工程团队来说听起来很熟悉)。

## 离作战室远点

归根结底，这些都不是你的 QA 团队的错。试着想象一下，在你的应用程序中进行一次强力随机漫步——你看到的是成千上万甚至上百万条独特的路径。QA 团队必须区分优先级，他们通常依靠产品和工程团队的输入来完成。通常，当一个代价高昂的错误发生时，那是因为用户正在以工程和产品团队没有预料到的方式使用应用程序；例如，他们选择了不同的路径来结帐，或者他们通过一组未经测试的过滤器来过滤产品(因为有 10，000 种可能的过滤器组合)。QA 团队没有数据来通知他们应该构建什么样的测试。

但是如果你的用户已经准确地告诉你如何测试你的应用程序呢？

您的 QA 团队可以利用这些数据，分析应用程序上的真实流量模式和用户行为，然后使用该分析来确定测试的优先级并进行测试，从而为自己带来巨大的优势。production analytics 数据会根据实际用户行为准确地告诉您要测试什么，您将会发现更多对您的用户真正重要的错误，并且会更快地发现它们。利用数据来指导您的测试优先级，可以让您构建一个测试套件，更好地保护您的应用程序的质量，而不会创建阻塞 JIRA 板和部署管道的不必要的测试。

这种影响波及到你的整个工程组织。您将构建和维护更少的低优先级测试，释放您最有价值的才能来关注产品而不是测试维护。您将提高 E2E 测试套件的稳定性和运行时间，允许它更频繁地运行，并向开发人员提供更高保真的反馈。您将阻止对用户重要的错误进入生产环境。

有些 bug 确实会进入生产环境，即使使用分析来指导您的测试策略。但是当这些虫子出来的时候，你知道影响很小。您知道它们影响很少的用户，并且不影响您的应用程序中的核心工作流。你现在在一个可以快速移动并且只破坏不重要的东西的世界里工作。

下一次有人冲进来问，“为什么这个没有测试过！?"你会有一个答案:“数据告诉我们，这不是一个优先事项。”您将能够证明进入生产环境的 bug 影响极小，并展示运行一个更精简、更数据驱动的 QA 流程的级联好处。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>