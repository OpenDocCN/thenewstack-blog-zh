# 关于木偶的 5 个神话

> 原文：<https://thenewstack.io/5-myths-about-puppet/>

作为一名木偶教育者，我想和你分享一些关于木偶的神话，这些神话是我在授课、阅读 Reddit 帖子，甚至试图向从事软件工作但不完全理解我的工作的人解释我的工作时遇到的。

我还想分享一个我个人订阅的，直到几周前，尽管在 Puppet 工作了将近两年。是文末的奖金神话，好奇的话。

## **误区一:我需要了解 Ruby 才能使用 Puppet。**

你没有！Puppet 语言是它自己的全功能编程语言。

您将编写的大多数 Puppet 代码将采用描述性属性块的形式，这些属性块说明给定的服务、用户或其他资源应该处于什么状态。这些描述块很容易阅读，带有类似`ensure => installed`的语句。您的基础设施代码可以而且应该作为它自己的文档。

更重要的是，Puppet 支持运行用目标节点支持的任何脚本语言编写的任务。你可以使用 Bash 和 PowerShell，或者 Ruby、Python、JavaScript，甚至旧的 Perl。

## **误区二:木偶太复杂。**

你需要多复杂，木偶就有多复杂。如果您只需要一点点基础设施管理，那么您的 Puppet 代码根本不需要非常复杂。

大多数基础设施将由上面提到的 Puppet 代码的描述块来处理。这通常包含了您的大部分木偶代码库。在某些情况下，Puppet 用户会希望成为正式的从业者，这样他们就可以更好地控制他们的基础设施管理。

希望成为高级实践者的 Puppet 用户将从一种全功能编程语言中找到他们所期望的一切。Puppet 语言的特性包括常见的条件、case 语句和三元运算符，还包括文件模板、变量的强静态类型和 Hiera 的安全数据抽象等特性，以保持配置的适应性和私密性。

只为您关心的事情编写代码，让 Puppet 处理其余的事情。

## **误解 3: Puppet 仅适用于内部应用。**

这是对木偶，尤其是木偶企业最普遍的误解之一。

Puppet 是一个用于基础设施自动化和法规遵从性实施的工具。这意味着 Puppet 不仅可以让您的基础设施正常运行，还可以随着时间的推移强制执行法规遵从性。这意味着更简单的配置、更长的正常运行时间以及知道如何纠正错误配置的基础架构。

虽然 Puppet 在维护内部基础设施方面工作得很好，但是它可以用在任何您关心维护合规性和提高正常运行时间的地方，甚至是云中。

我们今天的许多云基础设施都是短暂的——如果服务器开始出现问题，您可以删除它并替换它。但是想想有多少任务关键型服务器和服务是你离不开的:负载平衡器将客户路由到适当的服务实例；数据存储解决方案，如数据库、密钥存储和文件主机；防火墙和网络地址转换(NAT)路由服务器；构建服务器，不仅测试和部署您的代码，而且自动化如此多的任务，很容易忘记；甚至是运行集装箱船队的机器，如 Kubernetes 或 Docker Swarm hosts。

Puppet 管理着任何一个你离不开的基础设施。

## 误解 4:代码库太难维护。

他们不需要这样。

Puppet Education 教你如何使用 Roles and Profiles 设计模式来保持代码库的模块化、可扩展和可维护性。这是一个简单的框架，只需要一点点练习就可以学会。

角色处理抽象的业务功能并加载概要文件。概要文件处理直接的技术实现和配置。

使用这种设计模式，您可以维护给定节点的角色，同时轻松地交换出提供服务的技术堆栈。这使您可以轻松扩展和更改基础架构，以跟上不断发展的业务需求。

## **神话 5:木偶很贵。**

首先，开源 Puppet (OSP)是一个免费的语言和代理组合，它为 Puppet Enterprise (PE)提供了动力。这在 *libre* (免费使用和修改)和*免费*(免费样品，拿一个)中都是免费的。

许多 Puppet Enterprise 用户开始使用 OSP 构建基础设施，然后随着需求的变化升级到 Puppet Enterprise。Puppet Enterprise 增加了许多预配置的基础设施自动化和一个中央服务器来维护它。这包括自动化更复杂的工作流、识别偏差，甚至直接从仪表板生成[价值报告](https://www.puppet.com/docs/pe/2021.2/value-dashboard.html)的能力，以便您可以准确地告诉您的领导团队您通过自动化基础架构管理节省了多少时间和金钱。

付费的 Puppet Enterprise 许可证还可以让您访问教育资源，如实时课程和点播课程，以及 24/7 的企业级技术支持。不要再搜索“我如何在 Puppet 中配置 _ _ _ _ _ _ _ _”

## **奖励:Puppet 只适用于大型基础设施。**

事实证明，Puppet 可以用于大规模和小规模的部署。

的确，许多 Puppet 采用者开始时规模很小，仅使用开源 Puppet 管理少数服务和少量节点，然后随着其安装规模或复杂性的增加而转向 Puppet Enterprise。但是，通过内置的服务来监控和管理任何规模的基础设施，您可以根据自己的需求定制 Puppet Enterprise，并随时扩展它。

也许您只想管理基础架构的几个关键部分，比如构建服务器、负载平衡器、生产数据库以及用于测试和试运行环境的专用数据库和服务器。你可以用木偶做！

如果您曾经对 Puppet 感兴趣并想要了解更多信息，Puppet Education 现在提供免费的按需入门课程——为期三天的教育指导，带您从概念介绍到实践课程，并部署您自己的代码。点击了解更多[。](https://ter.li/0z9rv8)

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>