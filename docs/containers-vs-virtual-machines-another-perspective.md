# 容器与虚拟机:另一个视角

> 原文：<https://thenewstack.io/containers-vs-virtual-machines-another-perspective/>

[](https://www.linkedin.com/in/charlesschulz/)

 [查尔斯-亨利

查尔斯-亨利是战略主管。他是一名技术专家、网络安全专家、自由软件倡导者，多年来致力于开源项目和网络安全政策。](https://www.linkedin.com/in/charlesschulz/) [](https://www.linkedin.com/in/charlesschulz/)

软件容器最近风靡一时。出于很好的理由，它们带来了许多好处，并可能推动内部开发的整个软件栈的修订。容器是云原生现象的基础，为 IT 系统带来许多好处。然而，对容器技术和“云原生方式”的强调可能会让您忘记，这一切都是由 it 系统的底层(硬件和虚拟机管理程序)实现的。

这并不是说容器的采纳者和支持者被误导了。相反，人们往往不清楚哪种技术适合特定的用途，以及客户需要支付哪些费用。

正如我将要解释的，容器和虚拟机之间没有对立。更确切地说，更多的是意识到，容器化应用程序常常隐含地依赖于虚拟化容器将在其上运行的系统。当然，观感大相径庭。多年来，IT 行业一直依靠虚拟化来管理跨组织的应用层。现在，容器已经扰乱了应用程序管理市场——我可以补充一点，这是有充分理由的。

这是否意味着这些年来 IT 行业都错了？不会，因为使用系统虚拟化(即服务器虚拟化)的应用程序管理在某些情况下是一种有效的解决方案。如果应用程序很复杂，并且依赖于可能与 IT 基础设施中的应用程序没有直接联系的数据和软件依赖关系，那么容器可能无法满足复杂应用架构的需求。容器将提供应用程序的可移植性和管理，但不会给应用程序运行的环境带来有效的解决方案。另一方面，虚拟机将提供一个完全可移植和可管理的环境，换句话说，就是一个完全虚拟化的系统。

运行容器和容器舱的复杂系统往往需要虚拟化。不管在容器技术的官方文档中能读到什么，只有当系统足够简单时，容器才能在裸机上运行。一旦需要一个复杂的环境，这往往是大多数企业部署，容器将在一个本质上虚拟化的环境中运行。这可能意味着容器直接运行在虚拟机之上，或者容器运行在本身完全虚拟化的大型复杂环境中。

那么问题是:为什么我们会看到这两种技术不一致？主要原因是实际的:多年来，虚拟机一直被用来处理应用程序管理，这是它们可以做但不是最擅长的事情。容器擅长管理应用程序。然而，一旦数据流和一些跨不同操作系统运行的应用程序一起工作，容器将只是答案的一部分。更广泛的部分是虚拟机。这就是故事的关键所在:容器和虚拟机之间没有真正的对立；他们大多是免费的。

## 混合云的构建模块

实际上，容器的大量采用并没有损害[虚拟机管理程序](https://thenewstack.io/hypervisors-container-era/)。相反，市场的当前状态表明了三种不同的使用情形，或者有时可能同时发生:

*   IT 团队刚刚完成了完全虚拟化环境的部署和技能获取。
*   IT 团队开始将容器用于测试或特定的用例，例如容器化 web 应用程序或邮件服务器，从而在应用程序和操作系统之间增加了一个分离层。为了可移植性和可伸缩性，这些容器运行在操作系统上，而操作系统本身运行在虚拟机上。
*   在少数情况下，生产和消费大量代码的公司迁移到一个完整的云环境(公共或私有)，现在转向“[云原生](https://thenewstack.io/category/cloud-native/)”这涉及到许多应用程序的容器化，而虚拟化层只在软件平台和裸机之间运行。

虚拟机和容器在每种情况下都协同工作，为 IT 运营提供高效的架构和工作负载。没有对立，而是相互依存。真正的区别最终在于需求和用例。系统管理和复杂环境将强调虚拟化，而应用程序管理将更多地依赖于容器。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>