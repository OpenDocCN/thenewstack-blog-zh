# 从云应用的第一英里可观察性中获取价值

> 原文：<https://thenewstack.io/wringing-value-out-of-first-mile-observability-for-cloud-apps/>

[](https://calyptia.com/)

 [阿努拉格古普塔

阿努拉格古普塔是一位热爱开源的产品经理和企业家。他的职业生涯一直在微软、Treasure Data 和 Elastic 从事开源可观察性方面的工作。现在，作为 Calyptia 的联合创始人，他正在应用他在 Fluentd 和 Fluent Bit 方面的专业知识，通过管理和可视化可观测性管道的交钥匙服务来解决第一英里可观测性。](https://calyptia.com/) [](https://calyptia.com/)

我们正在经历一场数据复兴。

商业和我们生活的方方面面都充斥着数据。每个事务和消息及其在云中的底层计算和存储工作负载都会产生新的数据源。

所有这些数据对于扩展应用程序性能以及维护我们关键业务系统的完整性和可伸缩性至关重要。

可观察性数据(日志、指标和跟踪)对于云原生应用程序更为重要，在这些应用程序中，内部工作是短暂的微服务和容器。然而，随着世界转向更多的云原生基础设施，我们开始遇到可观测性枯竭。

我们只利用了摄入的一小部分可观测性数据——在移动和保存所有这些数据时，会产生大量的云出口和存储费用；最终，我们从收集的海量数据中获得的洞察力越来越少。

如果可观测性数据继续增长，并且它代表了我们作为关键基础设施的一部分所能理解的最有价值的信息，那么我们需要重新思考我们如何理解、提炼和使用可观测性数据。

## 第一英里可观测性

可观察性的焦点总是集中在“最后一英里”——数据库、数据湖、索引存储和数据存放的仓库。在这些后端中，价值是显而易见的，因为用户可以查询这些商店来探索他们的应用程序是如何运行的；他们可以通过仪表盘、图表和图形来获得历史信息，甚至可以运行分析和机器学习来获得趋势和预测性见解。

在过去几年中，我们已经开始看到关注点扩展到中间或“中英里”标记，其中数据流通过 Apache Kafka、pub/sub、事件总线和消息队列等层。

这些中间层使用户能够更好地控制企业内部如何使用异步数据，并提供对动态数据的可见性。然而，这并不能帮助我们解决目前的可观测性耗尽问题。

现在，我们需要继续左移，以关注**第一英里的可观测性，**数据从其起始点被收集，并被发送到所有上述流队列和后端。

第一英里的可观察性可以为业务带来巨大的价值，包括统一来自应用程序、基础设施或网络设备的数据，减少对供应商的依赖和成本，或者增加可靠性、解析和丰富以加快分析。

## 更高的灵活性，更少的束缚

虽然这可能是您第一次听说第一英里可观测性，但您很可能已经有了收集数据的系统—通常是供应商提供的代理。这些代理处理大量的自动收集、解析、丰富和转发到所提供的后端。但是，它们有一个代价，即所有数据都被锁定在特定的管道和后端。

供应商提供的收集器被调整为将数据路由到同一供应商的产品套件中的专有队列和最后一英里数据存储库。如果您的整个应用程序生活在这样一个有围墙的花园中，这没什么，但是在今天的 API 驱动的多企业工作流中，有一个非常强烈的动机去思考单个管道之外的问题。

虽然有一个中间事件消息传递系统会有所帮助，但许多专有代理不支持向该系统发送数据。如果您的团队采用 DIY 方法，为这些代理实现自定义功能或更改，您可能无法从供应商那里获得未来的更新或支持。

在过去几年对开源 Fluentd 和 Fluent Bit 项目的贡献中，我看到用户利用这些项目完全拥有他们的可观察性的第一英里。这些项目是开源的，供应商中立的，这意味着您可以选择将数据发送到 Splunk、Elastic 或 Datadog 等可观察性解决方案，或者发送到 Kafka 等中间层。

## 节约云成本

这种自由和灵活性导致了许多公司寻求领先第一英里可观察性的第一个原因——降低将原始或过滤不良的数据注入昂贵的后端的高成本。

例如，通过拥有您的第一英里可观察性策略，您可以选择哪些数据流向哪里，并完全了解您可能为这些数据支付多少费用。此外，您可以过滤或丢弃虚假或错误的数据。当空日志消息对可观察性实践者没有价值时，为什么要为它们付费呢？

另一个优势是，如果您正在从数百个系统传输高容量日志数据，您可以选择它们最适合的后端，而不是只选择成本更高的高可用性存储后端。

## 通过性能丰富上下文数据

如今，分析和机器学习应用程序会在云中生成一些处理器和存储最密集的工作负载。

在这种情况下，我们希望尽可能地丰富可观测性数据。元数据在源数据上的关联提供了实时上下文并减少了分析的查询时间。早期和一致的标记提高了机器学习例程的训练速度，从而减少了 AI 推理时间。

统一第一英里可观测性的格式，而不是等待在中间层或最后一英里目的地将其规范化，给我们带来了两个主要优势。第一，它使数据在我们的可观察性旅程的所有部分都有用，第二，它使最终的数据结构对更多的应用类型有用，并且更容易用于几乎任何类型的工作。

## 从哪里开始？

理解未开发的价值和击败可观察性枯竭的最简单的方法之一是简单地做一个你已经安装在你的服务器上的所有代理的清单。

他们中有多少人在执行将您锁定在数据后端的专有操作？他们中有多少人在收集不可优化的数据？是否有机会用供应商中立或开源选项来替换其中的一些？

第一英里可观察性有巨大的潜在价值，所以不要让它从你身边溜走。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>