<html>
<head>
<title>GitTorrent: A P2P Network of Git Repositories Shared Over BitTorrent</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GitTorrent:通过BitTorrent共享的Git存储库的P2P网络</h1>
<blockquote>原文：<a href="https://thenewstack.io/gittorrent-a-p2p-network-of-git-repositories-shared-over-bittorrent/#0001-01-01">https://thenewstack.io/gittorrent-a-p2p-network-of-git-repositories-shared-over-bittorrent/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">GitTorrent是由Chris Ball开发的一个项目，它将允许开发者使用分散的远程Git库。虽然Git本身在本质上是分布式的——许多开发人员可以拥有自己的项目历史的完整副本——但几乎所有项目都需要一些权威的地方来存放项目代码。目前，这个单一的真实来源将位于一个地方，如GitHub，并且不会有任何形式的分发或回退。GitTorrent试图通过在点对点(P2P)网络上存储代码来解决这个问题。不过，你可能会想，既然我们有GitHub，为什么还会有人想要这个呢？</p>
<p class="translated">GitHub是存放开源代码的主要目的地。鉴于GitHub早在2013年就达到了<a href="https://github.com/blog/1724-10-million-repositories" class="ext-link" rel="external ">1000万个存储库</a>，这在这一点上有点过时了。GitHub已经成为事实上的标准，以至于像微软这样的巨头已经在GitHub上托管项目，而不是他们自己的CodePlex平台。</p>
<p class="translated">微软的CodePlex并不是向GitHub做出重大且出乎意料的让步的第一个例子。不久前，谷歌宣布关闭谷歌代码，并向GitHub卓越的存储库产品脱帽致敬。</p>
<p class="translated">我怀疑很多人，包括我自己，会觉得GitHub的统治地位有问题。GitHub也没有让我们担心。但是没有办法保证我们目前所了解和喜爱的GitHub在多年以后还是同一个GitHub。重要的是要记住，即使GitHub可以被认为是自由和开源软件的堡垒，GitHub也为开源本身做出了巨大的贡献(<a href="https://hubot.github.com/" class="ext-link" rel="external "> Hubot </a>)，有人吗？)，组织会随着时间而变化。</p>
<h2 class="translated">进入SourceForge</h2>
<p class="translated">受人尊敬的老SourceForge已经为托管开源项目提供了多年的服务——至少在软件时间表方面。然而，当对SourceForge的爱开始转移到GitHub时，SourceForge的心和意图变得苦涩，越来越绝望。为了弥补失去的流量，SourceForge在他们的下载页面上显示越来越多的广告，其中一些是无意中恶意的。SourceForge甚至承认——他们应该为此受到表扬——广告问题已经失控。尽管广告可能很烦人，但与GIMP项目最近的问题相比，这个问题就相形见绌了。</p>
<p class="translated">GIMP已经厌倦了SourceForge的方式，决定停止使用SourceForge作为他们代码的下载镜像。SourceForge的回应是托管GIMP的一个版本，这个版本被秘密地<a href="http://www.infoworld.com/article/2929732/open-source-software/sourceforge-commits-reputational-suicide.html" class="ext-link" rel="external ">捆绑了广告软件</a>。这是SourceForge声誉的最后一颗钉子:曾经从SourceForge到GitHub的逐渐迁移变成了全面的大迁移。五年前，甚至十年前，我怀疑任何人都不会想到心爱的SourceForge会沦落到如此地步。</p>
<p class="translated">虽然Bitbucket是另一个很好的源代码库，也是GitHub的有力竞争对手，但就开源用户群而言，它仍然有些遥远。SourceForge的行为在某种程度上被减轻了，因为这一切都发生在他们失宠很久之后。如果GitHub要做类似的事情，有没有类似的服务可供选择？不管是哪家公司，这种风险总是存在的。真正减少这种机会的唯一方法是拥有一个Git托管服务，就像Git本身一样去中心化。</p>
<p class="translated">GitTorrent使用多种技术来避免这些可能来自非分布式来源(如GitHub)的问题。除了Git本身，GitTorrent还引入了Torrenting P2P技术，以及比特币区块链。虽然最后一个区块链组件还没有准备好投入使用，但它正在积极开发中，到目前为止所做的工作非常出色。</p>
<h2 class="translated">GitTorrent组件</h2>
<p class="translated">让我们更深入地了解一下每个组件。让我们从Git的可扩展网络协议开始。安装后，可以使用GitTorrent前缀克隆一个repo。例如，要克隆Hubot repo，我们将调用以下命令:<br/></p>
<div id="crayon-6422f4c00e03a569121457" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">

</td>
<td class="crayon-code translated"><div class="crayon-pre"><p class="crayon-line" id="crayon-6422f4c00e03a569121457-1"/><p class="crayon-line crayon-striped-line" id="crayon-6422f4c00e03a569121457-2"><span class="crayon-h"/><span class="crayon-e">git</span><span class="crayon-e">clone</span><span class="crayon-i">git torrent</span>:<span class="crayon-c">//github . com/github/hubot</span></p><p class="crayon-line" id="crayon-6422f4c00e03a569121457-3"><span class="crayon-h"/></p><p class="crayon-line crayon-striped-line" id="crayon-6422f4c00e03a569121457-4"/></div></td>
</tr>
</table>
</div>
</div>

<p class="translated"><br/>这是将<code>git clone</code>命令传递给<code>git-remote-gittorrent</code>，然后它将处理url。这个Git传输助手也可以用于其他操作，比如获取、克隆和推送。</p>
<p class="translated">因此，这可能看起来有点奇怪，我们刚刚谈到GitTorrent是一种避免GitHub的方法，然后我们做的第一件事是指向GitHub repo然而，这里并不像看上去那么简单。从这里开始，GitTorrent实际上不会从GitHub下载任何文件；我们只是询问GitHub对存储库的最新提交是什么。在我们确定该提交的唯一Git SHA1是什么之后，我们将询问GitTorrent网络上的对等体他们是否有那个SHA1，然后我们将从对等体下载Git对象。具体来说，我们将获取特定Git项目的所有提交。就像常规的Torrenting一样，我们将从不同的用户那里获取不同的提交，有些用户甚至可能没有完整的提交集。</p>
<p class="translated">此外，GitHub还有另一种工作方式，它不使用GitTorrent之外的任何东西。每个GitTorrent用户都有一个公钥。如果我们输入用户公钥散列的SHA1:<br/>，我们就可以从用户那里获得特定的回购协议</p>
<div id="crayon-6422f4c00e03f722074763" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">

</td>
<td class="crayon-code translated"><div class="crayon-pre"><p class="crayon-line" id="crayon-6422f4c00e03f722074763-1"/><p class="crayon-line crayon-striped-line" id="crayon-6422f4c00e03f722074763-2"><span class="crayon-h"/><span class="crayon-e">git</span><span class="crayon-e">克隆</span><span class="crayon-i">git torrent</span>:<span class="crayon-c">///reponame</span></p><p class="crayon-line" id="crayon-6422f4c00e03f722074763-3"><span class="crayon-h"/></p></div></td>
</tr>
</table>
</div>
</div>

<p class="translated"><br/>虽然通过散列来引用用户在概念上很简单，但是散列值并不能成为容易记忆的用户名。目前正在研究的一种替代方案是在比特币区块链中对用户信息进行编码，但这一工作目前仍在进行中。</p>
<p class="translated">不管你用上面哪种风格查询回购，下一步都涉及到GitTorrent网络的分布式哈希表。这个分布式哈希表非常像BiTtorrent的分布式哈希表。对于我们感兴趣下载的每个Git提交，作为repo的一部分，我们可以要求分布式哈希表为我们提供具有我们正在寻找的特定提交的节点。</p>
<p class="translated">为了从对等点实际下载这些文件——类似于Git transport helper——有一个BitTorrent协议扩展来促进传输。在连接到一个节点后，客户机将把它的请求作为bencoded JSON发送。下面是一个来自<a href="https://github.com/cjb/GitTorrent" class="ext-link" rel="external ">gitorrent项目</a>的请求响应示例。</p>
<p class="translated">一旦一个客户端连接到另一个节点，它就发送一个请求，请求它正在寻找的SHA1作为bencoded JSON: <br/></p>
<div id="crayon-6422f4c00e040022116108" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">

</td>
<td class="crayon-code translated"><div class="crayon-pre"><p class="crayon-line" id="crayon-6422f4c00e040022116108-1">{<span class="crayon-i">gitorrent</span>:<span class="crayon-h"/><span class="crayon-i">问</span>:<span class="crayon-h"/><span class="crayon-s">【sha1】</span>}</p></div></td>
</tr>
</table>
</div>
</div>

<p class="translated"><br/>提供packfile的节点返回:<br/></p>
<div id="crayon-6422f4c00e041505062218" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<table class="crayon-table">
<tr class="crayon-row">
<td class="crayon-nums " data-settings="show">

</td>
<td class="crayon-code translated"><div class="crayon-pre"><p class="crayon-line" id="crayon-6422f4c00e041505062218-1">{<span class="crayon-i">gitorrent</span>:<span class="crayon-h"/><span class="crayon-i">sentorrent</span>:<span class="crayon-h"/><span class="crayon-s">【info hash】</span>}</p><p class="crayon-line crayon-striped-line" id="crayon-6422f4c00e041505062218-2"/></div></td>
</tr>
</table>
</div>
</div>

<p/>
<h2 class="translated">结论</h2>
<p class="translated">虽然GitTorrent项目还有点新，但看起来它有很大的希望。BitTorrent和Git都已经存在一段时间了，看到这个项目如何将它们结合在一起是很有趣的。使用比特币区块链进行验证也是一个非常有趣的想法，我很好奇它会如何发展。如果你之前错过了，一定要看看这个项目的<a href="https://github.com/cjb/GitTorrent" class="ext-link" rel="external "> GitHub Repo </a>，并尽可能为其做出贡献。</p>
<p class="attribution translated">专题图片:<a href="https://www.flickr.com/photos/maltman23/" class="ext-link" rel="external ">米奇奥特曼</a>的《<a href="https://www.flickr.com/photos/maltman23/15154373634/in/photolist-dPcqJ1-oRswTL-x6p7KR-gmZd-3YdgT-gmZp-gmZo-mVta-fqC5AM-p698j3" class="ext-link" rel="external ">北京2014年11月</a>》在<a href="https://creativecommons.org/licenses/by-sa/2.0/" class="ext-link" rel="external "> CC BY-SA 2.0 </a>下授权。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>
</div>
</div>    
</body>
</html>