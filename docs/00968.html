<html>
<head>
<title>Getting Legit with Git and GitHub: How (and What) to Gitignore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">合法使用git和GitHub:如何(和什么)忽略Gitignore</h1>
<blockquote>原文：<a href="https://thenewstack.io/getting-legit-with-git-and-github-how-and-what-to-gitignore/#0001-01-01">https://thenewstack.io/getting-legit-with-git-and-github-how-and-what-to-gitignore/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">如果您还记得本系列的第一篇教程，<a href="https://thenewstack.io/tutorial-git-for-absolutely-everyone/" class="local-link">Git for absolute every body</a>，$git init是用于创建和初始设置新repo的一次性命令。执行$git init会生成一个全新的<a href="https://thenewstack.io/dont-mess-with-the-master-working-with-branches-in-git-and-github/" class="local-link">主分支</a>，在此基础上您可以开始构建您的全新项目。它还创建了一个新的。当前工作目录中的git子目录，即项目的根目录。这个子文件夹包含Git生成的所有东西，用于跟踪和存储每个文件的修订历史。</p>
<p class="translated">注意“，”前面的点。git”文件夹。这使得它在finder和terminal中的功能是不可见的，除非我们使用一个命令来专门公开它(提示:$ls -a)。如果你没注意到。git子目录，更不用说在那里挖掘了，不要担心。我们想揭露真相的唯一原因。git是作为一种检查来确保工作目录确实是一个Git库。这是一个方便的能力，但除此之外，你最好离开。饭桶。</p>
<p class="translated">Git故意把它隐藏起来:里面有很多重要的东西，其中大部分超出了普通人和普通开发人员的理解范围。我只想说。git，这个文件夹，包含了让Git，这个版本控制软件，做我们想让它做的事情的几乎所有东西，乱搞它的内容会严重破坏你的项目。做好自己的工作，相信自己。git自己做。</p>
<div id="attachment_4979578" class="wp-caption aligncenter"><a href="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/683313f2-gitunderhood.png" class="ext-image" rel="external "><img aria-describedby="caption-attachment-4979578" decoding="async" loading="lazy" class="size-full wp-image-4979578" src="../Images/bba7d2003381d2aa601e18dd6fa5ab62.png" alt="" data-id="4979578" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/683313f2-gitunderhood.png"/></a><p id="caption-attachment-4979578" class="wp-caption-text translated">git的内容。明白我的意思吗？只是。不要。</p></div>
<h3 class="translated">别理它！</h3>
<p class="translated">我并不是说忽略. git的内容。</p>
<p class="translated">在您的repo中还有另一个隐藏文件，也是在我们运行$git init时自动生成的，名为. gitignore. Your。gitignore文件名故意不跟踪文件，以便告诉git“嘿，不要包括这些！”在其版本工作中。基本上，它是您希望Git忽略的文件列表。</p>
<p class="translated">这种工作方式可以追溯到Git的分布式图论树模型。Git将工作目录中的每个文件视为以下三种情况之一:</p>
<ol>
<li class="translated">跟踪—已经暂存和/或提交的文件；</li>
<li class="translated">未跟踪—尚未暂存或提交的文件</li>
<li class="translated">ignored—Git被明确告知忽略的文件。</li>
</ol>
<p class="translated">被忽略的文件通常是特定于操作系统的文件，也就是说，您的电脑需要渲染您的项目，但与您的实际项目无关。这就是为什么我们不想把它们包含在我们的回购协议中:它们是不必要的空间浪费。GitHub可能是免费的(就目前而言)，但它不是无限的--。gitignore是每个用户的一种礼貌姿态，只发送实际上属于一个项目的东西。有时候。gitignore包含项目实际上需要的文件，但对存储库来说不是必需的，因为它们总是从运行项目的任何计算机和平台上生成/派生的。</p>
<p class="translated">咻！这是很多高层次的抽象。这里有一个具体的例子来说明这一点:假设你在苹果电脑上，你有<a href="https://en.wikipedia.org/wiki/.DS_Store" class="ext-link" rel="external ">。DS_Store </a>文件在你所有的目录下。(你有，它们无处不在，但也无害，这是苹果的事情)。的。DS_Store name是桌面服务存储的缩写，它是一个自动生成的文件，出现在您创建的每个文件夹(目录)中。它存储其父文件夹的自定义属性，如图标的位置或背景图像的选择。</p>
<p class="translated">显然，您不需要Git跟踪您的Hello Kitty桌面映像的这些信息，并在每次提交时提交和推送到GitHub。它和你的项目没有任何关系，只是放在那里，从来没有使用过，占用了内存。只是一点点内存，但是如果每一个GH提交都包含不必要的文件，超过5700万个存储库…嗯，它开始增加。所以我们告诉Git忽略不必要的东西。</p>
<h3 class="translated">如何。gitignore</h3>
<p class="translated">我们将奉献整个教程。gitignore是因为，尽管基本思想足够简单，但实现它意味着利用概念的融合。这是我见过的最让我的学生们意识到走一遍是合适的事情。</p>
<p class="translated">第一步。前往“终端”中的项目文件夹。(还记得好学_ octo _嘉年华吗？我们将以此为例)。然后键入“$ls -a”打印出项目中所有可见和隐藏的文件。看那是我们的。git:</p>
<p class="translated">【T2<img decoding="async" loading="lazy" class="aligncenter size-full wp-image-4979579" src="../Images/b65aef4382bcb03eedd49a4ecde1c8bf.png" alt="" data-id="4979579" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/761eb5c0-gitignore1.png"/></p>
<p> </p>
<p class="translated">然而，还没有一个. gitignore .我们必须做一个；Git不会自动为我们做这件事。</p>
<p class="translated">第二步。键入" $ touch。gitignore”来创建。gitignore目录。不要忘记“.”！</p>
<p class="translated"><a href="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/c8d98a47-screen-shot-2018-06-15-at-8.31.11-am.png" class="ext-image" rel="external "><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-4979580" src="../Images/85b6c8bbf7ce7d5d1dc00afbaddf5981.png" alt="" data-id="4979580" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/c8d98a47-screen-shot-2018-06-15-at-8.31.11-am.png"/>T2】</a></p>
<p> </p>
<p class="translated">第三步。在您选择的文本编辑器中打开项目。因为我们用的是Atom。我们输入“$atom”启动Atom并在其中打开当前目录。</p>
<p class="translated">(额外提示:要从终端激活对Atom的访问，首先要打开Atom。点按左上角的Atom菜单，然后点按“安装Shell命令”。回到你的终端；从现在开始，你可以输入“Atom”来启动Atom，或者“Atom”启动当前工作目录，或使用“$Atom，/directoryName”打开不同的目录)。</p>
<p class="translated"><a href="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/fde29ad6-screen-shot-2018-06-15-at-8.40.27-am.png" class="ext-image" rel="external "> <img decoding="async" loading="lazy" class="aligncenter size-full wp-image-4979581" src="../Images/93ca4843e22025e0ecda6fe0c2bfefcc.png" alt="" data-id="4979581" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/fde29ad6-screen-shot-2018-06-15-at-8.40.27-am.png"/> </a></p>
<p> </p>
<p class="translated">请注意我们的新。gitignore文件是绿色的，这意味着它是未被跟踪的——也就是说，我们还没有暂存/添加或提交它。</p>
<p class="translated">第五步。打开。gitignore file中的文件，就像对待其他文件一样，比如index.html。出于一些奇怪的原因，这一步对我的学生来说似乎是最神秘的，但是:一个隐藏的初始点文件与其他任何文件一样。只需双击目录名，Atom就会为. gitignore打开一个窗口。</p>
<p class="translated">第六步。现在神奇的事情发生了:我们实际上添加了我们希望Git忽略的东西。</p>
<p> </p>
<p class="translated"><img decoding="async" loading="lazy" class="aligncenter" src="../Images/c0a6cce378718bb6cb081175d326cb59.png" alt="" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/06/81411a12-screen-shot-2018-06-15-at-8.52.08-am-300x267.png"/></p>
<p class="translated">这是纯文本，所以我们在行首使用#来表示这是一个注释。然后我们列出我们希望Git忽略的东西。这里，我包括了Mac OS在每个创建的目录中生成的所有cruft。所以再说。我们有机器生成的文件，如Thumbs.db(呈现缩略图)和。垃圾箱(这是被删除的文件在被永久删除之前存储的空间。GH不需要我们的垃圾！).</p>
<p class="translated">就是这样！只需在你的. gitignore中输入你想让git忽略的任何文件的名字，保存它。完成了。</p>
<h3 class="translated">全球。gitignore</h3>
<p class="translated">由于在每个项目中会忽略这么多讨厌的小动物，所以创建一个全局变量会更方便。gitignore file，它是计算机上每个git存储库中要忽略的文件的列表。</p>
<p class="translated">步骤7(可选)。去终端和CD到你的顶层目录(通常，有你的用户名的那个；它包含您的所有文件，如果您不确定，在MAC上，Finder中它旁边有一个小房子图标。</p>
<p class="translated">现在输入<br/></p>
<div id="crayon-6422d970cf021955274573" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<pre>$<span class="crayon-e">git </span><span class="crayon-i">config</span><span class="crayon-h"> </span>--<span class="crayon-e">global </span><span class="crayon-i">core</span><span class="crayon-st">.</span><span class="crayon-i">excludesfule</span><span class="crayon-h"> </span>~/.<span class="crayon-e">gitignore </span><span class="crayon-v">global</span>
</pre>
</div>
</div>

<p class="translated"><br/>导航到新的全局。gitignore目录，并添加您希望git始终忽略的所有不好的内容。操作系统生成的系统文件是一个很好的起点。</p>
<p class="translated"><a href="https://gist.github.com/octocat/9257657" class="ext-link" rel="external "> GitHub有一个有用的列表</a>，列出了它永远不会使用的东西，它真诚地希望你会使用。不管是对他们还是对你自己，都不要理会。</p>
<h3 class="translated">注意:递归确实适用</h3>
<p class="translated">不幸的是。gitignore不是递归的，这意味着如果你已经提交了一个项目，然后返回去创建一个. gitignore，你首先要做一些基础工作。如果你想忽略一个你过去犯过的错误，比如说good ol。DS_Store，您需要首先从存储库中删除该文件，然后为它添加一个. gitignore规则。</p>
<p class="translated">有一个方便的选项叫做“–cached”(两个破折号加单词“cached”)，当与Git remove命令$git rm一起使用时，会导致文件从存储库中删除，但作为一个被忽略的文件保留在工作目录中。</p>
<p class="translated">任何带有“.”的文件。日志”扩展是公平的游戏。git忽略包容。Git自己生成日志，谢谢，不需要你的。如果你已经提交了一个项目，并想返回删除日志文件，这看起来是这样的:<br/></p>
<div id="crayon-6422d970cf028293700041" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<pre>$<span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">rm</span><span class="crayon-h"> </span>--<span class="crayon-e ">cached *</span>.<span class="crayon-i">log</span>
$<span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">commit</span><span class="crayon-h"> </span>-<span class="crayon-st">m</span><span class="crayon-h"> </span><span class="crayon-s">"Start ignoring *.log files"</span>
</pre>
</div>
</div>

<p class="translated"><br/>我们必须在这里执行一个commit with message，因为这些无用的文件目前正在被Git跟踪——所以删除它们成为了版本历史的一部分。</p>
<p class="translated">正在设置。当你是一个新的程序员，被所有你想让Git注意的事情淹没，更不用说你不想注意的事情时，gitignore可能会觉得是一个不必要的额外步骤。但是我向你保证，在你进行的每一次回购中花时间这样做是成为一个好的GitHub公民的重要一步——并且作为一名程序员被认真对待。</p>
<p class="attribution translated">由<a href="https://unsplash.com/photos/Km5JGMW4VPM?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="ext-link" rel="external ">Tru " kat sande</a>在<a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="ext-link" rel="external "> Unsplash </a>上拍摄的特征图像。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>
</div>
</div>    
</body>
</html>