# 为云原生时代重新想象网络

> 原文：<https://thenewstack.io/re-imagining-the-network-for-the-cloud-native-era/>

[](https://www.linkedin.com/in/vijoy/)

[![](img/ef5037771daf056cac3c9afa4df8836b.png)](https://www.linkedin.com/in/vijoy/)

[Vijoy Pandey](https://www.linkedin.com/in/vijoy/)

[Vijoy Pandey 是思科的云副总裁兼 CTO，于 2018 年 8 月加入思科。Vijoy 之前在谷歌担任过各种领导职务，负责谷歌全球数据中心网络足迹、云网络及其两个全球广域网的架构、工程和运营。他还领导了意图驱动的零接触自动化、诊断遥测、数据分析和基础设施中的 ML/AI 和应用级感知的软件和系统的开发。在加入 Google 之前，Vijoy 曾担任过多个 CTO 职位，包括 IBM Cloud 和 IBM Systems and Software Group 的网络 CTO；Blade Network Technologies 的首席技术官，曾领导 Blade Network Technologies、Nortel 和 Alteon 的全球工程团队。Vijoy 引领了业界云规模网络的自动化和数据分析工作，并在实现许多行业第一方面发挥了重要作用，包括第一个云规模的意图驱动的 e2e 自动化框架，第一个开源 SDN 控制器；首款虚拟机感知交换机和首款低延迟 HFT/HPC 交换机。他拥有计算机科学博士学位，在分布式系统和网络领域拥有 60 多项专利。](https://www.linkedin.com/in/vijoy/)

[](https://www.linkedin.com/in/vijoy/)[](https://www.linkedin.com/in/vijoy/)

在过去的几年中，我们看到应用程序架构发生了巨大的变化，并成为了云原生的。单片应用程序正在被分解为微服务和无服务器功能，以极大地简化开发、生命周期管理、提高功能速度，并提高所提供服务的可用性。

网络的发展[非常缓慢](https://www.youtube.com/watch?v=KmCfIQFllOM)，在成为云原生应用的过程中经历了一些曲折，并无缝融入云原生应用的架构、开发和部署模型。

但是为什么一个应用开发者[要关心网络](https://www.youtube.com/watch?v=GvJLCzFGbVY)和它的发展呢？

没有人再编写单一的、孤立的、单一计算的应用程序了。原生云是横向扩展分布式应用的同义词。表现良好的分布式系统是功能强大、抽象良好、高度可用和安全的网络的同义词。

如果不关注网络的特征，就无法开发出成功的云原生应用。虽然我们都可能想要一个同构、零延迟、始终可用、无限安全、处处无限带宽的网络，但早在 20 世纪 90 年代早期，分布式计算的[谬论](https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing)论文在今天仍然有效，随着应用程序成为云原生的，今天甚至更加相关。

这并不是说自 20 世纪 90 年代以来，网络的这些属性没有显著的进步。光学、无线、交换和路由硅技术的进步确保了在过去 20 年中带宽增加了 100 万倍，延迟降低了 40 多倍。随着正式的[基于意图的网络建模](https://www.cisco.com/c/en/us/solutions/intent-based-networking.html) (IBN)，以及注入 AI/ML 的自动化系统，可用性数字也缓慢而确定地向 4-9 发展，在某些环境中，甚至向 5-9 发展。

即便如此，由于成本、拓扑和治理等原因，网络的异构性仍然存在，这种异构性将始终意味着谬误依然存在。那么网络如何发展才能让分布式云原生应用更容易开发、部署和管理呢？

为了理解这一点，让我们快速看一下网络在过去三十年中所经历的转变，到目前为止它一直试图解决的问题，以及问题空间在未来十年中是如何扩展的。

## 黎明

一开始，有一个盒子。

所有基础架构提供商都是从机箱制造商起步的:计算、存储和网络。在网络基础设施领域，这些盒子是紧密耦合的硬件和软件系统。我们开始连接这些系统，以建立更大、更强大的网络，并为这些机器创建定义良好的协议，以便彼此通信。随着网络复杂性的增加，嵌入这些网络设备的功能和协议也越来越复杂。

我们尝试在全球范围内扩展这种复杂性，创建建筑物大小的数据中心，并将数千个这样的数据中心连接起来。这些全球网络运行缓慢，监测缓慢，发展缓慢。

## 成长为全球规模的计算

第一波简化始于软件定义网络(SDN)，从概念上讲，它试图以一种使软件更容易与之交互的方式使网络资源可互换。

随着基于意图的网络(IBN)的引入，我们开始将整个网络视为单一系统，引入了声明式拓扑、配置和策略管理、通过流遥测的实时可见性以及基于人工智能(AI)的[闭环操作](https://www.cisco.com/c/en/us/solutions/artificial-intelligence.html#~benefits)等概念，帮助我们迈向零接触网络。这些进步使得难以置信的规模和行星规模的计算成为可能。

## 虚拟化过渡

大约十年前，应用和计算领域开始向虚拟化过渡。通过这种转变，有了更好的生命周期管理和敏捷性的承诺和部分交付。但是在完成这个转变的过程中，我们都走了捷径。那天的口头禅是:把它包起来。

大型单体应用程序被包装在大型单体虚拟机(VM)中并进行部署。从组织上来说，这是完美的。应用程序体系结构没有改变—数据库管理员仍然是数据库管理员。因此，运营架构和流程保持不变，这意味着组织保持不变。

网络领域也有类似的捷径。我们将大型整体网络功能打包到虚拟机中。我们使用相同的(V)交换机和(V)路由器概念，以及相同的机制和协议，如 V*LAN、子网、路由(BGP ),将物理网络中的一切复制到虚拟空间中。

这没什么大不了的，因为虚拟网络和物理网络都是统计的聚合网络，从一个网络向另一个网络传输应用流量。他们真的是一体的。

物理网络和虚拟网络都在试图解决同一个问题空间。

## 向云原生的大规模转型

由于本文开头概述的优势，云原生架构开始变得普及，所有新的应用程序都以基于微服务或无服务器的方式开始其生命周期，同时旧的整体应用程序也向云原生架构分解。

[运营架构](https://www.youtube.com/watch?v=H4vMcD7zKM0)和流程不能坐以待毙。数据库管理操作功能现在分解为创建数据库的多组微服务和功能的操作团队。因此，组织内部所需的技能组合也在发生巨大变化，改变着组织的核心结构。

开发人员和云架构师开始选择内部软件堆栈和各种公共云 API 的适当组合来交付他们的云原生应用，并开始推动基础架构决策。

## 重新想象云原生网络

不幸的是，变化不止于此。随着应用程序的组件变得越来越薄([微服务、功能](https://www2.eecs.berkeley.edu/Pubs/TechRpts/2019/EECS-2019-3.pdf))，以及地理上的多样化(云区域、本地、全球)，即使是单个应用程序的连接问题也变得越来越糟糕。快速浏览一下云原生应用程序(例如 [Monzo 银行应用程序](https://monzo.com/blog/we-built-network-isolation-for-1-500-services/))的服务依赖图，我们会感觉到需要解决的网络问题。

此外，与物理和虚拟网络相比，这一挑战处于不同的层面。这个网络，或者云本地网络，是为应用开发者准备的。它具有狭窄和深度的上下文，并且不太担心流经下面网络的所有其他流量。它遵循简化连接、相关上下文的原则，并遵循应用程序开发中使用的相同激活模型。

对于应用程序开发人员来说，是时候重新考虑连接性，而不是网络。云原生联网的时候到了。

[https://www.youtube.com/embed/GvJLCzFGbVY?feature=oembed](https://www.youtube.com/embed/GvJLCzFGbVY?feature=oembed)

视频

图片由来自 Pixabay 的 enriquelopezgarre 提供。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>