<html>
<head>
<title>How GE Digital Tackled the Stateful / Stateless Problem for Industrial IoT</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GE Digital如何解决工业物联网的有状态/无状态问题</h1>
<blockquote>原文：<a href="https://thenewstack.io/ge-digital-tackled-stateful-stateless-problem-industrial-iot/#0001-01-01">https://thenewstack.io/ge-digital-tackled-stateful-stateless-problem-industrial-iot/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">为了让无状态架构高效工作，正如IETF最近在<a href="https://tools.ietf.org/id/draft-keranen-t2trg-rest-iot-05.html" class="ext-link" rel="external ">其物联网RESTful架构研究</a>中所宣称的那样，组件之间共享的消息必须彻底、完整且独立。接收函数需要知道的关于它需要做的工作的任何事情，都必须包含在联系它的API调用中。</p>
<p class="translated">正如工程师(包括IETF的工程师)已经认识到的那样，持久数据将永远是服务器端应用程序和客户端应用程序的必要资源。以及物联网(IoT)应用对保持连接传感器和设备的可靠、持久网络的需求，使得稳定和独立的网络状态数据平台变得至关重要。</p>
<p class="translated">因此，如果你的工业物联网平台的第一版是建立在Cloud Foundry上的，而<a href="https://thenewstack.io/best-practices-for-developing-cloud-native-applications-and-microservice-architectures/" class="local-link">以其无状态的架构</a>而自豪，你如何将最初的愿景与事物的真实状态调和起来？</p>
<h2 class="translated">机器数据机</h2>
<p class="translated">“无论我们喜欢与否，我们都在从事处理信息的业务，我们正在建立处理数据的业务，”通用电气数字公司<a href="https://www.ge.com/digital/predix" class="ext-link" rel="external "> Predix工业物联网平台</a>服务的软件工程总监<a href="https://www.linkedin.com/in/balajeen" class="ext-link" rel="external "> Balajee Nagarajan </a>在最近的洛杉矶中尺度会议上发言。</p>
<p class="translated">Nagarajan领导团队开发Predix作为PaaS平台，用于工业物联网，特别是管理和利用机器和互联设备产生的海量数据。通过在Predix平台上部署定制应用，工业客户可以管理、监控和执行自己资产的预防性维护，从而减少计划外停机时间。</p>
<p class="translated">“鉴于通用电气在许多商业垂直领域的足迹如此之大，”Nagarajan继续说道，“我们成为构建这一工业物联网平台的领导者是如此自然、有机的增长，特别是因为我们固有的领域经验。”</p>
<p class="translated">2015年8月，通用电气宣布有意进入云服务市场。其最初的愿景涉及一种名为Predix Cloud的产品，这是一个数据收集和处理平台，用于其自身的工业运营以及工业客户，特别是医疗保健、石油和发电领域。与典型的公共云服务不同，Predix Cloud可以实时接收、解释、分析和报告机器数据。</p>
<p class="translated">去年11月，通用电气将该产品扩展到“Predix系统”，这是一个面向工业的分布式服务网络，包括更直接面向其关键垂直客户的应用程序。但即使Predix已经彻底渗透到物联网服务领域，其母公司也没有在Predix的促销活动中使用“物联网”这个词。</p>
<p class="translated">现在，随着工程师们规划出一条前进的道路，母公司经理们的任何疑虑都烟消云散了。</p>
<div id="attachment_3162472" class="wp-caption alignright"><img aria-describedby="caption-attachment-3162472" decoding="async" loading="lazy" class="wp-image-3162472 size-medium" src="../Images/7502ab7b3cd34484ef1cd748e38db1af.png" alt="" data-id="3162472" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/09/29b1802f-170915-mesoscon-03-venkatesh-s.-balajee-n.-ge-predix-245x300.png"/><p id="caption-attachment-3162472" class="wp-caption-text translated">数据平台负责人Venkatesh Sivasubramanian和GE Predix软件工程总监Balajee Nagarajan</p></div>
<p class="translated">“我们正试图成为一个云不可知的物联网平台，”Nagarajan宣布。他将Predix的当前架构描述为依赖于HashiCorp Terraform来配置和供应亚马逊AWS和微软Azure上的基础设施，其他公共云提供商的计划即将推出。从那里，<a href="https://bosh.io/" class="ext-link" rel="external "> Bosh </a>被用来提供Cloud Foundry，它是唯一面向开发者的组件。客户通过Cloud Foundry使用其熟悉的模型部署应用程序。</p>
<p class="translated">“Cloud Foundry有这个强大的市场，”他说，“在这里你可以建立资产构建模型和分析构建模型。然后Cloud Foundry也提供了一个非常安全的接口来Predix自己。”</p>
<p class="translated">Predix平台现在的工作方式是，一些服务部署在“边缘”——要么在客户场所，要么在安装客户传感器的位置。这些服务充当本地聚合点，在传感器数据被中央云接收之前，尽可能地对其进行预处理。在安装了通用电气自己的光传感器的地方，Predix可能会使用通用电气的数据连接工具来执行更接近传感器本身的分析功能。</p>
<p class="translated">然而，在其他地方，客户将他们自己定制开发的工具部署到Predix的Cloud Foundry基础平台，用于对输入数据进行他们自己的预测分析。“Cloud Foundry以一种对他们来说实际上合理的方式抽象了开发人员的体验，”Predix数据平台负责人Venkatesh Sivasubramanian解释道。“他们不必管理单独的机器、基础架构等等。对于无状态的应用程序来说，这确实很棒。它为您提供了一个很好的市场，您可以与之交互来创建您需要的服务实例，并将它们绑定到它们的应用程序。”</p>
<h2 class="translated">薛定谔的存储接口</h2>
<p class="translated">随着大量数据被摄取成为一个问题，Predix团队开始研究扩展其数据存储能力的新选项。首先，他们调查了Cloud Foundry正在建设的<a href="https://thenewstack.io/containerization-leaders-explore-possible-data-storage-interface-initiative/" class="local-link">容器存储接口(CSI)计划</a>。但是正如<a href="https://www.youtube.com/watch?v=RKg4ucE40ic" class="ext-link" rel="external "> Sivasubramanian在<a href="https://thenewstack.io/podcasts/makers" class="local-link">即将到来的播客</a>中告诉New Stack的Alex Williams </a>的那样，CSI还没有表现出发展成熟的迹象——稳定下来进入规定的形式。</p>
<p class="translated">“我们确实需要一个单一的基础设施，让我们能够运行无状态和有状态，”他说。</p>
<p class="translated">这就是<a href="https://thenewstack.io/portworx-provides-container-level-approach-stateful-applications/" class="local-link">持久数据层提供者Portworx </a>介入的地方。Predix使用Mesos作为其调度器，团队可能选择的任何数据层都需要适应有状态和无状态应用程序，就像Mesos一样。Predix一直在使用Bosh实例化其面向Cloud Foundry的服务，同时使用Terraform来提供基础设施和Chef来准备流程。但是由于Cloud Foundry本身并不支持持久数据集群，所以它们必须在Cloud Foundry之外进行实例化，然后使用其Service Broker API进行连接。</p>
<p class="translated">Portworx启用了一种新的供应模式，该模式利用了Mesos的两级调度程序<a href="https://thenewstack.io/mesospheres-container-2-0-unites-stateless-stateful-workloads/" class="local-link">，于2016年8月正式推出</a>。通过这种方式，Predix可以引入一个动态卷供应流程来独立于CF维护这个庞大的数据存储。Predix可以使用<a href="https://github.com/openservicebrokerapi/servicebroker" class="ext-link" rel="external ">开放服务代理</a> (OSB)从Portworx请求这些服务。</p>
<p class="translated">“Portworx 的核心[ <em>是一个分布式数据块、软件定义的存储解决方案，”Portworx CTO <a href="https://www.linkedin.com/in/gouthamrao/" class="ext-link" rel="external "> Goutham Rou </a>解释道，他也与Alex Williams进行了交谈。Rou评论说，在过去的15年中，向网络添加10到20TB的存储已经从几个月甚至几年内设计一个SAN或NAS发展到购买一个已经安装了20TB的服务器。</em></p>
<p class="translated">“与此同时，Cassandra、MongoDB或HDFS等现代应用天生就喜欢向外扩展，并自己处理向外扩展和聚合，”Rou继续说道。“如果你看一下Cassandra，你会想给它一种直连存储的错觉，或者超收敛的概念。我们的软件架构从根本上使人们能够超融合地运行他们的应用程序，尽管它更有利于Cassandra这样的应用程序，因为你可以获得低延迟的访问。您的应用程序正在更接近其存储所在的位置运行。”</p>
<p class="translated">CTO说，更重要的是，Portworx能够直接与Mesos或任何调度程序一起工作，以确保数据驱动的应用程序保持合理的编排。“Predix”堆栈包含Cassandra事实上，Predix团队为<a href="https://mesosphere.com/product/" class="ext-link" rel="external "> Mesosphere DC/OS </a>创建了一个OSB包，用于提供Cassandra的服务代理兼容版本。</p>
<p class="translated"><img decoding="async" loading="lazy" class="alignleft wp-image-3162463" src="../Images/28550cb4aab1ddb57e1022b838458e94.png" alt="" data-id="3162463" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/09/51cea87f-170914-mesoscon-04-tobias-knaup-cto-mesosphere-300x189.jpg"/></p>
<p class="translated">“今天，许多公司都在DC/操作系统上运行数据丰富的应用程序，”Mesosphere首席技术官<a href="https://www.linkedin.com/in/tobiasknaup/" class="ext-link" rel="external ">托拜厄斯·克纳普</a><em>在一次MesosCon主题演讲中说道。Knaup表示，其中许多应用程序，尤其是物联网领域的应用程序，都运行在它所谓的“SMACK堆栈”上:Spark、Mesos、Akka、Cassandra和Kafka。“我们得出了一些数字:超过50%的DC/操作系统集群正在运行其中的一些框架。因此，它确实是一个运行数据驱动型应用的平台。”</em></p>
<p class="translated">Portworx的堆栈还包括Redis、ElasticSearch、一个开源异常检测包，以及作为独立于OSB的消息代理的<a href="https://www.rabbitmq.com/" class="ext-link" rel="external "> RabbitMQ </a>。</p>
<p class="translated">“我们作为平台运营商和平台架构师[<em>面临的最大挑战是，”Nagarajan告诉新的Stack，“当我们为最终用户提供平台时，我们希望确保该平台高度可用。正如Mesos为您提供统一的计算结构一样，Portworx提供了统一的存储结构。然后，我们可以让最终用户不必担心如何使用高可用性应用。”</em></p>
<p class="translated">如果这不完全是有状态和无状态的“婚姻”，就目前而言，这是一种可行的同居。用不了多久，第一个打开电灯泡的公司可能会认识到这个想法的全部范围正在启动。</p>
<p class="attribution translated">这个故事是由中间层赞助的。<a href="https://www.cloudfoundry.org/" class="ext-link" rel="external ">云铸造基金会</a>是新堆栈的赞助商。</p>
<p class="attribution translated">特征图片:上图，从左至右:新栈的亚历克斯·威廉姆斯；Venkatesh Sivasubramanian，GE Previx数据平台负责人；GE Predix软件工程总监Balajee NagarajanPortworx首席技术官兼联合创始人Goutham Rou</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>