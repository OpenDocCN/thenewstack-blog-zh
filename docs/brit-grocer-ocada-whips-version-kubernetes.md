# Kubermesh: Ocado 的 Kubernetes 变体，用于构建容错基础设施

> 原文：<https://thenewstack.io/brit-grocer-ocada-whips-version-kubernetes/>

英国网上超市 Ocado 有着悠久的创新历史。它是英国第一家网上杂货供应商；它是首批推出购物应用的公司之一，也是首家提供 Apple Watch 购物服务的英国零售店。

有了这种创新的意愿，该公司不断寻找技术手段来改变整个购物体验就不足为奇了。该公司甚至拥有自己的子公司[奥卡多科技](http://ocadotechnology.com/)，这是一个为开发这一领域的机会而成立的组织。

该公司在技术的许多不同方面都非常活跃，例如在机器人技术的应用方面尤为先进。在这一领域的大部分工作中，它是[谷歌云平台](https://cloud.google.com/)和容器编排系统 [Kubernetes](/category/kubernetes/) 的大量用户，该系统由谷歌开发，现在由[云本地计算基金会](https://www.cncf.io/)作为开源项目管理。

Kubernetes 已经在 Ocado 中广泛使用，最初用于管理持续运行的大型数据集。因此 Ocado 的网络系统团队负责人 Mike Bryant 认为可以部署该系统来简化公司的仓库。这个团队想出的东西，Kubermesh，将会从根本上重塑整个运营。

“我们在 Kubernetes 看到的是一种我们可以协调不同组件的方式，以建立一个有弹性的，容错的基础设施，”Bryant 说。

虽然 Kubermesh 是 Kubernetes 的增强版，但它不是一个替代品。“它位于下方，为我们的仓库提供网状网络，”布莱恩特说。“它更关注底层基础设施。”

Ocado 对 Kubermesh 所做的就是消除在运行仓库时对数据中心的需求。虽然该系统并没有消除对服务器的需求，但它所做的是提供了大幅削减成本的潜力。“大多数人在高性能服务器上运行 Kubernetes，我们在个人电脑上运行——这是一个非常显著的成本节约，”Bryant 说。“不仅仅是服务器，我们不需要企业网络布线，我们不需要高端网络套件，我们节省了冷却成本，我们真的在削减成本。”

经济效益也是有道理的:“在我们最新的仓库中，我们希望每次部署节省 100 万英镑。考虑到该公司必须管理的 Ocado 仓库的数量，这是一笔越积越多的节省。”

但是 Kubermesh 系统不仅仅是为了省钱；这是为了在一个交付速度至关重要的行业中提供弹性。Kubermesh 提供的是一个分布式网状网络，确保连续服务，“我们运行 Kubermesh，所以即使一个工作站死亡，它仍然在运行，”科比说。

底层 IPv6 网络使用[开放式最短路径优先](http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_ospf/configuration/15-sy/iro-15-sy-book/ip6-route-ospfv3.html) (OSPv3)来简化配置，从而不必配置点对点连接。网状网络意味着服务器可以随机分布在仓库周围，它的设计使得所有组件都可以独立工作。这意味着，如果一台服务器离线，整个系统仍将工作。它也不仅仅是一台服务器:Ocado 的设置被设计成即使多达三分之一的服务器被切断，也能继续运行。

> “我们在 Kubernetes 中看到的是一种我们可以协调不同组件来构建弹性、容错基础架构的方式。”——迈克·布莱恩特。

目前，Kubermesh 项目仍处于试点阶段。Ocado Technology 已经进行了概念验证试验，以表明该系统是可行的，但不打算拆除现有的基础设施来实施新技术。

“更换现有系统没有财务优势，但当我们下一次建造新仓库时，我们将推出 Kubermesh，”Bryant 说。"然而，这没有时间表."

Ocado 凭借其仓库虚拟数据中心独辟蹊径。“我们不知道有任何其他竞争者做过这样的事情，”科比说。然而，该公司已经将 [Kubermesh](https://github.com/kubermesh/kubermesh) 的代码放在 GitHub 上，因此它有可能被部署在其他地方。

## 竞争压力

像零售业这样经历了如此彻底变革的行业并不多。仅仅在 20 年前，我们都以同样的方式购物——每周或每月去一次超市买食物，去个别商店买其他东西。

不再是了:我们都已经完全接受了网上购物。根据美国[零售研究中心](http://www.retailresearch.org/)的数据，2016 年美国在线销售额增长了 14.4%，达到 3995.3 亿美元。预计到今年年底，销售额将达到 4590.7 亿美元，增长 14.9%，而 2018 年的预计增幅为 15.4%。

自然，考虑到市场的规模和不断增长的网上购物需求，零售商正在寻找改善购物服务的方法。

然而，Ocado 所做的是证明零售业需要更多的适应来保持领先地位。Kubermesh 系统只是改善 21 世纪购物体验的众多努力中的一部分。

[云本地计算基金会](https://www.cncf.io/)是新堆栈的赞助商。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>