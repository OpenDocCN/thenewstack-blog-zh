# 当本地无服务器击败云时

> 原文：<https://thenewstack.io/when-on-premise-serverless-beats-the-cloud/>

当大多数人谈论无服务器架构时，首先想到的是 Lambda 等基于云的服务。在云中，无服务器让你可以使用一种经济高效的支付模式，按需运行几乎无限数量的功能。

然而。

并非所有的无服务器框架都位于云中。有一些可以在内部部署，比如 OpenWhisk 和裂变. io 提供的那些。

为什么要在内部部署 [无服务器](https://www.twistlock.com/serverless-security/) ？在这样做时，您需要考虑哪些特殊因素？让我们在本文中探讨这些问题。

## **内部部署和基于云的无服务器之间的差异**

借助基于云的 [无服务器](https://www.twistlock.com/serverless-security/) 架构，应用代码被部署到云提供商，如 [亚马逊 Web 服务 Lambda 或微软 Azure 功能](https://www.twistlock.com/solutions/serverless-security-aws-lambda-azure-google-cloud/) 。指定的事件，从 HTTP 请求到 GitHub，取决于云提供商支持什么，然后触发代码。这样，基于云的无服务器架构是有用的，因为它通过按需付费的功能降低了成本。

但是，对于内部无服务器架构，无服务器功能托管在本地基础架构上，而不是作为云中的托管服务运行。应用程序代码被部署到本地服务器，并通过指定的事件触发运行。

不同公司有不同形式的内部部署无服务器解决方案。Platform9 等云管理解决方案允许用户在其托管云之上部署托管无服务器平台。Platform9 在不运行工作负载的情况下提供多租户云服务架构，允许用户在内部运行工作负载。OpenWhisk 等开源选项也可以在内部部署。

## **为什么选择内部部署**

虽然不必管理物理服务器和几乎无限的可扩展性是基于云的无服务器架构的主要吸引力，但内部无服务器也有一些显著的优势:

*   **避免云供应商锁定**:使用基于云的无服务器，您的应用程序完全依赖于第三方提供商，这意味着您依赖于该提供商的持续可用性，并考虑他们的成本(可能会发生变化)。更改您的提供商几乎肯定会导致您的应用程序发生重大变化。然而，对于内部实施，由于工作负载在本地运行，来自供应商锁定的风险降低了；
*   **[安全性](https://www.twistlock.com/platform/)** :对于处理非常敏感数据的公司来说，基于云的解决方案可能不是最佳选择。大多数服务提供商是多租户的，这意味着他们在同一台物理服务器上为不同的客户运行软件。即使工作负载通过虚拟工作负载或容器隔离，相邻应用程序中的任何安全缺陷或故障都可能对应用程序代码的可用性和总体性能产生负面影响。在本地本地服务器上运行您的工作负载可以降低这些风险，并确保您的数据安全；
*   **效率和开销成本**:从长远来看，在专用的本地服务器上运行工作负载可能比在基于云的无服务器架构上执行长期任务要便宜得多。此外，在应用程序代码间歇运行的情况下，本地无服务器可降低基础架构的利用率(因为只在几台服务器上运行多个应用程序会更高效)。

## **结论**

与基于云的替代方案相比，本地无服务器的宣传较少，但这并不意味着它在许多情况下不可行。事实上，如果您的内部 IT 团队具备构建和运行无服务器平台的专业知识，那么根据您组织的需求，至少应该考虑内部部署。因此，当您规划您的无服务器策略时，不要将自己限制在云环境中，而是要考虑您是否能够从选择本地无服务器部署中获得安全性和成本优势。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>