# 网络安全管理软件产品·哈克揭示了保护软件供应链的 3 个被忽视的步骤

> 原文：<https://thenewstack.io/solarwinds-hack-reveals-3-overlooked-steps-to-securing-a-software-supply-chain/>

[](https://www.linkedin.com/in/tim-johnson-9152b42/)

 [蒂姆·约翰逊

蒂姆是 CloudBees 的高级产品营销经理。他关注 DevOps 对人和组织的影响。他拥有超过 15 年的产品营销经验，曾服务于电气云、BMC 软件、思科、谷歌和 SurfControl 等行业领导者。](https://www.linkedin.com/in/tim-johnson-9152b42/) [](https://www.linkedin.com/in/tim-johnson-9152b42/)

自从新闻首次披露网络安全管理软件产品的 Orion 软件已经在用户安装上受到损害，我们了解到罪犯已经进入了多达 [18，000 个政府和私人网络。](https://krebsonsecurity.com/2020/12/solarwinds-hack-could-affect-18k-customers/)

我们不是来批评网络安全管理软件产品的，也不是来告诉你我们的产品和服务可以防止这种违规行为。相反，我们希望分享我们看到 IT 领导者忽略潜在风险的三个领域。通过重新关注这三个方面，你可以尽可能地降低风险。我们在这里关注的是供应链的完整性——它与安全性密切相关，发生在事前，而不是事后。

## 1.在软件供应链的每一步设置流程入口和控制

在网络安全管理软件产品的案例中，攻击者进入了 GitHub 的一个仓库，发现了一个明文的共享秘密——可能是密码。理论上，没有安全意识的工程师会把它放在那里，但实际上，即使是最好的人也会犯错。你能有一个自动化的过程来检查不应该在你的仓库里的东西吗？

当然，在磨合之后会有一个构建过程，在这个过程中，被修改的代码会被嵌入到产品中，然后交付给客户。每一步的自动漂移检测都会提醒工程师对代码的修改。

### 是的，管道的每一部分

我们的经验是，即使是优秀的 IT 领导者也经常关注最有可能妥协的地方，而不是整个生态系统。管道从开始到结束的每一点的地图是什么？管道本身的完整性如何？糟糕的演员或诚实的错误会以某种方式影响它的完整性吗——无论是有意的，通过肥胖的手指还是通过错位的良好意图？网络安全管理软件产品的罪魁祸首表明，一个专门的黑客可能需要的只是管道中被忽略的一部分。

在你的*整个*管道中，过程步骤和关卡——每次都必须强制执行——将最大限度地减少恶意代码的机会。您是否将它们作为 CI 或 CD 的一部分来实施取决于您。但是，软件构建和交付管道中的任何步骤，如果没有自动检查和控制来防止坏代码进一步传播，都是一个漏洞。

### 自动化并预演不可避免的事情

虽然我们希望专注于在攻击发生之前*阻止攻击，但重要的是要有适当的流程来快速缓解任何漏网之鱼。对于我们自己，除了[标准 DORA 集合之外，我们还添加了一个指标](https://thenewstack.io/dora-2019-devops-efforts-improving-but-not-done/)，称为[平均缓解时间](https://www.cloudbees.com/blog/continuous-verification)。它测量的是从发现问题到解决问题的时间长度。*

[CloudBees](https://www.cloudbees.com/?utm_content=inline-mention) 提供特性标记功能，允许工程师立即[为客户关闭](https://www.cloudbees.com/blog/how-disable-code-developers-production-kill-switch)特定代码段，而无需发布新的下载。如果你没有使用特性标志，那也没关系，但是你有排练过的和自动的回滚吗？提前测试这些流程，以减少您的平均缓解时间，并减少导致糟糕情况恶化的级联错误的机会。

## 2.不要假设坏演员只存在于你的组织之外

一个腐蚀你软件供应链的演员不一定是恶意的。无论是谁以明文形式将共享秘密放入网络安全管理软件产品的存储库中，都无意为攻击者打开方便之门，但不幸的是，最终结果都是一样的。

你的整个过程必须是安全的，即使是从事故和错误。再次，检查你的整个管道。谁能接触到它？你有不可变对象的存储库吗？如果有人试图用那些不可变的对象中的一个去换页或者注入一个假的，你有办法检测并过滤掉它吗？

在流程的每一步，你都需要知道谁有访问权，谁有特权，谁有可用性。您必须能够检测、批准和跟踪任何用户所做的任何更改。

## 3.像审计员一样思考

许多网络安全管理软件产品的客户都是联邦客户，他们有长达[个月的软件更新审计流程](https://www.cloudbees.com/blog/how-devsecops-helps-federal-government-achieve-continuous-ato)。尽管如此，该进程并没有捕捉到注入的代码或它在安装后提供的未经授权的访问。

满足审计员的要求是不够的。你需要提前两步考虑，首先考虑他们在寻找什么:漏洞、未经授权的更改以及你对意外事件的反应。不仅仅是通过考试，你还想掌握材料。

回顾您的自动化实践——这些应该作为您理解过程的蓝图。您多久审查一次自动化中的假设？它的哪一部分仍然是相关的或必要的？自上次审查以来，应用程序、环境和技术发生了哪些变化？当出现问题时，我们如何处理、记录和改进？

自动化的主要好处是相似操作的一致、可重复的结果，这些结果被自动记录和归档。它还带来了额外的好处，即无可辩驳的证据表明，所做的就是承诺要做的，这是合规的基础。由于 DevOps 跨越了整个管道，它提供了从代码变更到发布的可追溯性，使得审计更加容易。合规性报告变成了一键式工作，消除了手动干预或花在回溯手动流程和操作上的时间。

软件供应链及其完整性与安全性密不可分。我们确定了 **[最大限度降低完整性风险的七个策略](https://www.cloudbees.com/resource/whitepaper/seven-tips-for-creating-audit-ready-pipelines)** ，它们适用于任何将治理、安全性和合规性作为首要业务挑战的组织。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>