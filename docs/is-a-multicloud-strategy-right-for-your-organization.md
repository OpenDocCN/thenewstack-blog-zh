# 多云策略适合您的组织吗？

> 原文：<https://thenewstack.io/is-a-multicloud-strategy-right-for-your-organization/>

在过去几年中，云的采用一直在加速，许多组织用云托管的基础架构取代了传统的数据中心，并更新了应用程序以利用基于云的服务。

[据行业分析师 Gartner](https://www.gartner.com/en/newsroom/press-releases/2021-08-02-gartner-says-four-trends-are-shaping-the-future-of-public-cloud) 称，全球公共云支出预计将从 2021 年的 3960 亿美元增长到 2022 年的 4820 亿美元，增幅超过 21%。全球疫情和随之而来的分布式工作环境的增长进一步强调了对灵活和可扩展的基于云的解决方案的需求。

 [罗恩·鲍威尔

罗恩有空间物理学的背景，曾作为卡西尼小组成员分析土星磁层中的等离子体。他现在在旧金山的 CircleCI 公司工作，是一名开发人员，倡导开发内容，使开发人员能够更快地构建、测试和部署他们的项目。](https://www.linkedin.com/in/powellronald/) 

但是对于许多组织来说，将所有数据和应用程序托管在一个云提供商上存在不可接受的风险。潜在的服务中断、安全漏洞和意外的成本增加可能会让软件团队对将其关键应用程序委托给第三方基础设施提供商感到不安。为了降低这些风险，许多组织通过在多个云提供商之间分配资源来采用多云策略。

在本文中，我们将探讨采用多种云的一些驱动因素以及这种方法的相关好处。我们还将研究多云提供商环境的一些缺点，以及跨云提供商工作时构建环境的最佳方式。

## 什么是多云策略？

多云战略不仅仅是将工作负载放在多个云提供商处。它需要一种深思熟虑的方法来设计和部署资源，以便您的应用程序架构能够补充您选择的基础架构提供商的优势，反之亦然。

跨多个提供商部署服务可能需要使用纯粹基于消费者的提供商，如 AWS、Azure 和 GCP，在同一提供商内使用不同的云服务，或者包括混合的私有云提供商。一些更常见的多云服务架构包括:

*   跨提供商和负载平衡器部署容器化的应用程序或服务，以实现“永不停机”的环境。
*   按照业务功能对服务进行分组，并在云提供商之间进行分配，为每个服务提供冗余的冷启动组件。
*   根据应用程序的资源需求以及每个提供商提供的特定功能和性能优势，将应用程序或服务组件与特定的云提供商保持一致。

这些架构需要一些战略思维来确保实现的模式是一致的，并且与您的业务目标相一致。多云策略还必须符合您计划部署的应用和服务的架构和设计。

## 多云的优势

组织采用多云策略的原因有很多。大多数组织迁移到多云环境，以降低单一云环境中固有的风险。另一个主要驱动因素是组织希望利用不同提供商的优势和技术堆栈。这些动机凸显了采用多云策略的三大好处:弹性、灵活性和合规性。

### 弹性

借助互联网的全球功能，许多组织为全球客户提供服务，并要求应用程序和系统全天候运行。拥有弹性环境对于确保无服务中断(包括云供应商环境中断)至关重要。即使是最大的云提供商也会经历中断，包括谷歌、T2、Azure 和 T4 的 AWS。

确保关键服务不会随云一起宕机是多云方法的主要优势。有时，即使在不同的云提供商上提供冷备份服务也可以提供宝贵的覆盖范围，使组织能够实施长期修复，而不会出现重大服务中断。例如，让 web 应用程序节点分布在多个供应商的云上，可以使您的服务保持运行，即使资源减少了，如果一个供应商出现故障。即使将服务部署到处于闲置状态但组织可以开启的辅助云，也能提供快速而简单的修复，直到问题得到解决。

### 灵活性

当第一次将工作负载迁移到云环境中时，大多数组织会选择最符合其大多数标准的单一提供商。但是，随着这些工作负载的增加，对该单一供应商服务的依赖也在增加。供应商经常改变他们的策略、服务、协议和定价模式。局限于单一供应商可能意味着不一致、成本增加、无法获得更好的产品或被迫更新应用和服务。在云环境中移动和创建工作负载很容易，但是如果移动是无计划的，那么进行这些更改可能会很困难，而且成本很高。

为您的应用和服务采用多云方法可以最大限度地减少您受供应商束缚的风险。使用相同的技术堆栈和容器化等功能，可以轻松有效地跨云环境设计和部署相同的服务。它还使组织能够选择专业的云服务，这些服务比更通用的服务具有更大的优势。

尽管如此，确保你选择的选项是灵活的是至关重要的。例如，Azure Functions 是一个事件驱动的无服务器计算平台，组织可以使用它来构建和部署服务，而无需调整和扩展来满足需求。然而，组织也可以将这些功能部署到容器中，并在 Azure 之外托管它们，从而在需要时提供更改服务的选项。

### 服从

与避免供应商锁定类似，许多组织对 IT 系统法规遵从性有特定的要求。这些合规性要求可以涵盖数据隐私或主权问题，包括灾难恢复和缓解规范。

通过采用多云策略并结合评估服务和数据的合规性要求，组织可以为其关键组件建立特定的环境或架构。敏感数据集，如个人身份信息或财务信息，通常涉及严格的数据安全要求。借助多云方法，您可以将敏感数据存储在强化的私有云环境中，并允许公共云环境中托管的应用程序仅以特定的、精心控制的方式查询这些数据。

## 多云的缺点

虽然多云方法有几个主要优势，但组织应该意识到两个潜在的缺点:增加成本和环境复杂性。上面概述的优势通常会抵消这些挑战，但是如果没有仔细的规划和监督，组织很快就会发现他们的多云策略会浪费时间和资源。

### 复杂性

考虑到当今大多数云平台提供的服务范围，采用单一云提供商可能会给员工带来陡峭的学习曲线。采用第二个云提供商可能会使 IT 人员必须学习的服务、其他多云系统和流程的数量翻倍。对于资源有限的组织来说，确保人们了解多云环境是一项挑战。这类环境需要跨职能的 IT 运营团队来保护、管理和优化具有各种集成的多个平台和技术堆栈。

### 费用

第二个阻碍因素是总成本。即使当前的资源基本上在提供商之间分割，环境之间的额外流量和管理层也会增加一些成本。不了解提供商之间的成本差异，尤其是在采用技术时，也会导致不必要的支出。

在计算转换到多云的价格时，请确保将雇佣或培训员工的成本计算在内，以涵盖您选择的所有环境。此外，考虑未使用资源的成本，当环境的复杂性阻碍了所有资源的可见性时，可能会发生这种成本。虽然采用多云可以通过提供摆脱供应商锁定的途径来节省一些成本，但维护多个环境会带来新的成本，如果不积极监控和管理，这些成本会很快失控。

## 你应该采用多云策略吗？

什么时候是考虑采用多云策略的合适时机？这个问题很难回答。由于增加了复杂性和成本，应该有一个迫切的业务需求，上面描述的好处将解决。如果没有合理的理由来推行多云方法，组织可能会增加复杂性和成本，而看不到任何切实的回报。

采用多云的业务驱动因素包括:

*   遵从代表潜在成本或业务风险的行业或法律问题。
*   通过提供不同的工具、服务和技术来提高组织的灵活性和速度。
*   减少已经集装箱化的服务套件的停机时间。

这些示例仍然需要显著的提升和坚实的技术资源，以确保组织能够有效地采用这一策略。当考虑您的团队是否准备好实施多云方法时，完全理解您组织的目标和功能以及涉及的潜在权衡是至关重要的。

## 如何在 CI/CD 工作流中管理多个云部署

跨多云环境一致地部署应用和服务至关重要。消除手动流程是保持组织工作流程一致性的基本方法，建立可靠的[持续集成和交付(CI/CD)管道](https://circleci.com/blog/what-is-a-ci-cd-pipeline/)是使自动化成为团队成功的一部分的最佳方式。

以下是设置 CI/CD 工作流以从多云环境中获得最佳效果的一些提示:

*   开发一个所有团队都可以遵循的标准化管道部署策略。
*   确保部署尽可能模块化，以便在团队将组件部署到不同供应商时，可以交换组件。
*   采用提供多云支持的基础设施即代码模板，如 [Terraform](https://www.hashicorp.com/products/terraform/multi-cloud-compliance-and-management) 和 [Ansible](https://www.ansible.com/integrations/cloud) ，以确保基础设施的最小重新配置。
*   使用[发布编排工具](https://circleci.com/blog/vamp-and-circleci/)确保正确的构建到达合适的环境，并监控您的应用在生产中的健康状况。

实施持续集成和交付解决方案可以为您的基础架构供应和应用部署实践引入更多控制和一致性，从而简化向多云的转变。许多 CI/CD 平台还提供与工具的集成，您可以使用这些工具来监控提供商的成本，并在服务质量下降对您的用户产生负面影响之前快速识别和解决服务质量下降问题。

## 结论

软件交付越来越依赖云来为世界各地的用户提供快速、安全和可扩展的解决方案。虽然基于云的部署存在一些风险，但组织越来越多地采用多云方法来确保其应用保持弹性、灵活性和安全性。通过采用已建立的[持续集成](https://circleci.com/continuous-integration/)实践，团队可以在他们的部署中获得更高水平的信心和一致性。

采用多个云供应商有几个好处，但可能相当具有挑战性且成本高昂。如果没有明确定义的策略，这种复杂性和成本会很快失控。有意采用多云并客观评估贵组织的技术成熟度是确保成功的关键。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>