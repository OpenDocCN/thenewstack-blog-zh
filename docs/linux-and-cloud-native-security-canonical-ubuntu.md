# Linux 和云原生安全性:Canonical Ubuntu

> 原文：<https://thenewstack.io/linux-and-cloud-native-security-canonical-ubuntu/>

本周，新的 Stack 发布了一系列文章，研究 Linux 发行商如何保护他们的发行版，以实现云原生操作。首先是 Canonical，它有流行的 Ubuntu 发行版。

![Rob Gibbon, Product Manager for Managed Applications at Canonical](img/176358dec78c90d5adb4ab0e8fb2d6c0.png)

Rob Gibbon，Canonical 托管应用产品经理

Canonical 的 [Ubuntu](https://ubuntu.com/) 仍然是使用最广泛的 Linux 发行版之一，尤其是对于基于云的操作。但是它如何管理容器、Kubernetes 和其他云原生操作的安全性呢？我们请 Canonical 公司托管应用产品经理[罗布·吉本](https://www.linkedin.com/in/robertgibbon/detail/recent-activity/posts/)讨论 Ubuntu 和云原生安全性。

**云原生开发者面临的最大安全问题是什么？**

Kubernetes 可能很复杂，而 Kubernetes 的安全性更是如此。【最新发布】Kubernetes 1.22 采用 seccomp 强制访问控制，作为帮助减少攻击表面积的有力工具。作为[云本地计算基金会](https://cncf.io/?utm_content=inline-mention)认证的 Kubernetes 发行版，MicroK8s 和 Charmed Kubernetes 为我们的用户提供了尝试这一新功能的选项。

此外，云原生开发者正面临内容来源危机。开发人员可以获得大量有价值的资源，但是，知道使用或不使用哪些资源对云开发人员来说是一个前所未有的安全挑战。

无论是针对 Docker Hub 和其他地方的 OCI (Open Container Initiative)映像，PyPI 上的 Python 包，npm 上的 node 包等等。重要的是要不断考虑开发者可以依赖什么内容以及依赖多久？质量好吗？它是否包含安全问题或更糟糕的恶意软件代码？

**如果您能给希望尽可能安全地部署容器的企业一条建议，那会是什么？**

采用分层的安全模型是关键，不要只依赖单一的保护措施。然而，如果没有一个全面的监控解决方案，您可能直到很久以后才意识到您的服务已经受到了损害，以及损害的程度。

为了尽可能安全地部署容器，企业可以强制实施的最佳实践是依靠具有受限和可信输入的全自动管道。不要依赖手动操作；自动更新。你应该系统地批准任何允许进入你的管道的东西，你也应该知道谁是幕后黑手。

> 我期待着这样一个世界，创建 Dockerfile 被视为非常专业的用例的低级解决方案，比如容器的汇编级编程。

最好是一个选定的，可信的和公认的供应商将能够提供快速的商业支持。记住这一点，你应该应用[零信任安全原则](https://thenewstack.io/cisa-lays-out-security-rules-for-zero-trust-clouds/)。并将依赖性限制在最低限度，实施第三方内容的加密验证，并将漏洞和恶意软件扫描作为安全 CI/CD 管道的一部分。

作为一条捷径，我建议企业仔细考虑并选择一个安全稳定的基础映像。在所有由商业支持支持的可用基础映像中，我会考虑另外两个标准来做出决定:

*   它是否有一个大的软件生态系统，或者您是否需要定期从不可信的来源获取？
*   它对开发人员友好吗，还是给开发人员增加了负担？难以使用的软件通常会导致您的开发人员不能正确使用它，并造成更糟糕的不为人知的安全漏洞。

**Canonical 在云/容器安全方面做了什么？**

对于容器安全，Canonical [启动了一个项目](https://ubuntu.com/security/docker-images)，为加固的应用程序容器映像提供长达 10 年的有保证的安全更新。这个伟大的时间表是独一无二的，显示了我们多年来在操作系统安全维护和支持复杂行业中要求极高的公司方面的安全专业知识。我们最近的 [juju.is 调查](https://juju.is/cloud-native-kubernetes-usage-report-2021#selection_criteria_for_container_images)显示，云原生开发者在选择容器映像时首先关注的是稳定性。一些固定的长期支持[LTS]版本拥有长达 10 年的商业维护，您应该可以享受到！

在边缘计算和物联网用例中要考虑的另一种容器是 Ubuntu Core 上的 [Snaps。我邀请您查阅并了解更多关于这个令人兴奋的项目的信息。这是第一次，有可能改变物联网安全格局。](https://ubuntu.com/core)

**云原生开发的未来是什么样子的？**

这个问题需要两个答案，一个是关于如何在容器中打包软件，另一个是关于云原生应用的架构。

构建容器的实践将会发现云原生构建包的魔力。借鉴上一代的最佳平台即服务产品，云原生构建包为您提供了一种轻松为您的代码创建强化、优化、安全的容器的方法。

我期待着这样一个世界，创建 Dockerfile 被视为非常专业的用例的低级解决方案，如容器的汇编级编程，而不是今天的主流方式。可信供应商支持的精心策划的最小运行时将为生产部署提供目前仍然缺乏的安全性和稳定性。就架构而言，云原生开发的中短期未来将是可组合性和整合。

Kubernetes 是事实上的云原生容器编排，但将运行复杂应用程序的许多重要方面留给了用户，如处理证书或选择和设置入口。有各种各样且不断增长的组件可以用来填补这些空白，目前还没有明确的赢家，生态系统将寻求成熟、整合和稳定。

从长远来看，随着成熟的解决方案降低团队的开发和运营成本，我们将看到更高级别的抽象(如功能即服务)得到更广泛的采用。与此同时，我们还将看到分布式程度较低的架构的复苏:不完全是“旧的”(大约在 2015 年之前)的整体架构，但比现在的分布式程度更低，作为降低互连微服务蔓延的内在复杂性以及随之而来的运营困难的手段。它仍然适合放在容器中，但你的普通“艺术”云原生应用程序将有更少的移动部件。总而言之，最终用户真正想要的是一个全面、易用、可靠的平台即服务，能够很好地支持不同大小的组件，从单一功能到“[模数](https://github.com/odrotbohm/moduliths)”，并与容器出现之前发布的应用程序具有良好的兼容性。

俗话说，“每个人都在重塑 Heroku”:“Kubernetes 一代”的高潮将是一套由最佳解决方案组成的成熟的交钥匙 PAAs。

**为了加固服务器操作系统，管理员应该做的第一件事是什么？**

Canonical 现在提供 [Ubuntu Pro](https://ubuntu.com/blog/tag/ubuntu-pro) ，这是 Ubuntu 的高级版本，具有额外的支持和服务功能，包括自动化 CIS 基准强化、内核 Livepatch 和扩展的安全维护。启用 Ubuntu Pro 既快速又简单。

此外，强化是一个特定于站点、系统和工作负载的过程，它与组织的需求和遵循的网络安全框架相关联。有一些行业以及特定于工作负载的强化配置文件可以帮助管理员完成这项任务。广泛接受的强化配置文件的示例有 DISA 安全技术实施指南和 CIS 基准。

**中小型企业如何获得企业中的安全级别？**

Canonical 免费提供 Ubuntu，并提供长达五年的免费安全更新。这适用于所有人，不管他们的规模如何。但是对于开发者和 [Ubuntu 成员](https://ubuntu.com/blog/the-new-ubuntu-membership-process)，Canonical 免费提供多达 50 个 Ubuntu 系统的扩展支持，这包括[内核 Livepatch](https://ubuntu.com/security/livepatch) 。

对于中小型组织来说，浏览网络安全空间可能看起来像是一种奢侈或者太吓人了；有许多网络安全框架可供选择，在遭遇入侵之前，好处可能不会立即显现。客户私人数据、客户数据库以及商业信誉是组织所重视的东西，尽管并不总是采取必要的预防措施来保护它们。

NIST 网络安全框架、CIS 控制、PCI-DSS、SOC2、ISO27000 等框架可用于指导一个组织的网络安全计划实施，而零信任安全等范例则设定了正确的心态和最终目标。

最终，大多数框架定义了网络安全控制和最佳实践，使企业能够降低运营和业务风险。同时，在这条道路上迈出第一步并实施基本的安全控制，如持续漏洞修补、启用恶意软件防御和安全配置，将使组织在降低安全事故或违规风险方面取得长足进步。

**容器开发人员能做的最好的事情是什么，以确保他们建立一个坚实安全的基础？**

Canonical 为开源应用提供了一个免费的基于 Ubuntu 的 LTS 容器图像集合。对于开发者来说，从这个组合开始是一个很好的方式，可以确保他们的容器来源可信，同时受益于 Ubuntu 软件生态系统的熟悉程度和范围。商业音轨[面向企业](https://ubuntu.com/security/docker-images)开放，提供长达 10 年的安全更新，并可获得权威专家的帮助。

当然，遵循安全最佳实践，确保所有捆绑软件和依赖项都有出处并且是最新的。获得最新和最大的软件依赖有助于快速创建原型，但当进入产品化时，软件必须没有已知的漏洞，并且必须保持最新以防止违规。

此外，确保软件更新的速度与开发速度相匹配，并利用容器技术的功能。也就是说，确保容器经常使用最新的安全补丁进行更新，减少新漏洞造成的机会窗口，并使用内核实时补丁等技术更新内核等难以移动的软件部分，以减少计划外停机时间。

从你的角度来看，供应链不安全的解决方案是什么？

零信任安全范例可以在这方面提供一些支持。没有安全的系统，也没有可信的软件。供应链存在漏洞。因此，当不可避免的事情最终发生时，首席技术官的目标应该是将造成的损失最小化。

凭借内核 Livepatch、Snapd、通用标准、FIPS-140 和 CIS Ubuntu 基准配置文件，以及我们的下一代设备操作系统 Ubuntu Core，Canonical 提供了支持全面零信任计算实施的工具。

除了头条新闻，供应链问题是一个复杂的问题，因人而异。在软件方面，与硬件供应链有一些相似之处，但恶意修改的成本要低得多。

同时，我们不应该忽视这样一个事实，即大多数组织都有一个更基本的问题。组织在漏洞修补方面通常不积极且不一致。安全维护是运营和采购的一部分，对于与透明的、在整个产品生命周期中为产品提供安全维护的供应商合作更为重要。

**企业应该努力实现完全自动化，还是应该在开发运维过程中保留一层人工干预？**

Canonical 相信模型驱动的运营范式。我们正在构建我们的操作员框架 Juju 和 Charmed Operator 集合，以显著简化 DevOps、DataOps 和 SecOps 工作流中所需的人工干预水平。处理低级的管道、消防和世俗事务并不有趣；通过模型驱动的操作实现的高度自动化解放了团队，让他们可以花更多时间在心流状态下从事他们喜欢的生产性工作。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>