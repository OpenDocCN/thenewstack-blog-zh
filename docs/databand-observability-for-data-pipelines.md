# 数据带:数据管道的可观察性

> 原文：<https://thenewstack.io/databand-observability-for-data-pipelines/>

对于这些天来围绕[可观察性](https://thenewstack.io/what-is-observability/)的所有讨论，这主要集中在基础设施运营上，而数据工程师则被留下来填补关于数据管道如何工作的知识空白——或者不工作。

据[](https://www.linkedin.com/in/josh-benamram)[data band](https://databand.ai/)首席执行官 Josh Benamram 称，应用性能管理(APM)产品和典型的监控工具无法提供数据工程师对其管道所需的洞察力。

他说，他们将运行云、Docker 和 Kubernetes，然后在此基础上，运行更专业的数据处理工具:不同的流媒体和批处理工具，如 Spark、Presto 或 Apache Airflow。

他解释说:“你可以把企业中公共数据管道中的数据想象成每天晚上 12 点的样子。如果我是一家金融服务公司，我会运行这个流程。”

“我运行这个流程，每天从 20 个不同的交易所(如股票交易所、纽约证券交易所、纳斯达克等)获取大量数据，无论是什么，每天都将这些数据导入我的系统……运行一个长达数小时的流程，从数据中汇总提取特征，清理数据，将数据集中到一个位置，供我的数据科学家使用。支持这种情况的底层基础架构是您的云环境，可能是 Kubernetes、Apache Airflow(用于安排您每天中午 12 点的运行时间)、Spark for prod(用于大规模接收数据并进行大规模处理),然后是 Snowflake 或 BigQuery 或 Redshift(用于将数据传送到其他团队可以使用的数据湖)。因此，这只是软件工程师通常会遇到的另一个复杂问题。”

他在博客[帖子](https://medium.com/databand-ai/data-pipeline-performance-monitoring-what-it-is-and-why-its-here-c792f7cbc1e8)中解释说，典型的 APM 工具侧重于度量日志和跟踪，而数据管道监控也需要洞察数据流 **—** 数据质量有问题吗？—批处理运行的时间表以及将管线链接在一起的内部和外部从属关系。

“如果你每天晚上 12 点运行一条数据管道，这个过程就存在‘短暂性’，如果这是一个词的话。它作为一个长时间运行的批处理进程运行的事实，相对于正常的微服务或应用程序，在如何监控它方面产生了细微的差别，正常的微服务或应用程序应该全天候运行，永不停机。

“如果我正在运行一个批处理进程，在它开始并成功运行之前，一个批处理进程失败五次、六次、七次或十次是完全正常的。这些批处理过程有一个非常复杂的依赖网络是非常正常的，”他说。

“我可能有一个管道将数据传送到一个位置，然后另一个管道从该位置读取数据并将其传送到另一个位置。你可以想象这张大网正在成长。当你考虑到所有这些细微差别时，它确实产生了对理解这些东西的专用工具的巨大需求。”

## 跟踪数据管道

Databand 的联合创始人叶夫根尼·舒尔曼、[本纳兰姆](https://www.linkedin.com/in/josh-benamram/)和[维克多·沙夫兰](https://www.linkedin.com/in/victor-shafran-88b63b3/)在特拉维夫的科技社区活动上相遇。他们在 2018 年创办了这家公司。它的总部设在纽约，工程和研发仍以特拉维夫为中心。

他们发布了 [DBND](https://github.com/databand-ai/) 一个用于构建和跟踪数据管道的开源框架。它包括一个 Python 库、一组 API 和 CLI，可用于数据摄取、准备、机器学习模型训练和生产。DBND 可用作气流等系统的协调器，提供管道元数据的深度跟踪以及代码与底层计算和数据系统的解耦。DBND 需要 [Python 2.x 或 3.x](https://www.python.org/downloads/) 并支持 Windows、macOS 和 Linux。

Databand 产品被宣传为嵌入开源数据生态系统的可观察性解决方案，可以更深入地了解基础设施的性能、成本以及数据的准确性。

“Databand 由经验丰富的数据科学家和软件开发人员创建，他们非常了解数据科学项目管理的难点。Databand 的投资者之一 Differential Ventures 的管理合伙人兼首席技术官 David Magerman 在一封电子邮件中谈到该公司时说:“他们的背景使他们能够帮助数据工程师和数据科学家在企业研究和生产环境中更高效地使用数据。”。

舒尔曼在[的一篇文章](https://medium.com/databand-ai/observability-for-data-engineering-a2e826587205)中指出的问题之一是，由于许多数据处理是长时间运行的，接近尾声时的失败可能代价高昂，因为作业必须从头重新开始。

Benamram 说，Databand 的主要竞争对手是组织内部的工作，这些工作是将他们的数据管道基础设施和一些标准监控解决方案连接起来。

Databand 专为数据设计，集成了 Airflow、Databricks、Spark、Kubernetes、MLflow 和其他工具。

“使我们与众不同的第二个因素是我们从这些过程中收集不同种类的信息。例如，收集更多关于您用来运行管道的调度程序的元数据，从引擎(如 Spark)收集更多元数据，收集更多关于数据本身的元数据，即您在管道中操作的数据的实际结构。如果你想用一个标准的监控工具来实现同样的监控，那么你需要像一个公司一样构建大量的中间件和日志来达到我们开箱即用的目的，”他说。

他说，第三个不同点是，监控信息是在管道本身的环境中呈现的。

“在我们的系统中，您可以看到您的数据管道，看到您正在运行的数据转换任务的不同节点。你打开这些节点，了解数据谱系是什么样子，你的数据结构在这个过程的运行之间可能如何变化，以及数据集是否有问题，或者你在管道内执行的代码是否有问题，”他说。

他说，世界仍在谈论机器学习和人工智能，并且正在看到这些用例。

“世界上最先进的团队现在正在建立系统，通过再训练过程来自动维护他们的机器学习模型。我们将帮助他们监控和观察这些系统。

“但我们也看到许多只是标准的 ETL 案例…世界上许多地方仍在使这些经典的 ETL 案例走向成熟，在这些案例中，您只需要确保从所需的尽可能多的来源获取数据，以正确的方式转换数据，并将其提供给需要它的人，并确保所有系统都符合正确的质量标准。”

图片来自 Pixabay 的 JuraHeep。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>