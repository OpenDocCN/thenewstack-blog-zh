# 70，000 台 Memcached 服务器可以利用 8 个月前的漏洞被黑客攻击

> 原文：<https://thenewstack.io/70000-memcached-servers-can-hacked-using-eight-month-old-flaws/>

在 memcached 开源缓存软件中的三个关键漏洞被修复八个月后，有超过 70，000 个直接暴露在互联网上的缓存服务器尚未被修补。安全研究人员警告说，黑客可能会对它们执行恶意代码，或者从它们的缓存中窃取潜在的敏感数据。

Memcached 是一个软件包，它实现了一个高性能的缓存服务器，用于在 RAM 中存储从数据库和 API 调用中获得的数据块。这有助于加速动态 web 应用程序，使其非常适合大型网站和大数据项目。

虽然 memcached 不是数据库的替代品，但它存储在 RAM 中的数据可以包括用户会话和来自数据库查询的其他敏感信息。因此，即使一些更新的版本支持基本身份验证，服务器也不能直接暴露在不可信的环境中，如 internet。

早在 10 月，memcached 开发人员修复了三个远程代码执行漏洞( [CVE-2016-8704](https://www.talosintelligence.com/reports/TALOS-2016-0219/) 、 [CVE-2016-8705](https://www.talosintelligence.com/reports/TALOS-2016-0220/) 和 [CVE-2016-8706](https://www.talosintelligence.com/reports/TALOS-2016-0221/) )，这些漏洞是由[思科系统公司 Talos 部门](https://www.talosintelligence.com/)的安全研究人员发现并报告的。所有这些缺陷都影响了 memcached 存储和检索数据的二进制协议，其中一个是在[简单认证和安全层](https://tools.ietf.org/html/rfc4422) (SASL)实现中。

在整个 12 月和 1 月，几组攻击者清除了数万个公开数据库中的数据，包括 MongoDB、CouchDB、Hadoop 和 Elasticsearch 集群。在许多情况下，他们向服务器管理员要钱来归还数据，但没有证据表明他们真的复制了数据。

Talos 的研究人员认为 memcached 服务器可能是下一个目标，特别是考虑到他们几个月前发现的缺陷，因此他们在 2 月份决定进行一系列互联网扫描，以确定潜在的攻击面。

扫描结果显示，大约有 108，000 台 memcached 服务器直接暴露在互联网上，其中只有 24，000 台需要身份验证。事实上，如此多的服务器未经认证就可以公开访问已经够糟了，但当他们测试这三个漏洞的存在时，他们发现只有 200 台需要认证的服务器实际上部署了 10 月份的补丁。其余的都可以通过 SASL 漏洞进行黑客攻击。

总的来说，85，000 台或大约 80%的 memcached 服务器缺乏针对 10 月份公布的三个关键缺陷的安全修补程序。

由于补丁采用率低，Talos 的研究人员决定对所有这些服务器的 IP 地址进行 whois 查询，并向其所有者发送通知电子邮件。

本月早些时候，研究人员决定重做他们的扫描。他们发现仍然有 106，000 个 memcached 服务器暴露在互联网上，尽管 28，500 个服务器的 IP 地址与二月份发现的不同。

在这 106，000 台服务器中，73，400 台(约 70%)仍然容易受到 10 月份修补的三个漏洞的攻击。超过 18，000 台已确定的服务器需要身份认证，其中 99%仍然存在 SASL 漏洞。

即使在发送了数万封通知邮件后，补丁采用率在六个月内也只提高了 10%。

“这些类型的漏洞的严重性不能被低估，”Talos 的研究人员周一在一篇博客文章中说。“这些漏洞可能会影响小型和大型企业在互联网上部署的平台。随着最近大量利用漏洞的蠕虫攻击，这应该是全球管理员的一个危险信号。如果不加以解决，这些漏洞可能会被利用来影响全球组织，并严重影响业务。”

这项工作的结论表明，许多 web 应用程序所有者在保护用户数据方面做得很差。首先，数量惊人的大量 memcached 服务器直接暴露在互联网上，其中大多数不使用身份验证。即使不存在任何漏洞，缓存在这些服务器上的数据也会面临风险。

其次，即使修补了可用于完全危及服务器的关键漏洞，许多服务器管理员也不会及时应用安全修补程序。

在这种情况下，看到针对 memcached 服务器的大规模攻击(比如针对 MongoDB 数据库的攻击)并不奇怪。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>