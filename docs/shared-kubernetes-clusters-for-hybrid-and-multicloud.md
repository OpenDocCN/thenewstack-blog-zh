# 面向混合云和多云的共享 Kubernetes 集群

> 原文：<https://thenewstack.io/shared-kubernetes-clusters-for-hybrid-and-multicloud/>

[](https://www.linkedin.com/in/kylehunter)

 [凯尔·亨特

凯尔是拉法系统公司的产品营销主管。他在信息传递和定位、竞争差异化、走向市场战略和思想领导力方面有着出色的表现。](https://www.linkedin.com/in/kylehunter) [](https://www.linkedin.com/in/kylehunter)

现在，混合云和多云部署比以往任何时候都更快成为关键的企业需求。随着 Kubernetes 在企业中的普及，有效管理多集群部署对于应用交付变得越来越重要。为了将 Kubernetes 的使用和混合/多云基础设施结合在一起，IT 组织需要一种现代的运营模式，用于混合和多云架构中的共享 [K8s 集群](https://thenewstack.io/what-does-it-take-to-manage-hundreds-of-kubernetes-clusters/)。

选择企业混合云和多云部署的动力各不相同，但无论组织的基础架构之旅如何，挑战和机遇依然存在。无论是作为一项 IT 战略还是作为之前基础架构投资的结果而有目的地实施，许多 IT 领导者都发现了同时使用多种基础架构方法的好处。在许多方面，容器编排是下一个合乎逻辑的步骤。然而，在混合和多云环境中管理 Kubernetes 面临着独特的挑战。

本文概述了不同的混合/多云方法，以及不同种类的跨云和数据中心环境的工作负载。它解释了 K8s 如何用于混合和多云环境，支持跨私有云和公共云的操作，以及管理单租户环境时需要考虑的挑战。

## 混合和多云方法的现实

通常，随着新工作负载和集群的增加，企业 Kubernetes 环境会随着时间的推移而扩展，通常采用不同的云服务和 Kubernetes 发行版。内部工作负载可能已经在运行，以保持完全的合规性和法规控制，而一些客户可能会利用过去的基础架构来实现折旧的财务优势。托管的 Kubernetes 服务，如微软 AKS 和亚马逊 EKS，可用于扩展计算资源或利用与公共云服务的深度集成。

这些需求共同构成了一个混合环境，在这个环境中，您可能同时在本地和云中使用 Kubernetes。为了在不同的环境中调配和管理集群，许多 IT 团队在孤岛环境、多个控制台和云采用背后的敏捷性承诺之间进行了平衡。

## 企业中的共享 K8s 集群

企业 Kubernetes 环境需要一种能够增长和扩展的多集群管理策略，同时还能应对混合和多云基础架构带来的挑战。共享服务平台(SSP)是一个古老的概念，但可以应用于 Kubernetes。这样做为您的组织提供了实际的好处，特别是单一管理控制台，使 IT 组织能够更好地了解集群。企业平台团队可以预测试、规划和标准化平台服务、安全性和策略，确保一致的配置并减少不一致。这反过来又提高了整个组织中开发人员的工作效率，并通过自助服务和减少因错误、额外的故障排除和停机时间而造成的时间损失来加快上市速度。

在通过针对 Kubernetes 的 SSP 模型将 Kubernetes 引入混合云环境时，平台团队应该考虑这些最佳实践。

*   ### **集中控制 Kubernetes 集群和工作负载配置。**

在一个地方管理您的集群和工作负载。集中式部署和管理增强了 IT 管理员的能力，并跨平台实现了配置标准化。通过将管理、安全和治理交还给 IT 组织，中心位置还有助于重新获得对影子 IT 的控制。

借助全面的可见性，平台团队可以从一个控制台随时管理、隔离和监控使用情况。

*   ### **提供 Kubernetes 自助服务集群和工作负载配置。**

通过预先批准的配置实现自助访问，以便开发人员可以扩展 Kubernetes 部署。通过对管道和定义的工作负载的下游访问，DevOps 可以轻松使用自助服务基础架构和工具来进行集群和应用部署。这加快了交付并优化了对资源的访问。

*   ### **轻松应对持续的安全性和合规性挑战。**

借助安全的 Kubernetes 环境，IT 组织可以从一个集中的位置轻松监控身份和访问。此外，实现零信任安全简化了访问控制。

采用正确的 K8s 管理方法使开发人员和 IT 组织能够充分利用 Kubernetes 和混合/多云技术。随着时间的推移，这种策略通过降低运营开销、集中治理和策略管理以及提高开发人员的工作效率来交付更大的业务价值。

## 如何将共享 K8s 集群与混合云和多云结合在一起

除非有一个健壮的共享服务平台策略，否则在混合环境中管理和操作 Kubernetes 会转移人们对应用程序的注意力。为了构建这一平台，IT 领导者应专注于自助服务、统一的集群生命周期管理、可重复的工作流以及集中化、自动化的集群和应用配置。

要实现这种转变的好处:

### **利用团队专业知识**

许多组织都经历了 Kubernetes 的技能缺口，但是组织在构建和维护定制软件供应链方面的专业知识应该被用来在内部形成更广泛的 Kubernetes 环境。团队应该做好准备，以便跨多个集群、云和基础架构有效地推行统一管理。

### **建立灵活性和控制力**

对于可扩展的运营，灵活性和控制是必不可少的——集中交付 Kubernetes 相关的服务使标准化的工作流、更高的自动化和优化的应用交付以及对多个团队的支持变得更加可行。

### **启用开发人员自助服务**

通过高效且可重复的 DevOps 工作流增强开发和运营团队协作，使开发人员能够专注于他们的代码，而不是底层基础设施。多集群、连续部署功能使得提高效率、实施最佳实践和防止集群不一致成为可能。

为此，组织正在采用 GitOps 方法——通过 ArgoCD、Flux、Rafay Systems 或其他工具或服务使用 Git 工具和工作流。这减少了人为错误，并允许开发人员大规模管理更多的集群。

### **维护集中的安全性、网络、合规性和成本控制**

除非组织能够防范影子 Kubernetes 管理员做出不同的管理、策略和运营决策，否则 IT 团队将失去单一平台的优势。平台团队应保持可见性，并使用以下集中化最佳实践来加强 SSP:

*   **简化的身份和访问控制:**使用基于角色的访问控制(RBAC)的零信任环境来简化安全访问。
*   **指标的集中监控和聚合:**通过统一平台审查集群和应用的运行状况、使用情况和指标。
*   **治理和整个团队的策略管理:**跨集群、工作负载和资源应用相同的策略。

尽管 Kubernetes 和混合/多云方法从运营和安全角度带来了独特的挑战，但集中管理和部署可以减轻这给组织带来的大部分风险。Kubernetes 的 SSP 是 IT 战略的重要组成部分，允许平台团队管理所有云和数据中心环境中的集群和应用。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>