# 新的堆栈制造商:Alex Polvi 和高可用性和可移植性带来了什么

> 原文：<https://thenewstack.io/the-new-stack-makers-alex-polvi-and-what-comes-with-high-availability-portability-and-containers/>

的联合创始人亚历克斯·波尔维的两部分采访的第一部分

[CoreOS](http://coreos.com)

，它将容器化、集群和容错功能融入到自动更新技术中。该公司将其产品称为“操作系统即服务”

[Alex Polvi，CoreOS:新栈访谈，第一部](https://thenewstack.simplecast.com/episodes/alex-polvi-coreos-the-new-stack-interview-part-one)

Alex Williams: Alex，你一直在开发 CoreOS，在过去的几个月里，它真的进展神速。我们将谈一点你在做什么，但我也想了解更多关于谁是亚历克斯·波尔维？你是怎么开始编程的？你在小学吗？你在中学吗？

亚历克斯·波尔维:我一直是个相当书呆子的人。从小到大，我是家里第一次设置拨号的人，等等。我高中的时候就进入开源软件了。有一个导师进来说，“我想教一些孩子如何编程，”我是唯一一个报名的人。这家伙原来是一个老派的 Unix 家伙——他曾经在贝尔实验室工作——他的名字是乔恩·施泰因哈特。他教我如何编写 C 语言程序，他向我介绍了这个开源的世界和当时叫做 Red Hat 的东西，我在那里开始玩 Linux。这让我在大学时进入了计算机科学领域。

我在大一的时候非常幸运，我参与了一个在俄勒冈州立大学刚刚兴起的项目，叫做 [OSU 开源实验室](https://osuosl.org/)。开源实验室运行互联网上所有最大的开源项目，如 apache.org、mozilla.org 等等。布兰登，我的联合创始人，和我是第一批被那里雇佣的两个学生。布兰登被聘为开发人员，我被聘为系统管理员。从那时起，我们就进入了基础设施开源世界。

**你在那个年纪的时候觉得编程有什么有趣的地方？**

亚历克斯:我想这是终极乐高积木。我喜欢建筑材料。软件很酷，因为它非常高效。你唯一需要投入的是思想和时间，这样你才能有所建树。除了电脑，没有材料成本。自由软件和能够构建东西的结合——我立刻就被吸引住了；我一直都是。

**你最初做的东西是什么？**

我记得我用 C 语言开发的第一个有意义的应用是井字游戏(笑)。我记得乔恩说过，“就*想*！就*想*一下！”学习编程更多的是学习思考，而不是其他。

你是在俄勒冈州长大的吗？

亚历克斯:我在俄勒冈州的一个圣诞树农场长大，这就是我喜欢伐木工氛围的原因。后来我去了俄勒冈州立大学。

**你的家人还在俄勒冈州的乡下吗？**

**Alex:** 我在我爸爸长大的地方长大，也就是我爸爸的爸爸长大的地方，所以每个人都还活着。

**告诉我关于开源实验室的事情，它是如何开始的，你是如何参与进来的？**

Alex: 最初，它是俄勒冈州立大学网络服务的一部分——为大学运行 wi-fi 网络和邮件服务器的人。作为回报的一种方式，他们开始提供开源软件的镜像。他们是 Debian 和 Gentoo 的镜像，本质上是为俄勒冈州立大学的人们提供本地访问开源软件的机会。这些镜子变得非常受欢迎，因为它们所连接的网络连接速度非常快。俄勒冈州立大学总是有一些最好的镜子。

你还记得 SourceForge *是什么时候的* GitHub 吗？有一类项目超越了 SourceForge——即 Apache、Linux 内核、Drupal 和 freenode.net、IRC 网络。SourceForge 发展不起来的所有大型开源软件最终都到了俄勒冈州立大学，它就像一个托管服务提供商。俄勒冈州为开源项目提供服务器。然后，他们提供了一些聪明的手来帮助运行这些服务器，修补它们并使它们保持最新，这就是我正在做的。我是学生系统管理员。在 drupal.org 和 apache.org 的工作中，我学会了如何使用 grep。

开源实验室还在继续。那是我学习成为一名系统管理员的地方，也是让我涉足开源的地方，也是让我在 Mozilla 工作的地方，因为 mozilla.org 是开源实验室的客户。

**当你第一次开始在开源实验室工作时，你面临的一些复杂问题是什么？**

**Alex:** 那是前云时代，所以你还是要和物理机器打交道。俄勒冈州立大学有自己的网络，所以你必须从头到尾做一遍。你必须了解整个堆栈以及它是如何工作的。我记得有一天，我们需要进行服务器的数据中心迁移，就像这样，“好吧，把机器拉下来，在整个校园内运行。”那是一台 freenode 服务器 netsplit 就是我拔掉 freenode 服务器的插头，让它在整个校园内运行，然后再插回去。你知道，那种东西——那时候就是这样。

**当时你在使用哪些工具？**

亚历克斯:都是 Linux 操作系统。 [CFEngine](https://en.wikipedia.org/wiki/CFEngine) 因为是这样一家精致的商店而非常受欢迎。许多 IRC 用于交流。通过配置 web 服务器并使它运行得非常快，我变得非常擅长 Apache。我会说 Apache、MySQL… Python 是首选系统，现在仍然是。

**那是现代开源时代的开端，不是吗？**

亚历克斯:的确如此，我很幸运身处其中。我列举的所有项目都是目前最大的开源项目。当时，这看起来就像是一群黑客聚在一起，让人们可以使用这些东西。

**[我采访了 Mitchell Hashimoto](https://thenewstack.io/new-stack-makers-mitchell-hashimoto-vagrant-containers-growing-open-source/) ，他在高中的时候就参与了开源。他开始开发视频游戏作弊软件。但他学会了如何编码，并以这种方式参与了开源。对他来说，这真的是学习。我认为这仍然是关于学习的问题。那些开源社区对你来说是什么？仅仅是关于学习，还是有更多的东西？你当时能感觉到它会变成什么样吗？**

Alex: 从很多方面来说，开源是一项社会使命，而不仅仅是一项技术使命。如果你想的话，你应该能够打开你的汽车引擎盖，对它进行修补。这就像一个在线公民自由问题。在一天结束时，它是关于你以你想要的方式运行软件的自由，并且知道你的软件正在发生什么。这是它早期最吸引我的地方，也是我对技术的好奇。我是说，我也喜欢学习。米切尔的话让我产生了共鸣。在软件方面有无穷无尽的东西要学，当打开盖子时，你可以学到比你刚从货架上拿到产品时更深的东西。

那还是一个很小的社区，不是吗？当时开源社区受到了很多攻击——这和你们有关系吗？这重要吗？

亚历克斯:很明显，核心基础设施应该是开源的。我们应该分享所有困难的部分，而不是一遍又一遍地重新发明它们。我们知道 Linux 不会有任何发展；当时阿帕奇没有去任何地方。有新版本的东西出来吗？总是——那总是会发生的。但是开源网络服务器、开源数据库、开源内核的核心原则——所有这些都需要存在。我觉得从事这项工作的人是在为世界上的每个人服务，因为核心基础设施需要存在。

当你回顾在俄勒冈州的早期，那是什么时候？

**亚历克斯:**这都是 21 世纪初的事了。

**那是互联网时代的结束。从 2003 年到 2007 年，我们看到 RSS 作为一种交易信息的方法被采用。restful APIs 的出现为如何连接事物带来了新的视角，从那以后出现了许多互联网规模的公司。在开源社区的发展过程中，你见过哪些里程碑？现在，我们看到了 OpenStack 和 Cloud Foundry Foundation——这些不同类型的开源组织在你参与开源社区时并不存在。**

亚历克斯:基础设施软件中最难的部分首先免费。Linux 内核是第一个大规模免费的——最难的，最底层的部分。在内核下面，你是在硬件本身的微控制器上。最难的部分总是免费的，我们已经看到随着时间的推移这种情况越来越多。下一个是虚拟化。虚拟化相当困难。VMware 首先获得了它，但随着时间的推移，它变得免费了。紧随虚拟化之后的是云平台层。亚马逊首先得到了它……但它是免费的——我的意思是，它在这一点上相当不错。OpenStack 相当可靠，尽管它有自己的问题。它只是继续在堆栈中向上移动。云平台仍然是免费的，但它更像是平台级别，而不是运行虚拟化级别。

**为什么 Linux 容器技术没有像 VMware 的虚拟化那样被广泛采用？**

亚历克斯:我认为这只是进化的事情。起初，我们有一个服务器运行在一个运行 Red Hat 或其他什么的机器上。下一个合乎逻辑的步骤是采用相同的服务器，但将其打包——像服务器一样运行它们，但实际上将其淘汰。我们仍然在考虑服务器方面的事情。

要记住的一点是，在整个过程中，一个好的最佳实践是每台服务器运行一个应用程序。VMware 试图通过虚拟设备做到这一点，但因为他们的堆栈是为了帮助从单主机服务器到多主机服务器的这一步，所以虚拟化从未真正流行起来，尽管它一直存在。

容器是这里的下一个合乎逻辑的东西。Docker 容器的主要构建方式是以 Ubuntu 或 CentOS 为起点，并在其中构建应用程序。我将不再拥有一个分割的服务器，而是构建一个只用于一个应用程序的容器，这是我们一直认为好的东西。

现在发生的原因是因为工具变得足够简单，允许我们这样做。任何优秀的软件架构师都会告诉你，这是构建它的正确方法，但是以前工具太难了。

接下来的一步是构建一个专门运行特定应用的运行时，这样你就不再需要 Ubuntu 或 CentOS 了。这可能需要一段时间，你只需要说，“这是我的 Java 应用——在它周围放一个应用程序。”目前，我们正处于从虚拟化向以应用为中心的虚拟化过渡的阶段，虚拟化是一个容器。

跟我说说那个工具。是什么让它如此复杂？与容器技术相比，虚拟化技术的进步对工具有何不同？

**亚历克斯:**虚拟化并没有让实际构建操作系统变得更加容易，但它确实让在一台机器上运行多个实例变得更加容易。Docker 真正擅长的一件事是构建应用程序的这个小映像——这可能是 VMware 早就应该做的事情——这是一种生成 [OVF](https://en.wikipedia.org/wiki/Open_Virtualization_Format) 的非常简单的方法，这是在 VMware 内部运行所需的映像格式。但是没有人这样做。

**那么，是什么让虚拟化变得更加容易呢？虚拟化环境中出现的哪些工具集有助于 it 获得认可？**

Alex: 我认为最重要的是，您可以整合您的基础架构。这就是动力。有一些易于使用的东西，但即使如此，VMware 上的 API 并没有真正让人们更容易部署。我认为整合故事是 VMware 腾飞的真正原因。人们实际上有一个可以相对量化的总拥有成本。这就是 VMware 在企业中如此受欢迎的原因:因为这是人们对企业中事物的看法。

**VMware 上几乎没有任何 API。**

亚历克斯:对，因为那不是重点。

**焦点不是分布式基础设施。**

亚历克斯:对

码头工人做了什么来改变这种心态？虚拟化已经在云服务中被广泛接受，例如亚马逊，并且已经在这些不同的云服务中巩固了自己。跨虚拟化环境管理这些实例是否变得更加困难？

Alex: 归根结底，你在运行一台服务器，你想让它运行一个应用程序。您从任何人那里购买服务器，然后连接它，这样当您启动它时，它就可以运行您一开始就需要的东西。一种混合的方式是运行像 Puppet 或 Chef 这样的东西，允许你引导到一个已知的状态，然后把服务器变成你想要的东西。最终结果是一样的——您的服务器正在运行您想要的东西。

一个架构师的最佳实践方法是设置环境，使它每次都以相同的方式运行。一个很好的方法是创建一个你希望它运行的映像，然后执行这个映像。

> Docker 所做的就是让构建和运行这个映像变得非常容易。易用性是关键。

他们使理论变得简单；他们将理论付诸实践。它们使构建应用程序的映像变得容易，并且还可以与各种服务器共享该映像，与这些服务器分发该映像，并且还可以与其他人共享该映像。这里也有一个可重复使用的东西，这很好。

那会带来哪些长期影响？这是向集装箱化的大规模转变吗？这种新的分布式环境是什么？

**Alex:** 我认为这个“分布式环境”非常有趣。请记住:这与容器的包装无关。您可以在没有任何分布式系统的情况下，在您的木偶或厨师环境中运行一个容器。不管出于什么原因，容器已经与这种分布式系统方法结合在一起运行。

**你认为它为什么会被耦合？**

亚历克斯:我认为这是一群志趣相投的人试图同时解决许多问题。这里有一种方法。再一次，我一直在谈论这个:一个了解这些系统如何工作的架构师，不管他们是谁，都会告诉你运行一个环境的最佳方式是什么。我们都得出同样的逻辑结论。其中的一部分就是:任何一台服务器都不应该是单点故障。这是大多数人都同意的一件事。它没有被完成的唯一原因是因为它太难做了。如果编写一个可以在 100 台机器上运行的应用程序非常简单——杀死任何一台机器都没关系，应用程序会继续工作——每个人都希望如此。但就是太难了。

与之结合的分布式系统部分——我很高兴看到所有供应商都一致这么做——Docker 增加了集群——从一开始就从集群的角度考虑问题。

> 我认为我们正在清理多个问题:不仅仅是打包应用程序的方式，还有如何以一种高度可用和弹性的方式运行它们。

它帮助解决了哪些问题？

**Alex:** 高可用性，即工作负载移动性。实际上，我从未想过这个问题，但是集群对容器如此重要的原因可能是因为工作负载的移动性。好的方面是:围绕什么是容器的一些标准化，以便不同的环境可以以相同的方式运行它。

也许另一个很好的功能是:我在亚马逊和谷歌上运行一些服务器，它们以同样的方式运行我的应用程序，集群很重要，所以我可以关闭我的亚马逊服务器，它们迁移到谷歌，反之亦然。也许这就是为什么它们是结合在一起的:因为容器是关于可移植性的，为了具有可移植性，你需要的不仅仅是一种打包格式。网络的工作方式，集群的工作方式等等。，也需要便携。

由于这些志同道合的人正在做的清理工作，有哪些新的复杂情况正在浮出水面？

**亚历克斯:**一切又回到了桌面上。我们正在重新构建网络；我们正在重新进行存储；我们在重新做我们的数据库。我们正在解决所有问题——这无疑增加了复杂性，因为现在你扔掉了很多东西。例如，MySQL 不太适合这种环境，所以，“哎呀！一切都建立在 mySQL 之上！”

**所以我们正在重新做网络，重新做存储，并扔掉很多东西。这似乎是现在真正的比赛，重新做那些事情，不是吗？**

**Alex:** 我们都希望——Docker、Rocket、CoreOS、Mesosphere、Red Hat——我们都希望人们在容器方面取得成功。我们都在试图以不同的方式解决这些问题，以便客户能够成功使用容器。

**我们也看到了虚拟化发展的变化，例如轻量级虚拟机。VMware 正在讨论不同类型的方法；关于他们如何看待运行中的容器，有不同的理论。我听说有人把它描述为在虚拟机上运行的监狱内部的容器。您如何看待仍在努力构建这种基于虚拟机的堆栈环境的力量？**

**Alex:** 我们不用 VMware，用亚马逊或者谷歌来举例。你将碰到一个 API，它说，“引导一个容器”，而不是引导一个虚拟机。将会有一些 UI 上有许多行——每个容器运行一行，等等。这是目前的思维方式将带领我们的方向。VMware 也是一样，现在你启动一个虚拟机，你得到的是一个运行的容器，而不是一个虚拟机。其他一切 APIs 是如何构建的，它们是否运行 Linux 都是实现细节。

关键是:我们现在是在应用程序或进程级别隔离事物，而不是在整个操作系统级别。这就是你对部署的看法，这是根本性的转变。这就是看控制面板上的那个窗格和看另一个窗格的区别。你会有你的应用程序面板，然后你会有你的操作系统面板，在那里你有不同的操作系统运行。这就是发生在所有这些人身上的转变，以不同的方式。他们到达那里的方式将是实施细节，无论是一个码头，或一个火箭，或什么…

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>