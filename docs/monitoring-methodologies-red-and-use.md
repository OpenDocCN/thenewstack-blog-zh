# 监测方法:红色和使用

> 原文：<https://thenewstack.io/monitoring-methodologies-red-and-use/>

对新系统或第一次实施监控可能是一项艰巨的任务。每一个新的系统或服务都会带来新的数据需要解析和理解，那么从哪里开始呢？首先考虑您希望数据回答的基本问题很重要。系统运行良好吗？环境有什么变化吗？有什么问题吗？用户体验如何？

对上述每个问题的回答都有助于深入了解您的整体系统运行状况和性能，并突出需要改进的问题和领域。确定指标以帮助回答这些问题的两种常见的[监控](https://thenewstack.io/monitoring-reset-containers/)方法是 [RED](https://thenewstack.io/monitoring-microservices-red-method/) 和 USE。

## **红色—比率、错误、持续时间**

RED 方法关注三个指标，主要针对请求驱动的系统，如现代 web 应用程序:速率、错误和持续时间。单独来看，这些指标可以作为应用程序性能指标，但是结合起来，它们可以提供关于用户如何与您的系统交互以及整体用户体验的有意义的见解。

### **速率**

这是您的系统接收请求的速率，可以在监控性能或故障排除时提供重要的上下文。一般来说，知道有多少用户在与你的服务交互是很重要的。但是，比率也为其他指标提供了重要的背景信息，有助于指导故障排除或指出未来需要改进的地方。一项服务是否接收到更高的流量？随着流量增加，性能会受到怎样的影响？

### **错误**

简单地说，在您的系统中有多少请求正在结束或遇到错误？特定的调用是否 100%失败？错误会随着流量的增加而增加吗？下游延迟是否会导致调用超时？错误是您的系统寻求帮助，监控它们对于识别、优先处理和修复系统问题至关重要。

### **持续时间**

持续时间是指对系统的每个请求所花费的时间长度。越来越复杂的系统依赖于对每个请求的大量调用。请求持续时间对于确定最终用户体验和监控整体性能至关重要。系统延迟和长时间运行的调用可能会导致用户不满，并预示着更大的应用程序问题。毕竟，根据谷歌的说法，“慢是新的下降”。随着页面加载时间从 1 秒增加到 3 秒，用户离开的可能性增加了 32%。

## **使用—利用率、饱和度、错误**

虽然 RED 更倾向于应用程序度量，但是 USE 方法论关注系统资源。对基础设施运行状况的了解与对应用程序运行状况的了解同样重要。

### **利用率**

利用率是指系统用于处理工作的资源数量。这可能是 CPU、内存、网络带宽，甚至是软件指标，如处理能力和线程池。在监控利用率时，了解您的系统架构非常重要。服务流程中的每一步都需要并使用系统资源；如果这些资源不可用，您的应用程序可能会停止运行或遇到问题。

### **饱和度**

饱和度是由于缺乏可用资源而无法由系统处理的工作量，类似于积压。饱和通常可以被视为排队或延迟，并可能导致工作出错。理想情况下，您的系统具有高利用率和低饱和度，允许接受和处理新的工作。

### **错误**

正如错误可能表明应用程序有问题一样，它们也可能表明资源有问题。您的系统是否有足够的资源分配给当前的流量速率？服务器有足够的内存来运行您的服务吗？磁盘是否已满，导致事务无法持久化？错误是你的系统让你知道有一个问题需要解决。

## **结论**

使用标准化的方法作为监控的基础，为团队提供了关键的性能指标，可以在整个开发和部署生命周期中对这些指标进行监控，以指导创新和确定未来开发项目的优先级。

越来越复杂的系统需要考虑应用程序、支持应用程序的基础设施和用户体验的监控。RED 和 USE metrics 共同为监控新系统或服务提供了一个起点，并致力于建立端到端的系统可见性。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>