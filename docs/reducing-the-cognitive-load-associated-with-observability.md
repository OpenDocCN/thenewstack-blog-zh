# 减少与可观察性相关的认知负荷

> 原文：<https://thenewstack.io/reducing-the-cognitive-load-associated-with-observability/>

你能想象在没有现代[观察工具](https://www.getambassador.io/kubernetes-learning-center/courses/observability)的情况下开发或操作一个分布式系统吗？我们知道可观察性是一项重要的实践，它让我们能够提高系统的可靠性、减少服务停机时间、可视化使用模式、提供性能洞察并促进问题解决。

过去十年，随着微服务架构的广泛采用和全球化的“左移”意图，工程师的角色——从开发人员和运营人员到开发运维人员、站点可靠性工程和平台工程——发生了巨大变化。许多人被赋予了更多的责任，工作量也增加了。

作为一个软件工程组织，我们的工作是构建满足特定业务需求的高质量系统。为了实现这一目标，我们对我们的应用进行了测试，设置了分布式跟踪和集中式日志收集，并持续监控延迟、错误率和吞吐量，同时发出警报。现在怎么办？我们可以依靠我们组织中的一名英勇的专家来处理警报、诊断系统故障和防止停机。或者，我们可以将这些知识传播给所有工程师，共同分担工作量。

要求每个人都精通现有的工具，并理解生成的大量数据，这将不可避免地导致焦虑、沮丧和疲劳。我们能以某种方式减少与可观察性相关的认知负荷吗？

## 理解可观测性数据

有一些与可观察性相关的硬技能。工程师需要接受训练来破译基本的数据类型。希望工具可以帮助人类完成这项任务。难怪我们看到了供应商工具的激增，这些工具旨在提供最佳体验来解释和可视化分布式跟踪、度量和日志。这是一项复杂的任务！分布式跟踪只是一大块链接的时间戳和元数据；度量可以是仪表、计数器或直方图。日志语句可以是结构化的，也可以是非结构化的，这取决于受众和消费者。即使是最常见的日志语句，对于未经训练的人来说也是陌生的。只需让一个 Java 开发人员来解开一个 Python 堆栈跟踪！

然后我们面临着“数据太多”的问题我们依靠工具来大海捞针，过滤噪音，并明确在任何时间点，收集的信号，但没有暴露在任何可视化中或被任何警报使用，都是移除的候选对象。

### 信号:大海捞针

需要对数据点进行过滤和转换，以产生适当的信号。没有人想全天候盯着仪表盘或跟踪日志，所以我们依赖于警报系统。当警报响起时，它旨在进行人工干预，这意味着将原始信号转换为具有上下文数据的可操作事件:警报的重要性、环境、描述、注释、链接等。它必须有足够的信息来引起对问题的注意，但又不能太多而淹没在噪音中。

最重要的是，页面警报应该需要人的响应。如果警报不可操作，还有什么理由打断工程师的工作流程？

当警报触发时，分析开始。当我们急切地等待异常检测和自动化分析(随着人工智能的出现)来完全消除这个等式中的人为因素时，我们可以使用一些技巧来帮助我们的大脑快速识别出问题。

### 可视化:不要低估平台人机交互的价值

触发警报信号需要阈值。说到可视化，调查和检测异常的人也需要考虑这些阈值。数据中的这个值是太低还是出乎意料的高？

在这个非常普通的图表中，图表标题、坐标轴标签和描述都被故意删除了。我们缺乏背景，但我们的大脑可以立即发现异常。通向图表的警报应始终包含一个可视指示器。它们对于突出趋势和不寻常的模式是必不可少的，即使对外行人来说也是如此。

## 主动学习:避免英雄文化；训练你的团队

在你的团队中，谁是事实上的第一响应者和可观察性主题专家，当事情变糟时，谁会挺身而出迎接挑战？也许是你。尽管恢复服务的正常运行时间和扭转乾坤的愿望越来越强烈，但还是要求那个人克制一下。问自己这些问题:

*   最坏的情况会是什么？
*   其他人会挺身而出吗？
*   这是团队中其他人的学习机会吗？
*   这是一个教学机会吗？在这种情况下，跟随一个有经验的团队成员可以工作吗？

让别人去做吧。放手肯定不容易。调整你的期望，给你自己和你的团队调查的空间，这是减少压力和紧急情况的关键。通过使用真实数据对真实生产系统中的真实事件做出反应，在受控、无压力的环境中主动学习，这是终极培训。虽然这似乎有点太“火的考验”，这就是为什么我们有游戏日。

### 游戏日

比赛日是消防演习。我们需要接受故障和停机将会发生的事实。比赛日的目的是通过练习我们提前反应的能力来减少实际事故中的压力。我们希望能够在危机中迅速而自信地采取行动，同时建立一些直觉和反应能力，以便在凌晨 4 点派上用场。熟能生巧！

从选择一个游戏高手和必要的帮凶开始。通常，这些是领域或系统的主题专家。他们需要仔细选择在比赛日活动中要测试的系统和场景。以下场景非常常见:

1.  重放以前的事故场景。这将测试事件响应流程是否有所改进，人们是否知道要注意哪些可观察性信号，以及了解如何关联数据点。这也是测试系统在事后学习和纠正措施后是否更有弹性的好机会。
2.  在投入生产之前，确保新系统或服务具备所有正确的监控、警报和指标。这测试你是否准备好操作系统，以及人们是否知道如何发现可观察性数据和知道如何响应警报。
3.  当涉及到安全性、适度降级、高可用性系统等时，校准过度自信偏差。这测试你是否真的知道系统的故障模式，以及工程师是否有能力诊断未知的问题。

然后让游戏大师想出一套假设，并预测练习的预期收获。评估演习对业务的影响(爆炸半径),并确定在需要时将采取的步骤以将其最小化(例如将演习限制在一个时间范围内，如果发生意外情况，则中止演习等)。)

让游戏开始吧！故意打破东西，制造一点混乱。我们希望人们在处理事件时依靠理性、专注和深思熟虑的认知功能。否则，压力和恐惧会损害认知功能和决策。

观察在这个解决问题的练习中，人与人之间的互动是如何进行的。这项活动是否培养了一种协作文化？团队成员互相支持吗？

## 协作文化:不再囤积数据

培养协作文化对每个人的福祉都至关重要。分享数据、见解和问题会让团队成员更加投入、好奇和信任。谁对开发人员隐藏了他们的可观察性仪表板？信息应该共享，应该避免保密。这些都是简单的原则，但是当从事件中学习时，很少有组织遵循这个标准。我们应该庆祝失败！我们需要在事后透明，以推动有意义的变革。责备和指责的文化只会加速焦虑和灾难的恶性循环。

每个事故响应流程都应包括事后分析。在尸检中，收集信息、想法、反馈和感知也是一项团队活动。有效地进行无可指责的事后分析将确保团队成员有对过程、工具或系统提出变更的自由。这项活动使人们能够通过纠正措施和生活质量的提高来做出改变。验尸还应有益于本组织的其他成员，他们可能没有直接卷入主要事件，因为书面记录应广泛共享，并作为学习材料。

## 随时待命

工程师有能力理解可观测性数据。由于团队中的每个人都在积极学习如何在比赛日应对突发事件，因此在整个工程组织而不是几个选定的个人之间分担待命职责非常重要。这也将有助于减少与随时可能到来的厄运相关的负担和压力。任何工程师都不应该随叫随到。需要明确定义和理解角色和上报途径。从第一响应者(911 调度操作员)到事故指挥官(主题专家)和升级经理(通常是负责沟通的工程经理)，没有人应该被要求成为英雄。应该要求他们协调和组织最适合解决这种情况的团队。

在待命时，清单——称之为“操作手册”或其他什么——也可以作为认知辅助工具，在完成复杂的教学任务时减轻思维过程。比赛日是检验这些清单的最佳时机。

因为我们已经确保通过消除信号噪声来减少假警报，并且因为每个人都了解他们在随叫随到中的角色，警报疲劳应该成为过去。

## 人仍然是分布式系统的中心

通过实施这些策略，软件工程团队可以帮助确保他们具备有效使用和理解可观测性信号的知识和技能。充分利用收集的数据对于提高分布式系统的整体性能和可靠性至关重要。教与学将超越单个个体来衡量人的因素。虽然我们仍然必须依靠人脑来诊断和解决问题，但让我们确保我们能够可持续地做到这一点。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>