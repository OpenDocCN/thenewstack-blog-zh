# Heptio 发布了两个新工具，使 Kubernetes 更易于管理

> 原文：<https://thenewstack.io/heptio-two-new-tools-make-kubernetes-life-easier/>

Kubernetes ，一个用于自动化部署和扩展容器化应用的开源系统，做得非常好。它将应用程序的容器分组为逻辑单元，以便于管理和发现，从本地测试一直扩展到真正的全球生产，并且几乎可以在任何地方运行。

同时，该平台的实现可能会令人生畏——特别是对于在 Kubernetes 上配置他们的第一个系统的新用户来说。Kubernetes 正在迅速成为软件容器编排的事实上的标准，但是对于任何不是核心系统工程师的人来说，访问它仍然是一个挑战。

由 Kubernetes 联合创始人[乔·贝达](https://www.linkedin.com/in/jbeda)和[克雷格·麦克卢奇](https://www.linkedin.com/in/craigmcluckie)创立的 [Heptio](https://www.heptio.com/) ，是一家旨在让这个平台更易接近的公司。“我们的使命是让 Kubernetes 更自然地为不一定是后端工程师的开发人员所用，并帮助它更好地融入企业 it 的结构中，”Heptio 首席执行官 McLuckie 在接受采访时说。

为此，Heptio 刚刚宣布了两个新的开源项目，旨在使 Kubernetes 更容易在任何生产场景中使用，无论您在哪里运行您的集群。 [Heptio Ark](https://github.com/heptio/ark) 是一款易于使用的灾难恢复工具，可备份和恢复您的 Kubernetes 集群，而 [Heptio Sonobuoy](https://github.com/heptio/sonobuoy) 是一款用于检查集群状态和配置的工具，可确保一切配置正确并正常工作。这两个项目都可以在 GitHub 上公开获得。

## 所有人登上方舟

赫普提欧方舟是根据“方舟”的字面定义命名的，也就是说，一艘船或一个避难所，用来防止灭绝。Kubernetes 的生产使用意味着管理集群备份的挑战，以及灾难发生时的恢复。混合有状态的工作负载使事情变得更加复杂；例如，在特定的时间戳精确定位卷快照和它的 pod 之间的正确关联可能很棘手。

McLuckie 解释说:“Kubernetes 非常强大，可以非常活跃地保持活动状态，但是如果集群内部出现数据损坏，您需要从备份中恢复工作负载。“客户需要能够将集群内部的信息与集群外部的状态很好地集成在一起。”

假设您运行一个应用程序，该应用程序将系统信息保存在群集外的存储卷中。如果在 Kubernetes 环境中运行的一系列应用程序出现问题，而这些应用程序将状态存储在 Kubernetes 信封之外，这意味着要找出状态的哪些部分与存储的哪些部分相关联。

Heptio 创建了 Ark 项目，通过将集群内部的信息与集群外部的状态相集成来解决这个问题。“如果发生了不好的事情，Heptio Ark 可以很容易地将正在运行的工作负载恢复到一个新的集群中，无论是整个集群还是集群的一部分，”McLuckie 说。

Heptio Ark 不仅仅用于关键的备份和恢复操作。

“同样的灾难恢复机制也是一个非常有用的工具，可以有效地复制集群或集群的一部分——在测试中非常有用，”McLuckie 说。简而言之，Heptio Ark 作为一种受控机制来复制生产环境的一个或多个部分，以便为 QA 生成精确的副本。

“能够通过非常轻松地创建生产环境的副本来更快地更改您的应用程序，这意味着您能够进行实验，同时知道，在一天结束时，您所构建的内容将继续工作，”McLuckie 解释道。

Heptio Ark 将在 alpha 阶段发布，以征求反馈。它目前兼容三种流行的公共云(亚马逊 Web 服务、Azure 和谷歌云平台)。由于它被设计成可扩展的，Heptio 将会添加更多的环境。您可以通过查看 GitHub 页面了解更多关于该项目的信息。

## 从下面看

该公司的另一款新产品也因其功能而得名。声纳浮标是一种沉浸式设备，它使用声纳来提供海洋的水下视图。麦克卢奇说，Heptio Sonobuoy 诞生于与客户合作解决问题。“我们发现自己怀疑他们的安装是否正确，并且不得不花费大量时间在他们的集群中探索，以了解什么是什么。”

考虑到创建 Kubernetes 集群有许多不同的方法，并且有许多用来托管它们的环境，知道一个系统是否被正确配置并不总是容易的。“我们希望客户在他们自己的环境中使用上游 Kubernetes 发行版，但许多人很难知道他们已经建立的东西是否以任何方式类似于它应该看起来的样子，”McLuckie 说。“Sonobuoy 提供了对集群内部正在发生的事情的洞察，因此你有更高水平的意识和可检查性。”

例如，正确设置 Kubernetes 网络堆栈可能很有挑战性，尤其是对新用户而言。遵循一系列安装步骤可能会让客户相信 Kubernetes 集群正在工作，即使它实际上可能没有通过网络连接到外部世界。不幸的是，他们只有在尝试实际上线时才发现这一点。

McLuckie 将 Sonobuoy 描述为用户检查其配置以确保事情按预期运行的一种方式。“这是一项复杂的任务，所以知道你做得对很重要，”他说。“事实上，您已经建立了一个实际的 Kubernetes 群集，而不是看起来像是一个 Kubernetes 群集，但并不完全像一个群集一样运行。”

确实有必要对声纳浮标进行检查。“作为一个开源社区，我们付出了很多努力来创建伟大的测试框架，但这些都是用来验证 Kubernetes 测试版本，以确保集群继续运行，”McLuckie 说。"但是，这些测试对客户来说太复杂了，无法运行."

最终，Sonobuoy 允许 Heptio 提供“更好、更细致的支持体验，了解集群内部发生的事情，这有助于我们帮助客户从他们的 Kubernetes 集群中获得更多好处”

## 逆流而上

Ark 和 Sonobuoy 都体现了 Heptio 的承诺，即在允许客户尽可能接近上游开源项目的同时，保持对 Kubernete 原始架构的忠实。

McLuckie 说:“尽可能接近和忠实于原始开源社区，使组织能够从 Kubernetes 获得更多，而不必购买特定于供应商的版本。“它还确保他们体验到我们作为一个社区想要他们体验的东西，同时降低运行环境时的资格和测试门槛。”

Heptio 将 Sonobuoy 引入了 Kubernetes 一致性工作组，这是一个由 William Denniss 主持的实体，致力于为 Kubernetes 平台提供一致性/认证计划。这项工作的目标是确保最终用户可以跨 Kubernetes 平台移植工作负载。McLuckie 说，目标是“将 Sonobuoy 建立为我们一致性武库中的一个有用工具——已经是 Apache 2 许可下的操作系统。我们一直在努力确保尽可能广泛地提供它。”

Ark 和 Sonobuoy 都是完全开源的，可以在 GitHub 上获得。对于那些有兴趣直接与 Heptio 合作的人来说，价格将因合作类型而异。该公司在一份声明中说:“我们有支持选项，我们的[客户成功](https://www.heptio.com/support-services-and-training)团队也有解决方案工程师团队，他们可以与客户合作，使用 Heptio Ark 和 Sonobuoy 进行测试和生产。”

无论采用哪种实现路线，有一点是肯定的:两家新的 Heptio ventures 都解决了开发人员在将容器放入生产空间时面临的核心挑战:如何确保它是健康的，如果它变得不健康，如何恢复？

Ark 和 Sonobuoy 提供了这种洞察力和自信，并打破了 Kubernetes 进入的令人生畏的障碍。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>