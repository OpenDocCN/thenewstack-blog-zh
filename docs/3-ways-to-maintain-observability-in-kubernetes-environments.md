# 在 Kubernetes 环境中保持可观察性的 3 种方法

> 原文：<https://thenewstack.io/3-ways-to-maintain-observability-in-kubernetes-environments/>

[](https://www.linkedin.com/in/pputz/)

 [彼得·普茨博士

彼得是丹纳 trace 的技术战略专家。他在领导由科学家和工程师组成的国际软件项目团队以及管理复杂、创新的 IT 解决方案的整个生命周期方面拥有超过 15 年的经验。在加入 Dynatrace 之前，他是美国宇航局艾姆斯研究中心的高级科学家。](https://www.linkedin.com/in/pputz/) [](https://www.linkedin.com/in/pputz/)

为了跟上数字化转型的步伐，各行各业的组织都必须加大力度加快创新。为了应对这一挑战，他们已经从传统的内部数据中心转向多云环境，并将 Kubernetes 作为他们的应用和创新平台。采用微服务、容器和其他云原生技术允许团队更快地构建新的数字服务和能力，以便他们能够适应快速发展的业务需求，并继续推动客户成功。

然而，保持对这些云原生环境的可见性可能是一个真正的挑战。Kubernetes 非常擅长自动化和管理容器化的工作负载和应用程序。然而，动态抽象层使其在各种环境中变得如此灵活和可移植，却可能导致难以发现、排除和预防的新类型错误。将监控工具生成的复杂数据网络与业务成果联系起来更加困难。[研究](https://www.dynatrace.com/cio-report-automatic-and-intelligent-observability/)显示，超过三分之二的首席信息官认为 Kubernetes 的兴起导致 IT 团队需要管理太多的移动部分，他们需要一种完全不同的方法来管理 IT 和云运营。

以下是获得对 Kubernetes 环境的可观察性如此困难的三个主要原因，以及组织可以克服这些挑战的方法。

## **1。Kubernetes 是高度动态的，因此 AIOps 和自动化是必不可少的**

虽然像 Kubernetes 这样的分布式平台能够实现更快的创新和更好的可扩展性，但它们也是高度动态和复杂的。集群、节点和单元不断变化，因此没有时间来手动配置和检测监控功能。IT 团队不得不努力洞察其应用程序的运行状况，并跟上 Kubernetes 环境的变化速度，这些时间可以用来推出推动业务成功的新服务。

保持对这种动态环境的可见性的唯一方法是，团队能够在新服务上线和现有服务扩展时自动发现服务，并动态地对它们进行检测。利用 AIOps 辅助的持续自动化，平台和应用团队能够实时运行具有数百万变化的大规模环境，并持续监控整个堆栈的系统降级和性能异常。

这不仅为团队提供了 Kubernetes 环境的完整视图，还使他们能够通过确定哪些技术变化将产生最大的业务影响来更好地确定任务的优先级。有了这种洞察力，团队可以在影响用户体验的问题发生之前加以预防，并重新专注于不断优化服务，以便为企业及其客户提供最佳结果。

## **2。Kubernetes 在许多地方运行，因此全栈方法是关键**

除了跟踪不断变化的微服务和工作负载，当您考虑到组织经常在多个环境中部署 Kubernetes 时，维护可观察性的挑战变得更加复杂。

这是因为 Kubernetes 可以在任何云上运行，使组织能够灵活地跨许多平台部署他们的微服务，并通过 EKS、AKS 和 GKE 等托管服务以及他们自己的内部服务器进行部署。因此，许多组织使用不同的监控工具和云平台指标来管理他们的 Kubernetes 环境。

然而，手动收集和关联来自所有这些来源的可观测性数据，以获得更大的图片和完整的上下文，是非常耗时的。使用点监控解决方案的孤立团队进一步阻碍了这一点，并可能破坏跨团队协作。

一种有效的可观察性方法应该通过帮助打破团队之间的孤岛来促进整个组织的协作。因此，它需要将所有 Kubernetes 指标、日志和跟踪统一到一个具有通用数据模型的平台中。它还需要包括来自与 Kubernetes 部署一起运行的传统服务和技术堆栈的数据，以确保平台和应用程序团队在其整个环境中有一个统一的视图。这种端到端的可观察性方法提供了更大的上下文，这些团队可以使用它来更成功地优化 Kubernetes 工作负载和应用程序。

## **3。面对如此多的数据，在用户环境中查看数据至关重要**

同样重要的是要记住，可观察性不仅仅是访问更多的数据，它还涉及组织如何使用这些数据来确定他们的技术体系中需要改进的领域。度量、日志和跟踪是重要的，但是它们并不能说明全部情况，并且实际上常常限制了开发人员和应用程序所有者，只允许他们获得后端视角。为了了解 Kubernetes 性能对业务成果的影响，组织需要能够将他们推向生产的代码、后端的底层云平台和前端的用户体验之间的点连接起来。这意味着他们需要将 Kubernetes 监控数据与实时业务指标(如用户体验洞察和转化率)相结合。

借助应用拓扑映射功能，团队可以更轻松地获得这些见解，这些功能可以实时自动可视化 Kubernetes 环境内以及更广泛的云技术堆栈中的所有关系和依赖关系，包括用户体验数据。垂直映射集群、主机、单元和工作负载之间的依赖关系，以及水平映射数据中心、应用和服务之间的依赖关系，使 IT 团队能够确定哪些问题对业务的整体影响最大。以这种方式将用户体验与后端性能相关联，可以为业务领导者和数字团队提供所需的信息，以便他们做出更好的决策，确定如何优化系统以及在数字基础设施的哪些方面进一步投资，从而改善服务并提供更好的用户体验。

最终，解决 Kubernetes 架构带来的可观测性挑战的最有效方法是利用自动化和人工智能的优势。将可观察性与 AIOps 和自动化相结合，允许团队将他们的洞察力扩展到指标、日志和跟踪之外，并纳入其他有价值的数据，如用户行为和业务 KPI。通过以这种方式重新思考他们的 Kubernetes 监控方法，组织可以消除孤岛，这样他们的团队就可以花更少的时间进行故障排除，而花更多的时间优化服务，从而取得更好的业务成果。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>