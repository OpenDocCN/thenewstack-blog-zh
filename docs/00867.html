<html>
<head>
<title>Getting a Handle on Node.js Deployments with Dynatrace</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Dynatrace处理Node.js部署</h1>
<blockquote>原文：<a href="https://thenewstack.io/getting-handle-node-js-deployments-dynatrace/#0001-01-01">https://thenewstack.io/getting-handle-node-js-deployments-dynatrace/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">假设场景:你公司的市场部刚刚设计了一个全新的网站。他们用JavaScript Angular框架构建了它，因此附带了从各种数据源中提取数据的疯狂的个性化逻辑。该公司的高管对该网站很满意，所以现在该由系统管理员来让它快速工作，并确保它以最小的延迟运行。</p>
<p class="translated">这可能是一个挑战。</p>
<p class="translated">使用开源的Node.js，一个建立在谷歌V8 JavaScript引擎上的服务器端JavaScript运行时，可能会有所缓解。使用Node可以减少将框架连接到后端数据库的工作量。这比支持传统的Java EE堆栈来完成任务要简单得多。</p>
<p class="translated">JavaScript的危险在于，如果代码的某一部分出现中断——你可以打赌它会——它很容易就会变成一整页空白。然后电话就开始了。当页面崩溃时，或者即使它真的变得很慢，管理员怎么知道——在这个庞大的网络技术堆栈中——根本问题隐藏在哪里？</p>
<p class="translated">下周，在奥兰多举行的Dynatrace的<a href="http://www.dynatrace.com/en/perform.html" target="_blank" class="ext-link" rel="external ">performance</a>用户会议上，Dynatrace技术策略师Daniel Khan将讨论如何使用该公司的应用监控工具来检测Node.js部署，以便在出现问题时，管理员能够准确地知道该去哪里查找。</p>
<p class="translated">Dynatrace软件的目标是为管理员和开发人员提供一个端到端的视图，了解多层应用程序的运行情况。该信息在微服务类型的架构中尤其有用，因为它有许多活动部件。如果web应用程序运行缓慢，Dynatrace软件可以帮助确定瓶颈可能在哪里。</p>
<p class="translated">“我们能够监控整个堆栈，从浏览器到Node.js，再到后端，”Khan说。自从今年早些时候发布dyna trace 6.2<a href="https://community.dynatrace.com/community/display/PROD/Dynatrace+6.2+Release+Notes" target="_blank" class="ext-link" rel="external "/>以来，该公司一直提供Node.js支持。</p>
<p class="translated"><img decoding="async" loading="lazy" class="aligncenter wp-image-696123 size-large" src="../Images/f55c1f2386dec7d45975138463cd6cc6.png" alt="Dynatrace-nodejs_enterprise" data-original-src="https://thenewstack.io/wp-content/uploads/2015/10/Dynatrace-nodejs_enterprise-1024x496.png"/></p>
<h2 class="translated">为什么是节点</h2>
<p class="translated">Ryan Dahl <a href="https://www.youtube.com/watch?v=ztspvPYybIY" target="_blank" class="ext-link" rel="external ">创建了用C语言编写的</a> Node.js，以解决web应用程序中的I/O阻塞问题，并于2009年发布了该软件。当网页从数据库或磁盘请求某些东西时，会发生I/O阻塞，导致所有后续操作暂停，至少是暂时暂停，直到响应到达。这在像Ruby on Rails这样的web框架中尤为严重。</p>
<p class="translated">Dahl第一次发布Node时，已经有了绕过阻塞I/O的方法。但是在web应用程序中构建并发性往往需要在多个线程之间进行上下文切换(这会消耗时间)，并且需要每个线程获得自己的内存补丁(这会消耗内存)。其他方法涉及程序特定的库，这些库晦涩难懂，难以学习。</p>
<p class="translated">Node.js使用一个事件循环线程来处理多个杂务。Node可以为每个函数分配一个回调，而不是等待响应，因此事件循环可以继续到下一个任务，并在函数响应到达时返回到函数响应。</p>
<p class="translated">使用事件循环是明智的，Dahl选择JavaScript作为开发人员的接口也是如此。作为一种浏览器语言，JavaScript非常适合构建事件循环。</p>
<p class="translated">更重要的是，到2009年，很多程序员都知道了JavaScript。通过构建作为服务器端技术运行的Node，它立即为JavaScript应用程序开发人员提供了一种他们熟悉的语言。</p>
<div id="attachment_696586" class="wp-caption aligncenter"><a href="https://twitter.com/jasonpincin/status/538369235848679424/photo/1?ref_src=twsrc%5Etfw" class="ext-link" rel="external "><img aria-describedby="caption-attachment-696586" decoding="async" loading="lazy" class="wp-image-696586 size-full" src="../Images/99e80978a68d59f02ec11e888dff5511.png" alt="Walmart's Jason Pincin, celebrating 500 million page views, served up by Node.js, on Black Friday 2014" data-original-src="https://thenewstack.io/wp-content/uploads/2015/10/Node-Walmart-Pincin.jpg"/></a><p id="caption-attachment-696586" class="wp-caption-text translated">沃尔玛的杰森·平辛在2014年黑色星期五庆祝Node.js提供的5亿页面浏览量。</p></div>
<p class="translated">Node.js迅速流行起来，而且不仅仅是在初创企业中。这项技术在许多企业商店和网络规模的公司中找到了家。在PayPal、沃尔玛、纽约时报、Groupon和网飞等公司的防火墙后面，你会发现Node在运行。</p>
<p class="translated">“Node提供了一个非常简单的API，以异步的方式从不同的数据源提取数据，”汗<span>说。</span></p>
<p class="translated">因此，开发人员不必担心许多特定后端技术的实现细节，从而加快开发时间并减少错误。也不像在Java EE中那样需要处理大量的框架开销。</p>
<h2 class="translated">测量两次，切割一次</h2>
<p class="translated">都是好事。但是，当出现问题时，如何使用Node以及Node涉及的技术呢？</p>
<p class="translated">这就是【Dynatrace出现的地方。组织在服务器上运行Dynatrace软件，该软件从安装在被检测组件旁边或内部的各种代理收集指标。</p>
<p class="translated">检测节点只需要在节点部署本身上安装几个模块，以及在运行节点的服务器上安装一个代理。代理捕获对节点的所有调用，节点发出的所有调用，以及节点本身处理这些调用所花费的时间。</p>
<p class="translated">将这些数据与来自监视浏览器、数据库、应用服务器和工作流中其他组件的其他代理的类似信息相结合，可以让管理员全面了解事务流程。</p>
<div id="attachment_696121" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-696121" decoding="async" loading="lazy" class="wp-image-696121 size-large" src="../Images/c9f8188b087268e353bc8dea203dd455.png" alt="A Node.JS-based transaction flow" data-original-src="https://thenewstack.io/wp-content/uploads/2015/10/Dynatrace-transactionflow_nodejs-2-1024x322.png"/><p id="caption-attachment-696121" class="wp-caption-text translated">基于Node.js的事务流</p></div>
<p class="translated">该软件提供了一个拓扑视图，显示了单个事务流中所有组件的连接方式。这个图表还详细说明了两个组件完成一个事务平均需要多长时间，以及每个组件每分钟处理多少个事务。记录失败的事务数量，以及每个组件完成其在整个流程中的部分所用的时间百分比。</p>
<p class="translated">所有这些信息也被汇总起来，以提供一组关于应用程序整体性能的指标。</p>
<p class="p1 attribution translated"><span class="s1">专题图片:Scott Draves的<a href="https://www.flickr.com/photos/torley/2343919702/in/photolist-4z8cEE-sunKtN-v47SyC-xkjcv3-e6BcWz-5s3TKR-9jGJe-wws6kL-38Uo-nV9V5g-5KpbHF-aNMGtD-7W8BSd-hyBbLn-5FicTv-8BUK7n-9Na5jA-nenVX4-9ENPmf-p4C4Dh-qBFjxf-r1eTrN-7Nkat7-qZpHgD-rC5Rzr-rGMg3f-qN1BCn-9Wmyy6-bokZpe-unbenJ-hyzM7d-pFHiRH-2AUjQV-nAMRfL-8XMGY1-hyzUdg-dmJpYC-hyB98N-6gUxGU-azZKQ5-8iSzqB-hyBJm6-qE9DMX-7E1FNy-e1mZUr-sM4Rj2-qJC3An-idJuuN-qJfr4H-unHaHw" target="_blank" class="ext-link" rel="external ">羊涡</a>和Somatika的3D设计电动羊。根据<a href="https://creativecommons.org/licenses/by-sa/2.0/" target="_blank" class="ext-link" rel="external "> CC BY-SA 2.0 </a>授权。</span></p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>