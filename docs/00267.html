<html>
<head>
<title>Update to Kubernetes’ Helm Package Manager Could Simplify App Deployment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes头盔包管理器的更新可以简化应用程序的部署</h1>
<blockquote>原文：<a href="https://thenewstack.io/update-kubernetes-helm-package-manager-simplify-app-deployment/#0001-01-01">https://thenewstack.io/update-kubernetes-helm-package-manager-simplify-app-deployment/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">用于<a href="/category/kubernetes/" target="_blank"> Kubernetes </a>编排引擎的Helm package manager已经更新，简化了命令并减少了外部依赖性，从而使在K8s集群上部署应用程序比以往任何时候都更容易。</p>
<p class="translated">Helm是Deis 去年开始的<a href="https://thenewstack.io/deis-aims-extend-kubernetes-platform/" class="local-link">项目，其主要架构师——</a><a href="https://github.com/technosophos" class="ext-link" rel="external ">马特·布彻</a>和<a href="https://github.com/slack?tab=repositories" class="ext-link" rel="external ">杰森·汉森</a>——设想了一种众包模式，用于在各种情况下配置不同工作负载的部署。</p>
<p class="translated">Helm使用称为“图表”的包，其中包含模板化的Kubernetes资源，用于将应用程序部署到Kubernetes集群上。Helm还会在部署后管理这些版本。</p>
<p class="translated">在去年6月发布的一个Kubernetes社区视频中，Butcher介绍了Helm 2.0的第一个发布候选版本的alpha版本。“基本上，我们现在做的是，我们有三大部分，”布彻说。“我们有命令行Helm实用程序，它通过gRPC<a href="https://thenewstack.io/grpc-lean-mean-communication-protocol-microservices/" class="local-link">与服务器通信；我们有服务器端组件，它的工作基本上是获取包，将它们部署到Kubernetes中，并管理它们；然后我们有了第三个概念，即存储库。”</a></p>
<p class="translated">他解释了Helm如何充当一种配置客户端，它的对应部分(自然称为Tiller)管理来自服务器端pod的交互。当Helm向Tiller展示要启动的应用程序清单时，Tiller会有效地绘制路线，评估清单<em>图表</em>(如前所述)并将其应用于当前系统配置。该产品是一套最新的部署说明，然后可以上传给Kubernetes。</p>
<p class="translated">Butcher告诉社区:“图表就像一捆预先编制好的Kubernetes资源文件和清单，有模板支持之类的东西。”“我们想做一些东西，让在Kubernetes上安装新东西像说的那样容易，比如<strong> apt-get install nginx </strong>或<strong> yum install wordpress </strong>或类似的东西。”</p>
<p class="translated">软件包管理器的第一个版本，现在被复古地称为“Helm Classic”，强烈模仿了为MacOS 开发的软件包管理器<a href="http://brew.sh/" class="ext-link" rel="external "> Homebrew(是的，Mac用户确实使用终端提示符)。正如Butcher所演示的，Helm 2.0的命令在某种程度上是对“经典”的简化，允许使用一个命令从现有文件创建图表，使用一个命令围绕该图表构建一个tarball包以供分发。</a></p>
<p class="translated">新的包管理器消除了其前身对GitHub作为共享图表的存储库的一些依赖，转而更普遍地接受任何可通过HTTP导航的文件系统。Butcher说，Helm的新存储系统使图表的共享有了范围，因此一些图表可以被指定为适用于整个组织，而另一些图表则只能由指定的个人使用。</p>
<p class="translated">据<a href="https://deis.com/blog/2016/helm-is-now-stable/" class="ext-link" rel="external ">其公司博客</a>称，Deis管理着两个官方的Helm库:<strong> stable </strong>，其中包含针对Jenkins和MariaDB等广泛使用的应用程序的久经考验的配置；以及<strong>孵化器</strong>，其特点是掌舵团队想要推广的图表，但其结果不能在所有情况下都得到保证。</p>
<p class="translated">在五个月前的演示中，Butcher注意到还有一个主要的特性需要实现——回滚pod删除的方法。按照计划，Tiller将保留从集群中移除的pod的状态信息。通过这种方式，一个逃生舱有一个很窄的时间窗可以复活，尤其是在意外移除的情况下。但是要指定哪个pod需要被取消删除，必须存在其状态的一些记录，如果pod被删除，就不一定是这种情况——这导致了Butcher和他的同事当时面临的相反的鸡和蛋的难题。周四发布的消息表明，他们已经找到了解决方案。</p>
<p class="translated">在周四的一篇博客文章中，Butcher称赞谷歌、应用部署平台Bitnami和面向Kubernetes的咨询公司skip box在Helm 2.0项目上的合作。“其结果，”他写道，“是一种工具，它不仅使团队合作成为一种核心价值，而且也是一种旨在满足Kubernetes用户不断增长的社区需求的工具，这些用户正在安装复杂的应用程序。”</p>
<p class="translated"><br/> <span class="media-direct-link"> <a href="https://thenewstack.simplecast.com/episodes/intels-jonathan-donaldson-discusses-kubernetes" class="ext-link" rel="external ">英特尔的乔纳森·唐纳森讨论Kubernetes </a> </span></p>

<p class="attribution translated">Bitnami是新堆栈的赞助商。</p>
<p class="attribution translated">专题图片:电影海报来自《谋杀之路》系列电影之一<a href="http://www.matthelmbooks.com/" class="ext-link" rel="external ">马特·赫尔姆</a>的冒险故事。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>