# 谷歌的安卓通知如何给“银河竞赛”带来动荡

> 原文：<https://thenewstack.io/android-notifications-brought-turbulence-race-galaxy/>

在软件开发中，最终总是一些小事情会困扰你。你可以一次编写几个月的代码，没有什么大的麻烦，但突然之间，一个看似简单的新特性的新需求可能会完全破坏所有前进的动力。称之为未知的未知。

对于杰夫·盖茨来说，技术上的挑战是应该避免的，因为这样更有趣。字面上的乐趣。盖茨是一名游戏开发者，也是 [Temple Gates Games](https://www.templegatesgames.com/) 的联合创始人，是该公司的首席程序员。他提倡一种同样适用于商业开发的游戏开发方法。

“我在[暴雪](https://us.blizzard.com/en-us/)做过[暗黑](https://en.wikipedia.org/wiki/Diablo_(video_game))，在[孢子](https://en.wikipedia.org/wiki/Spore_(2008_video_game))做过 [Maxis](https://en.wikipedia.org/wiki/Maxis) 。盖茨暗示新技术通常会分散注意力。他说这是关于，“专注于游戏和你真正需要它来完成的事情。对于我们的游戏《银河竞赛》(Race for the Galaxy[)来说，我们没有使用太多的技术，因为我们忙于制作游戏，而不是为了娱乐而使用技术](https://riograndegames.com/games.html?id=240)

他说，对于其他开发者来说，“我认为这是我的建议:解决你的游戏或业务问题。找到一种你只需要完成工作的技术是可能的，但很少，我认为人们有时会迷失其中。这就是我们在游戏产业领域所做的。有很多咒语，比如写游戏，而不是引擎。这绝对是我内心深处的一股力量。制造游戏引擎要比制造游戏并对问题给出正确答案容易得多，”盖茨说。

五月初，盖茨和他的公司发布了“银河竞赛”，一款经典纸牌游戏的手机版。与《魔法:聚会》或《炉石传说》不同，《银河竞赛》是关于一套单一的核心卡片以及利用它们来开拓已知宇宙的策略，而不是简单地购买更多卡片来扩大你的个人收藏。

作为一款卡牌游戏，拥有良好的人工智能和在线多人支持非常重要。为了实现这一点，盖茨在微软 Azure 中使用了一个非常简单的服务器端虚拟机，他说这一决定主要是因为该团队有大量免费的 Azure 积分。

尽管使用了云技术并向 iOS 和 Android 分发，但项目的真正问题出现在发货前两周，当时 Android 构建系统需要完全重新设计。为什么要在发布前两周重新设计和实现你的构建？“这不完全是计划，”盖茨说。

就在发布之前，该团队决定实现通知，以便玩家可以在在线游戏时被提醒轮到他们了。然而，这个简单的要求变成了盖茨的一个大麻烦。

盖茨和他的团队最初编写内部游戏引擎的时候，[Visual Studio](https://www.visualstudio.com/)[Android](https://www.android.com/)项目还在用 [Ant](https://ant.apache.org/) 构建。根据盖茨的游戏哲学，而不是技术，构建系统仍然在 Ant 上，即使 Android 世界的其他部分转移到了 Gradle。

对盖茨来说不幸的是，在 Android 上发送通知的途径比他们开始为 Android 设计时变得更加复杂了。多年来应用程序开发人员滥用通知，再加上 [Google](https://www.google.com) 内部不断增长的[Firebase](https://firebase.google.com/)blob，共同让盖茨的日子在发货日期前变得更加艰难。

“这就像是我们测试版的最后一天，我不想仅仅为了打电话或显示通知而改变我们的整个构建系统。在花了一天时间尝试看看我是否不能使用 Gradle 后，答案是不，只是吸起来，顺其自然。在发布前两周，我们完全重写了我们的 Android 构建系统，这是一个挑战，只是为了显示一个通知，”盖茨说。

坦率地说，这是 Android 世界和其他地方的一个更大问题的典型。“就好像什么是操作系统功能，什么是库功能变得越来越不清楚了。所以这个 Firebase 的东西是这个随机公司似乎已经做的这些库，谷歌似乎在说，“我猜它现在以某种形式成为了操作系统的一部分。”很明显，Firebase 的东西在调用某个东西，这个东西在调用某个东西，这个东西在你的手机上发出通知。非常不清楚调用通知的实际函数是什么。现在我们有了这个 500 兆的图书馆，我们必须把它连接起来。它消失了，但这是你现在必须做的，在屏幕上显示通知，”盖茨说。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>