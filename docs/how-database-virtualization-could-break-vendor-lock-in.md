# 数据库虚拟化如何打破供应商锁定

> 原文：<https://thenewstack.io/how-database-virtualization-could-break-vendor-lock-in/>

[](https://www.linkedin.com/in/mikewaas/)

[Mike Waas](https://www.linkedin.com/in/mikewaas/)

[Mike Waas 是 Datometry 的创始人兼首席执行官，这是一个 SaaS 数据库虚拟化平台，使现有的应用程序能够在现代云数据管理系统上本地运行，而无需重写。他曾在 Microsoft、Amazon、EMC 和 Pivotal 担任高级工程职位，并且是 Greenplum 的 ORCA 查询优化器的架构师。他发表了 40 多篇同行评审的科学论文，拥有 20 多项专利。](https://www.linkedin.com/in/mikewaas/)

[](https://www.linkedin.com/in/mikewaas/)[](https://www.linkedin.com/in/mikewaas/)

在公共云时代，供应商锁定不应该成为过去吗？在过去的 20 年里，虚拟化已经改变了 IT 中的所有其他领域。从存储和计算到网络，虚拟化彻底改变了这个领域。然后是数据库。数据库不仅是 IT 最古老的分支之一，也是供应商锁定的最后堡垒之一。

遗留数据库供应商的控制力有多强？[Frank Slootman](https://www.linkedin.com/in/frankslootman/),[snow flake](https://www.snowflake.com/?utm_content=inline-mention)的首席执行官在 [最近的收益电话会议上承认](https://signaldomn.online/click?redirect=https%3A%2F%2Fwww.fool.com%2Fearnings%2Fcall-transcripts%2F2021%2F08%2F26%2Fsnowflake-inc-snow-q2-2022-earnings-call-transcrip%2F&dID=1636577602111&linkName=recent%20earnings%20call) ，“承担并转移工作量并不那么容易，因为这需要很多钱。(Teradata)做得很好，让这变得非常困难。”斯洛特曼肯定不是一个轻易打脆弱牌的人。

这种令人烦恼的锁定有两个原因。首先，传统系统上的工作负载要求很高，任何想要替换这些系统的人都需要有一个强有力的替代方案。另一个简单的事实是，重写应用程序以使它们与新的数据库一起工作是一项极其痛苦的工作，直到现在工具还非常不足。

然而，虚拟化的一个新领域有可能创造公平的竞争环境。通过虚拟化数据库(不是数据，也不是运行数据库的硬件)，应用程序可以在不同的数据库上运行，而无需更改其 SQL 或 API 调用。

虚拟化已经成为 IT 领域的一大平衡器。下面是它如何打破数据库的锁定。

## 如何虚拟化数据库？

数据库虚拟化是作为连接应用程序和数据库的组件实现的。实际上，它充当查询和 API 调用的管理程序。为一个数据库编写的应用程序可以在一个完全不同的数据库上本地运行**——而不必改变它的 SQL 或 API 调用。**

数据库虚拟化实时来回转换查询和数据。因为它位于数据路径中，所以它的表达能力远远高于查询的静态转换。例如，数据库虚拟化可以模拟动态概念，这些概念需要只有在运行时才能获得的知识。

有趣的是，对于数据库虚拟化可以模拟什么，并没有硬性限制。它可以模拟在新的目标数据库中不存在真正对等物的数据类型或概念。存储过程、递归视图、专有数据类型或全局临时表只是数据库虚拟化有效模拟的几个概念。

从不同的角度来看，数据库虚拟化自动化了顾问的工作。数据库虚拟化实时进行转换，而不是费力的重写，包括修改逻辑应用程序以解决实际或感知的限制。与顾问不同，数据库虚拟化可以扩展，不会疲劳，并且消除了出错的空间。

## 数据虚拟化是**而不是**数据库虚拟化

虽然数据库虚拟化的概念已经开始吸引人们的注意，并且已经有了一些产品，但是仍然有很多怀疑和困惑。公平地说，虚拟化的概念在数据库的上下文中被松散地使用。从数据虚拟化到数据库文件的抽象，虚拟化这个标签被广泛使用。

数据虚拟化的概念已经存在了几十年，可能需要清晰的界定。数据虚拟化是在所有应用程序中使用通用查询语言的思想。虽然从长远来看这似乎是有益的，但它需要重写所有应用程序来使用这种人工语言。

这并没有解决原来的问题:为了克服供应商锁定，企业必须首先克服供应商锁定？换句话说，数据虚拟化当然是令人向往的，但是它没有解决在数据库之间移动现有应用程序的实际问题。

## 何时不使用数据库虚拟化

当第一次接触数据库虚拟化时，技术专家的标准反应是“好得难以置信”然后是一连串非常具体的问题，涉及复杂的功能和边缘情况。虽然对于数据库虚拟化可以模拟什么没有理论上的限制，但在某些情况下，它可能并不适合这项工作。

毫不奇怪，当目标系统具有相同或至少相似的处理能力时，数据库虚拟化效果最佳。将 500 万条日常语句的工作负载虚拟化到一个只能勉强处理 200 万条语句的系统上是不可能的。在这种情况下，重写工作负载并为目标系统定制解决方案可能是可行的，尽管成本很高。

数据库虚拟化不适合的另一种情况是只有很少应用程序甚至只有一个应用程序的小型系统。这种情况类似于在笔记本电脑上运行 VMware。通常，这不是一个好主意。重组应用程序可能更好。不过，无论如何，供应商锁定在这种情况下不会造成重大问题。

要决定数据库虚拟化是否合适，需要向供应商咨询前期分析。一家声誉良好的供应商会给出工作负载、所用功能和整体适用性的详细分类。

## 去参加比赛

数据库虚拟化仍然是一门新学科。然而，这个概念是直截了当和直观的。它已经给整个行业带来了第一波冲击波。随着企业越来越多地将核心数据资产转移到云中，这种新的虚拟化技术肯定会变得更加突出。

企业向云的推进不仅创造了一个使数据库虚拟化具有吸引力的环境，而且很可能需要数据库虚拟化才能成功。如果没有它，通过传统方式将当前安装的数据库迁移到云将会给经济带来超过 1000 亿美元的负担。有了它，这一障碍将降低不止一个数量级。

企业数据管理有着令人兴奋的未来——供应商锁定不一定是它的一部分。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>