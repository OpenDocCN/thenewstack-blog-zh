# 使用混沌工程来加强您的事件响应

> 原文：<https://thenewstack.io/use-chaos-engineering-to-strengthen-your-incident-response/>

[](https://www.linkedin.com/in/mandiwalls/)

 [曼迪墙

曼迪是 PagerDuty 的 DevOps 拥护者。她经常在技术会议上发言，并且是 O'Reilly Media 白皮书《构建 DevOps 文化》的作者。她对新工具和工作流的出现感兴趣，这些工具和工作流使操作大型复杂计算系统的任务变得更容易实现。](https://www.linkedin.com/in/mandiwalls/) [](https://www.linkedin.com/in/mandiwalls/)

将新软件投入生产可能是一次棘手的经历。虽然我们努力使我们的非生产环境尽可能接近生产环境，但总有一两个折衷方案意味着集成环境不完全像生产环境。

我们的测试程序和其他工具有助于减少错误和问题进入面向客户的环境的可能性。我们还可以提高我们团队对生产事故的反应能力，这样当事故发生时，我们就能做好应对的准备。

我们可以将混沌工程添加到我们的工作流中，以测试关于我们的应用程序在生产中的行为的假设，并练习我们的事件响应流程。Gremlin 的 Julie Gunderson 最近和我一起参加了[page duty 的 Twitch 频道](https://twitch.tv/pagerduty)，谈论 Gremlin 与 page duty 的集成，以及您的团队如何从常规的混沌实验中受益。这段录音现在在我们的 [YouTube 频道](https://bit.ly/3lmFRFj)上，为那些不能参加我们现场直播的人们准备。

[https://www.youtube.com/embed/c-AGF16nNKI?feature=oembed](https://www.youtube.com/embed/c-AGF16nNKI?feature=oembed)

视频

混沌工程是一种在系统和应用程序中插入错误状态的方法。来自[混沌工程原理](https://principlesofchaos.org/)网站的定义是:

> “混沌工程是一门在系统上进行实验的学科，目的是建立对系统承受生产中动荡条件的能力的信心。”

—principlesofchaos.org

大规模分布式系统提出了与可伸缩性、可靠性和依赖性管理等概念相关的独特挑战，这些挑战只会随着时间的推移而增加。混沌工程作为一种实践出现在网飞，并且已经发展到许多团队可以通过商业工具如 T2 的 Gremlin T3 来使用的地步。

当一个团队在实践混沌工程时，他们正在推动系统的边界。混乱测试可能包括降低后端依赖或 DNS 等中央服务的请求速度。一般来说，它们可能会增加网络延迟，或者使组件不可用，从而使团队无法了解系统将会做什么。

如果应用程序的后端依赖变得不稳定或完全不可用，应用程序应该怎么办？您的团队可以使用混沌实验的结果来确定在某些事件中是否应该关闭某个功能，或者是否可以进行改进以增加其弹性。了解应用程序的行为方式可以让您在做出这些决定时有一个起点。

现在有许多学习混沌工程的好资源。混沌工程的[原则](https://principlesofchaos.org/)网站是一个很好的起点，Gremlin 网站也是。你也可以看看[混沌猴](https://netflix.github.io/chaosmonkey/)，这是网飞项目的开始。

## 混沌工程在事件响应中能起到什么作用？

擅长事件应对最困难的事情之一是，要练习，你需要有很多事件。

谁也不想发生太多意外。

所以团队引入了练习环节，也许称之为[比赛日](https://aws.amazon.com/gameday/)或[失败星期五](https://www.pagerduty.com/blog/failure-fridays-four-years/)。目标是在您的工作流中创造一些空间，以练习当生产基础设施发生问题时团队将做什么。这也是一个练习各种错误的机会，您知道这些错误是可能发生的，但希望永远不会发生，比如整个数据中心的丢失，或者更常见但也不太可能在测试中发生的错误，比如数据存储中的磁盘丢失。

通过将混沌工程添加到您的事件响应实践中，您不必等到所有奇怪的事情实际发生时才知道系统将做什么以及您应该如何响应。您可以使用混沌工程工具来模拟这些故障。

建立一个更好的响应意味着降低您的[平均解决时间](https://support.pagerduty.com/docs/glossary#mttr) (MTTR)，提高您的服务可用性并保持您的 [SLOs](https://www.pagerduty.com/resources/learn/what-is-slo-sla-sli/) 。计划一个练习，让团队将混乱实验注入到他们的应用程序中，然后对事件做出响应，这有助于确保团队知道升级策略在真实事件中如何工作，如何对通知做出响应，在哪里可以找到关于系统运行状况的信息，然后如何进行分类和解决。他们还受益于实践您的组织在事故期间使用的通信协议，包括遵从事故指挥官或与客户支持团队联络。

如果一个混沌实验揭示了一个应用程序特别容易受到某些类型的问题的影响，例如，缓慢的后端、数据存储的网络延迟和增加的请求，那么未来的工程工作可以优先考虑在这些弱点变得麻烦之前支持它们。

## 改善你的警觉和睡眠

将混沌工程与事件响应工作流相结合，有助于团队建立对其流程的信心，并知道当实际事件发生时，他们将知道该做什么。这些方法有助于减少大规模分布式系统带来的不确定性和复杂性，照亮了复杂互联系统之间的黑暗之处。

混沌工程还让您的团队有机会确保监控和警报正常工作，并提供有效的信息。在混沌实验中，你的团队可能会发现一些盲点，其中关键指标没有被现有的监视器覆盖。您也可能会发现相反的情况，配置的警报是一种转移注意力的方法，并不能真正表明您正在查看的问题。

清除警报也意味着降低某些警报的紧急程度。随着您的团队将混沌工程作为一项常规工作来实践，并且从发现中推出了改进，您应该重新考虑警报的阈值，并确保它们仍然有效和必要。提高应用程序对缓慢的后端或其他组件的容忍度，意味着当这些组件的行为不符合预期时，向您的团队发出的警报会更少。

不要因为你事先可能知道的事情而在半夜叫醒你的团队。将这种干扰留给您环境中未知的未知事物吧。

## 了解更多信息

自混沌猴以来，混沌工程已经走过了漫长的道路。这些资源可以帮助您开始:

PagerDuty 也有一些资源帮助你开始。提高您的可靠性，并与您的团队一起练习您的[事件响应](https://response.pagerduty.com/)。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>