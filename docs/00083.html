<html>
<head>
<title>Microsegmentation: How VMware Addresses the Container Security Issue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微分段:VMware如何解决容器安全问题</h1>
<blockquote>原文：<a href="https://thenewstack.io/microsegmentation-how-vmware-addresses-the-container-security-issue/#0001-01-01">https://thenewstack.io/microsegmentation-how-vmware-addresses-the-container-security-issue/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">很明显，来自<a href="https://clusterhq.com/assets/pdfs/state-of-container-usage-june-2015.pdf" class="ext-link" rel="external "> ClusterHQ的最新容器使用状况调查</a> [PDF]的最令人惊讶的结果是，229名IT专业受访者中有近四分之三表示，他们的数据中心正在虚拟机管理程序虚拟化环境中运行容器，也就是说，在独立虚拟化层的安全范围内运行容器环境。大约61%的受访者表示，安全性仍然是他们的数据中心在生产中采用容器的障碍，这一数字得到了支持。</p>
<p class="translated">企业还没有真正采用容器——不是他们想要的方式。他们正在虚拟环境(如VMware的vSphere)中接受测试。在接受新一轮采访时，VMware首席技术战略官Guido Appenzeller——SDN生产商Big Switch Networks 的联合创始人和<a href="https://gigaom.com/2014/10/02/big-switch-co-founder-guido-appenzeller-joins-vmware/" class="ext-link" rel="external ">前首席执行官，以及Voltage Security </a>的联合创始人和前首席技术官<a href="http://guido.appenzeller.net/wordpress/?p=178" class="ext-link" rel="external ">——表示他们这样做是因为他们担心安全性。</a></p>
<div id="attachment_447562" class="wp-caption alignright"><img aria-describedby="caption-attachment-447562" decoding="async" loading="lazy" class="wp-image-447562 size-medium" src="../Images/5846d3fdae0314c03fa8cc75ad876810.png" alt="Guido Appenzeller - VMware" data-original-src="https://thenewstack.io/wp-content/uploads/2015/06/Guido-Appenzeller-VMware-300x300.jpg"/><p id="caption-attachment-447562" class="wp-caption-text translated">吉多·阿彭策勒</p></div>
<p class="translated">“半年前，我们开始看到我们NSX客户群中的第一批客户开始使用NSX顶部的集装箱，”Appenzeller告诉我们。“按照他们目前的部署方式，他们实际上拥有Docker或Cloud Foundry之类的容器主机，并在虚拟机管理程序上的虚拟机内部运行。我第一次看到这个的时候，我说，‘很明显这些家伙做错了。毕竟，它应该是虚拟机或虚拟机管理程序。</p>
<p class="translated">“但事实证明，他们有一个很好的理由来解释为什么要这么做，”他继续说道。</p>
<blockquote><p class="translated">“基本上是安全的。他们说，‘如果我直接在我的物理服务器上运行容器主机，会产生几个问题。’"</p></blockquote>
<h2 class="translated">孤立的困境</h2>
<p class="translated">VMware的首席网络安全专家认为，一个主要问题是，不可能在容器之间实施强有力的容器隔离。他认为，由于容器是由内核有效管理的，内核级的漏洞利用有机会危及容器内运行的应用程序。</p>
<p class="translated">Appenzeller的观点得到了Red Hat安全工程师Trevor Jay的认同，他去年12月在公司博客上写道:</p>
<p class="translated">“容器都共享同一个内核。如果被包含的应用程序被特权提升漏洞劫持，所有运行的容器和主机都会受到危害。同样，两个容器不可能使用同一个内核模块的不同版本。”</p>
<p class="translated">Appenzeller说，人们可以得出这样的结论:在安全问题得到充分解决之前，虚拟化集装箱化只是一种暂时的状态。但是组织已经被训练以“攻击面”的形式考虑相对安全级别可能有成千上万种方法来寻址系统内核，毕竟，它被设计成可寻址的，因为它是操作系统。另一方面，管理程序被专门设计为不可寻址的。</p>
<p class="translated">他说，由于这个原因，已知的内核级漏洞数量至少比管理程序级漏洞数量多两个数量级。此外，假设开发人员要构建一个绑定到后端存储卷的有状态服务，并创建一个关于如何解析请求的新漏洞。这可能会让恶意参与者在应用程序内部执行任意代码。</p>
<p class="translated">换句话说，恶意行为者不需要专门设计“容器利用”来有效地生产利用容器的东西。如果有人要演示一个常见的内核漏洞——比如说，在一个公开会议上——他将演示一个容器漏洞。Appenzeller说，如果这种利用直接针对应用程序，那么老练的攻击者不仅可能而且很可能获得容器主机系统的根级权限。</p>
<p class="translated">换句话说，为了让每个人都能从字里行间体会到好处:内核漏洞就是容器漏洞。句号。</p>
<h2 class="translated">又一层抽象</h2>
<p class="translated">Appenzeller的评论实际上不是抱怨，而是支持解决方案的论点:一种新型的容器安全模型，它将引入一个新的抽象层次，并可能为监督容器管理的熟悉的管理环境铺平道路。</p>
<p class="translated">VMware将这种模式称为“微分段”，从某个方面来说，它就像一个有状态集群，用于在容器中运行有状态或无状态服务。这种划分将通过运行在(你猜对了)管理程序上的有状态防火墙来提供。正如CTSO解释的那样，防火墙管理进出网段的连接。当它看到一个有问题的连接请求时，它会将该请求转发到更高级别的管理服务器，在那里至少可以记录该请求。优选地，管理服务器可以应用条件规则来确定连接是否应该继续。</p>
<p class="translated">在最坏的情况下，容器或节点(确切的术语可能还没有确定)表现出可疑的行为，管理服务器可以简单地重新启动它。如果容器内的服务是显式无状态的，那么它们可能拥有的任何有状态连接，比如说，到外部数据卷的连接，都将由防火墙维护。因此，从受信任的映像重新启动服务应该不会造成危险，并且只引入可以忽略的延迟…至少在理论上是这样。</p>
<p class="translated">Appenzeller解释说:“我们为您提供了网络级别上正在发生的事情的完全可见性，不仅是容器主机认为应该发生的事情，而且是实际发生的事情。你所有流量的独立视角。所以如果有什么可疑的地方，你就会看到。”</p>
<p class="translated">Appenzeller告诉New Stack，一些VMware客户，包括一家主要银行，今天实际上正在试验运行微分段。</p>
<blockquote><p class="translated">“这使他们能够开发非常复杂的应用程序，否则，如果只是将它们放入普通的容器框架中，他们不会对安全级别感到满意，”他说。"下面还有一层来自NSX的额外防御."</p></blockquote>
<p class="translated">他指出，为了让银行和其他金融机构保持合规性，它们必须保持特定的安全控制。例如，执行实时交易的机构被禁止对“买入”信号和“卖出”信号使用相同的数据库；支付处理中心保持控制，禁止它们在支付交易的整个生命周期中绑定到相同的数据库。不幸的是，这些机构之间仍保留着被称为“中国墙”的东西。</p>
<p class="translated">Appenzeller认为，也许这些机构应用程序能够在实验阶段之后在容器内工作的唯一方法是继续利用NSX，但以不同的身份。微分段将简化事物的协调，使容器能够突破单个虚拟机的界限，同时仍然依赖虚拟机管理程序作为协调代理。在这种情况下，没有太多关于中间层或库伯内特的讨论。</p>
<h2 class="translated">虚拟伙伴关系</h2>
<p class="translated">然而，VMware是Docker创建libnetwork的关键合作伙伴，lib network是Docker容器的新本机连接框架。在开放容器项目中，VMware与Docker是平等的合作伙伴，libnetwork可能会为此做出贡献。libnetwork框架将启用Docker的新插件模型T1，该模型上周在DockerCon进行了演示，<a href="http://blogs.cisco.com/datacenter/docker-and-the-rise-of-microservices" class="ext-link" rel="external ">思科也于上周认可了该模型T3。</a></p>
<p class="translated">在上周的一篇公司博客文章中，VMware发言人Roger T. Fortier总结了所有这些组件之间的最佳关系:</p>
<p class="translated">“VMware NSX支持微分段。微分段支持强大的精细安全控制。Docker支持简化的微服务架构。libnetwork支持VMware NSX强大的微分段功能与Docker的微服务架构相集成。”</p>
<p class="translated">Guido Appenzeller告诉我们:“Libnetwork是一大进步，它走向了一个更丰富的网络模型，允许客户实施他们需要的连接和安全策略，以便将更复杂的应用程序移动到容器中。我认为我们对进展非常满意；也就是说，总有可以改进的地方。它看起来更像OpenStack，这是我们当然希望看到的。”</p>
<p class="translated">然而，随着OCP成为现实，思科、VMware、IBM、微软、CoreOS和Docker现在在一般“容器”的基线定义的开发中是平等的参与者。容器不再是“Docker”和“other”，我们应该习惯这一点。</p>
<p class="translated">在这个平等合作伙伴的世界中，VMware引入了一种新的方式来考虑容器在系统中的排列，这种方式显然实现了在容器扎根时让VMware参与进来的目的。VMware的业务是在系统组件之间构建抽象层，并销售连接这些层的管理控制台。</p>
<p class="translated">VMware的NSX可能会与Ubuntu的LXD竞争，后者也是从一个不那么以Docker为中心的角度设计的。如果加入这样的竞争，那么关于是systemd还是一个独立的守护进程应该初始化容器的内容的争论将变得毫无意义。事实上，容器本身可以成为更加通用的实体，Docker、CoreOS、微软或其他任何人赋予它们的差异可能会变得多余。</p>
<p class="translated">这可能会使整个容器市场更适合VMware公司。不要认为开源市场不是资本主义企业。</p>
<p class="attribution translated">思科、CoreOS、Docker、IBM和Red Hat是新堆栈的赞助商。</p>
<p class="attribution translated">专题图片:<a href="https://www.flickr.com/photos/111692634@N04/" class="ext-link" rel="external "> Perspecsys Photos </a>拍摄的:<a href="https://www.flickr.com/photos/111692634@N04/11406985424/in/photolist-inZMmu-buwS4k-bx5QaQ-cVoHYW-eaqGBK-e5Wwut-cKwP4b-anKSQ9-inZMwE-e8k4Pf-9mvmSo-aqE2zm-6Y19x9-cHQHxq-7TTf76-e2RZ14-e6TzpF-6KHmLt-daEPtd-dPd3F4-dYkGxd-hfsS1k-6fPXvQ-paVryT-9yjTfL-6o6ccS-dWrFwE-aiyMf4-LgJpn-aMH1e4-do69qz-bipm2K-b55bw-efUtQB-Xe8YN-an9vmX-dSeNmW-iTWXqp-bCGtot-eLk5x5-bw7cty-fKr3Ph-81bXun-6hTUT6-4adHGU-7G5Ats-9VR8pu-fKr2y5-nnTQJG-bEDbzT" class="ext-link" rel="external ">安全在字典</a>中，在<a href="https://creativecommons.org/licenses/by-sa/2.0/" class="ext-link" rel="external "> CC BY-SA 2.0 </a>下授权。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>