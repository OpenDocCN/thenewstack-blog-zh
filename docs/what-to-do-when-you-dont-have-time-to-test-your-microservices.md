# 当你没有时间测试你的微服务时该怎么办

> 原文：<https://thenewstack.io/what-to-do-when-you-dont-have-time-to-test-your-microservices/>

在现代过程中，我们都忙于堆积如山的罚单和需要修复的漏洞，更不用说要满足的最后期限了。我们都知道有些事情要留待以后，或者当我们有“时间”的时候。可悲的是，软件测试经常被视为这些事情中的一件——留待以后解决，而没有给予它所需要的关注。

对于 Kubernetes 和微服务架构来说尤其如此，在这些架构中，大规模实现测试会带来高度的复杂性。公司可以使用许多不同的测试工具，这取决于测试自动化方法、成熟度和对质量的敏感度。每一个测试自动化工具都以不同的方式与 CI/CD 管道集成，并满足各种需求——前端、API、负载、数据完整性、安全测试等。

当涉及到测试应用程序时，知道在哪里投入精力是最重要的。

让我们看看如何有效地利用你的宝贵时间，以及在测试时应该把精力集中在哪里。我们将讨论您应该优先考虑什么，并回顾您应该和不应该测试什么的例子。

![](img/76a03b918d7a31141a58ed71a4a1c4a1.png)

## 我如何区分测试的优先级？

这里有一个公式可以帮助你决定你的团队应该优先考虑哪些测试:

**优先级=风险 x 关键程度/复杂性**

让我们来看看每个变量。

*   **复杂性**代表测试一个组件的复杂程度。在这个上下文中，它包括使用您的 CI/CD 的测试自动化部分，以及使用您可用的测试工具和/或语言创建测试是多么复杂。
*   **关键程度**与您系统中运行不正常的问题对您业务的影响有关。
*   **风险**是某个组件出现 bug 或事故的可能性。您认为该组件是健壮的，还是一个容易停止工作的脆弱系统？

在产品的早期阶段优先测试是非常重要的，因为开发速度和质量对你的成功至关重要。当您完成创建 Kubernetes 集群以部署应用程序并设置 CI/CD 管道的第一步时，制定一个测试应用程序的计划是非常重要的。这可能是一个很好的练习，和你的团队一起，列出你应该测试的东西的清单，并使用这个公式进行优先排序。你可以用 1 到 10 来衡量每一个变量。

## 你不应该测试的东西

这似乎是显而易见的，但我见过开发人员将精力投入到不太可能发生的边缘情况中。它们对产品的影响微乎其微，然而人们却花了大量的时间为它们创建测试。或者，测试人员为很少改变或者对业务影响很小的组件创建测试怎么样，特别是当他们需要大量的时间来实现的时候。

旁注:鼓励你的业务人员、开发人员和测试人员彼此多交流。

## 你应该测试的东西

对于任何产品，我相信你的产品经理或项目负责人已经了解了 80%的用户将会经历的用户之旅。这包括所谓的“幸福之路”。试着理解这条路径是什么，因为那里的错误将对你的产品的成功产生最大的影响。尝试理解用户在使用最常用的功能时遇到错误的可能性有多大。

比如你知道你的注册用户 100%都经过了用户注册流程。因此，你必须确定它在工作。找出你的用户在使用你的产品时将要做的最重要的动作。你的用户很少会做什么？避免从这些开始。

> 某个组件中出现错误的可能性与该组件经历的变更数量直接相关。

这就是为什么您应该测试经常变化的组件，而不是那些更静态的组件。

前端是你的软件中最重要的部分吗？你是在迭代它来弄清楚什么是最好的用户体验吗？你可以考虑使用 [Cypress](https://www.cypress.io/) 来测试你的前端。也许你的应用程序是非常 API 重的，你正在使用[邮差](https://www.postman.com/)或 [SoapUI](https://www.soapui.org/) 。如果延迟和性能对您的业务至关重要，使用 [k6](https://k6.io/) 或 [JMeter](https://jmeter.apache.org/) 可能是创建一些测试的一种方式。

下一个大问题将是如何在 Kubernetes 或特定集群的环境中协调和整合所有这些内容——开发、准备、生产等。这就是 [Testkube](http://testkube.io) 在您的云原生软件或 GitOps 生命周期中编排和执行各种测试创作工具的地方。

### 分享你的想法

在构建 Testkube 的过程中，我花了一年时间与数十名测试人员和 QA 工程师交谈，这是一个测试框架，允许您在 Kubernetes 中编排和执行任何类型的测试。它允许你使用任何测试工具，如 Cypress，Postman，K6，JMeter 等。

我在这里写的见解是我作为软件工程师和测试框架产品负责人的经验中收集的反思和想法的集合。我很想听听你对此的想法。如果您在 Kubernetes 中运行任何类型的应用程序，您应该尝试一下 [Testkube](http://testkube.io) 。点击这里查看我们的现场[演示](https://demo.testkube.io/)。

欢迎联系，或者在 Testkube 的 [Discord 服务器](https://discord.gg/hfq44wtR6Q)说“你好”，或者直接发邮件给我 [bruno@kubeshop.io](mailto:bruno@kubeshop.io) 。我期待收到你的来信！

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>