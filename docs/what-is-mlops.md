# 什么是 MLOps？

> 原文：<https://thenewstack.io/what-is-mlops/>

机器学习(ML)正在成为任何以技术为中心的公司越来越重要的一部分。软件使许多新事物成为可能，机器学习正把我们带到新的前沿。根据 Algorithmia 最近的一项调查，76%的企业将在 2021 年的 IT 预算中优先考虑机器学习。

 [西尔万·卡拉什

Sylvain Kalache 是一名企业家和软件工程师，目前在他联合创办的霍尔伯顿学校工作。](https://www.sylvainkalache.com/) 

有趣的部分，训练 ML 模型，经常被讨论，但是很少被分享关于之前和之后做了什么。部分步骤包括:收集和存储数据、清理、管理和标记数据。使用这些数据:训练模型，评估和验证它。最后，服务于模型并对其进行监控。

这些步骤由具有不同技能和背景的不同团队和专业人员使用不同的工具来处理。沟通不畅是可能的，此外，保持质量和可复制性，虽然关键，可能是棘手的。虽然 ML 领域的发展相对较晚，但它所面临的挑战却并非如此。

## 有什么解决办法？

软件开发也有类似的问题，在过去的十年中，IT 组织一直使用 DevOps 方法作为解决方案。这个术语来自于开发和操作，这是软件部门中的两个传统团队，他们经常很难合作。DevOps 定义了一套过程，使这些团队能够尽快高效地编写、部署和运行高质量的软件。

同样的实践，MLOps(机器学习操作)，正在获得灵感，并逐渐成为行业标准。MLOps 是一套实践、流程和工具，旨在改善管理 ML 生命周期的团队之间的协作。与汽车装配线类似，制造汽车的步骤也有明确的定义。有多个团队参与进来，带着他们的工具和技能，一起朝着同一个目标努力:在最少的时间内制造出质量最好的汽车。

MLOps 管道(一种“机器学习装配线”)的目的是定义一种可靠的、可重复的管道，以大规模创建、管理和服务机器学习模型。

## 与 DevOps 相比如何？

MLOps 和 DevOps 有许多相似之处，有两个主要组成部分:流程和专业人员。

至于 DevOps，MLOps 将利用持续集成(CI)和持续部署(CD)，前者确保每次对代码进行更改时代码仍然有效，后者确保代码可以在生产中部署和运行。ML 系统需要第三个概念，CT(连续测试)——确保 ML 模型按预期运行的过程。

版本化是软件管道中的一个关键元素，它被扩展到 ML 流程的更多元素:数据、元数据、超参数、代码和输出都需要版本化。我们将在后面更广泛地讨论这一点。

根据类似的推理，MLOps 文化将包括开发人员(编写代码的人)和系统管理人员(确保代码在生产中正常运行的人)。ML 系统正在带来第三种类型:机器学习工程师和数据科学家。在某种程度上，他们是开发人员或系统管理员的消费者。

## MLOps 运输管道

说到使用 MLOps 运输管道，有三种主要方法。最简单的方法是使用端到端的服务，如亚马逊、Azure、沃森或谷歌提供的服务。

中间的解决方案是通过组装几个现有的工具来构建一个管道。任务协调和工作流程工具将是其核心组成部分；气流、Luigi 和 Kubeflow 是最可靠的选择。

最后，大型组织一般会选择最后一种选择:从头构建一个。例子包括[优步的米开朗基罗](https://eng.uber.com/michelangelo-machine-learning-platform/)， [Airbnb 的大头](https://www.slideshare.net/databricks/bighead-airbnbs-endtoend-machine-learning-platform-with-krishna-puttaswamy-and-andrew-hoh)，[苹果的奥弗顿](https://venturebeat.com/2019/09/13/apple-details-overton-ai-development-tool-whose-models-have-processed-billions-of-queries/)，或者[脸书的 FBLearner Flow](https://venturebeat.com/2016/05/09/facebook-details-its-company-wide-machine-learning-platform-fblearner-flow/) 。

无论选择哪条路线，MLOps 运输管道都应能够管理 ML 流程生命周期的三个主要部分:

*   数据提取、准备和存储。
*   模型训练和评估。
*   模型部署和监控。

### 数据提取、准备和存储

数据是新的石油，它无疑是任何成功的 ML 系统的关键部分。获取数据可以通过多种方式实现:购买或利用现有的开源数据集，抓取数据(Scrapy，Scrapingbee，Octoparse)，生成合成数据(Scikit-learn，SymPy，OneView)，或扩充现有数据(Labelbox，OpenCV，NLPAug)。

> “ML 模型训练可能是一项乏味的工作，因为通常需要成百上千次的尝试才能找到正确的模型。坚实的 MLOps 管道将允许团队优雅地实现这种规模的迭代。”——加布里埃拉·德凯罗斯，IBM 公司。

在模型可以消费数据之前，需要做好准备。原始数据可能包含错误、损坏或重复。修复包括纠正、删除或调整数据。清理过程还用于优化数据，从而加快处理速度，包括数据的离散化、一键编码或功率转换。大多数时候，原始数据无法利用，需要用元数据进行适当的扩充。

“对于监督学习模型，训练数据需要被注释，”首席执行官、 [Labelbox](https://labelbox.com/) 的联合创始人[马努·夏尔马](https://www.linkedin.com/in/manuaero/)说，这是一家位于硅谷的初创公司，提供[训练数据平台](https://venturebeat.com/2021/01/30/ai-needs-an-open-labeling-platform/)。“标签数据是您最重要的知识产权，因此我们认为您应该控制其创建。”

最后，机器学习往往需要大量数据；因此，存储策略需要深思熟虑。一些项目必须处理数 Pb 的项目，其中数据不断更新和版本化。工具的选择将归结为可伸缩性、可访问性、延迟、吞吐量，当然还有成本。根据需要，数据可以在不同的存储器之间流动。例如，用于数据湖的工具、用于提供 ML 模型的工具和用于监控模型的工具应该是不同的。

### 模型训练和评估

所有这些数据现在都可以用于输入和训练模型，这些模型有多种形状和大小，例如线性和非线性模型、逻辑模型、无监督模型、时间序列模型。这里的目标是调整与训练相关的参数，以得出最能解决问题的模型。

评估部分是用一组不用于训练的数据来测试模型。为特定问题训练正确的模型可能需要很多迭代；训练数百或数千人并不罕见。在培训和评估部分之间有一个反馈循环。

这就是版本控制变得非常有价值的地方。每一个模型训练，每一个移动的元素都必须被记录:包括使用了什么数据源和数据的哪个版本，使用了什么硬件来处理作业，以及设置了什么超参数。模型表现最好的条件将被用于训练下一代模型，以此类推，直到训练出足够好的模型。

IBM[的开源、数据和人工智能技术项目总监 Gabriela de Queiroz](https://www.ibm.com) 说:“人工智能模型训练可能是一项乏味的工作，因为通常需要成百上千次的尝试才能得到正确的结果。”。"一个可靠的 MLOps 管道将允许团队优雅地实现这种规模的迭代."

### 模型部署和监控

一旦选择了最佳模型，就需要为其预期用途进行部署。这里有无数的场景，包括部署模型以作为后端作业处理数据，将其烘焙到自动驾驶汽车的固件中，或者推送到人脸过滤器应用程序中。在任何情况下，流程都需要适应特定的工具、语言和运输需求。

MLOps 生命周期的最后一部分，但不是最不重要的，是确保模型保持良好的性能。不幸的是，某一天有效的模式可能第二天就无效了。例如，预测股票市场的模型可能会过时，因为其他参与者发现了相同的策略。

对于自动驾驶汽车来说，路况可能已经发生了变化，雪可能会使风景看起来完全不同，模型需要适应。这就是为什么在生产中监控模型的活动，并确保在生命周期的培训部分的反馈循环中再次使用这一点，以确保模型行为正常。

## 结论

根据需要，每个公司、每个产品和使用情形都需要不同的 MLOps 生命周期。机器学习过程的自动化不仅可以建立信任、可靠性和迭代速度，还可以让组织专注于解决更复杂的问题。

实施 MLOps 管道的公司将能够得出一致的结果。考虑到公司已经[失败了近三分之一的 ML 项目](https://www.idc.com/getdoc.jsp?containerId=prUS46534820)，不这么做的人会在冗长复杂的数据中浪费他们的时间和资源。Labelbox 的 Manu Sharma 在他的[哈佛商业评论文章](https://hbr.org/2020/03/navigating-the-new-landscape-of-ai-platforms)中指出，“团队花在训练和迭代机器学习模型上的时间不到四分之一”，而是“花更多的时间来构建和维护人工智能系统的工具。”一个 MLOps 管道可以避免这种情况，最棒的是，这些管道就像一个乐高，它们可以随时改进，可以添加更多的砖块；天空才是极限！

照片由劳拉 Musikanski 从 Pexels。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>