<html>
<head>
<title>How Eldarion Helped Bring Scalable Python, Django to Gondor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Eldarion如何将可扩展Python、Django引入刚铎</h1>
<blockquote>原文：<a href="https://thenewstack.io/gondor-delivers-better-system-monitoring-kubernetes/#0001-01-01">https://thenewstack.io/gondor-delivers-better-system-monitoring-kubernetes/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">当平台即服务提供商<a href="https://gondor.io" class="ext-link" rel="external "> Gondor </a>(不要与《指环王》虚构的<a href="http://lotr.wikia.com/wiki/Gondor" class="ext-link" rel="external ">王国</a>同名)希望让其Python和<a href="https://www.djangoproject.com/" class="ext-link" rel="external "> Django </a>服务更具可扩展性时，它指望开源的Kubernetes编排引擎来完成这项工作。</p>
<p class="translated">而且，鉴于这种新的基于微服务的架构将有许多容器随着客户启动和关闭工作负载而出现和消失，Gondor与咨询公司<a href="http://eldarion.com/" class="ext-link" rel="external "> Eldarion </a>(不要与阿尔温和阿拉贡的<a href="http://lotr.wikia.com/wiki/Eldarion" class="ext-link" rel="external ">儿子</a>混淆，阿拉贡是一个虚构人物，也居住在LotR)签约建立一套监控工具。</p>
<p class="translated">Eldarion从帮助客户了解他们的堆栈随时间推移发生了什么的角度来进行监控。无论这意味着收集系统性能、容量或调试方面的指标，Gondor的监控系统都能让客户更好地分析可能出现的系统问题。</p>
<h2 class="translated">多层次的监控</h2>
<p class="translated">Eldarion如何进行监控是一个独特的分层视角，展示了自2015年7月迁移到该平台以来，它如何充分利用Google Kubernetes和CoreOS的力量。</p>
<p class="translated">刚铎的首席建筑师兼管家布莱恩·罗斯纳(Brian Rosner)指出，“监控发生在许多不同的层面。因此，有集群、系统和容器指标。容器指标在很大程度上可以被视为应用指标，因为不是应用指标的容器和系统指标之间的界限非常模糊。”</p>
<div id="attachment_1112313" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-1112313" decoding="async" loading="lazy" class="size-full wp-image-1112313" src="../Images/f1bfba251f151133b52956d8f49b2f17.png" alt="K8s Infrastructure on CoreOS" data-original-src="https://thenewstack.io/wp-content/uploads/2016/03/k8s-machine.png"/><p id="caption-attachment-1112313" class="wp-caption-text translated">CoreOS上的K8s基础设施</p></div>
<p class="translated">在收集这些指标时，Eldarion使用报告的信息来帮助理解刚铎为什么以及何时需要扩展。</p>
<p class="translated">Rosner指出，Gondor的开发人员关注包括CPU、磁盘I/O、网络I/O和RAM在内的系统指标，以更好地了解其节点在压力下的表现。在此基础上，其团队可以更好地了解Gondor服务规模类别以及它们在各种节点类型中的表现。Rosner进一步解释说，Gondor的开发团队还关注“集群级指标:每个节点的容器、调度和容器创建速率，以了解我们何时需要扩大或缩小规模。”</p>
<p class="translated">为什么要大费周章地为Gondor分解每个节点的性能指标呢？对Gondor来说，答案很简单:为客户提供更好的服务。虽然Kubernetes和CoreOS为其团队提供了很多灵活性和功能，但Rosner说，“了解集群如何随着时间的推移而表现仍然至关重要”。</p>
<p class="translated">过渡到Kubernetes使Gondor能够让客户更加灵活地扩展其基础设施，同时还允许Gondor客户选择在私有云上运行客户端。监控Kubernetes集群变得更加简单，这不仅是因为它能够利用诸如Mesos之类的调度程序，还因为Kubernetes本身的网络结构。</p>
<h2 class="translated">刚铎的未来</h2>
<p class="translated">自从在Kubernetes上重建了Gondor之后，Eldarion的团队已经向社区发布了两个开源项目，还会有更多。<a href="https://github.com/eldarion-gondor/k8s-http-router" class="ext-link" rel="external "> k8s-http-router </a>顾名思义，是一个http路由器，它使用HTTP主机头将HTTP请求路由到Kubernetes服务。<a href="https://github.com/eldarion-gondor/piper" class="ext-link" rel="external "> Piper </a>是一个帮助在本地运行进程的库，但实际上，它是通过使用<a href="http://www.websocket.org/" class="ext-link" rel="external "> WebSockets </a>的远程连接来运行的。虽然这两种服务仍在开发中，但Gondor希望为Kubernetes社区提供更多的开源项目。</p>
<div id="attachment_1112314" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-1112314" decoding="async" loading="lazy" class="wp-image-1112314 size-full" src="../Images/23367595d3d1ead6bb296a71c40120a7.png" alt="Gondor: Scheduled Tasks Run like Cron, Original Dashboard" data-original-src="https://thenewstack.io/wp-content/uploads/2016/03/Gondor__primary_on_thoughtstreams-2_1.png"/><p id="caption-attachment-1112314" class="wp-caption-text translated">Gondor:计划任务像Cron一样运行，原始仪表板</p></div>
<p class="translated">刚铎等级体系由站点、实例和服务组成。“站点有实例，而实例有服务。实例为您的问答过程提供了一个抽象层次。您可以分别运行生产、试运行和开发实例，并且可以轻松地在它们之间移动代码和数据，”Rosner说。Rosner解释说，Gondor服务由单独的web或工作进程组成，如PostgreSQL数据库或Redis缓存。</p>
<div id="attachment_1112315" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-1112315" decoding="async" loading="lazy" class="wp-image-1112315 size-full" src="../Images/d5f595159101293c6072c91152e1cb04.png" alt="Gondor: Primary Deployments, Original Dashboard" data-original-src="https://thenewstack.io/wp-content/uploads/2016/03/Screenshot_2014-01-28_09.01.59.png"/><p id="caption-attachment-1112315" class="wp-caption-text translated">刚铎:主要部署，原始仪表板</p></div>
<p class="translated">刚开始使用Gondor的开发人员首先会注意到，它的应用程序提供了一个Procfile，告诉Gondor为给定的服务运行什么。其余的配置相当简单，通过gondor.yml文件及其API进行处理，通过CLI客户端进行交互。Rosner指出，Gondor负责剩下的工作，允许开发人员更快地开始部署他们的软件。</p>
<p class="translated">如果你有兴趣亲自体验一下Gondor的新Kubernetes支持的解决方案，请在这里注册它的私人测试版<a href="https://next.gondor.io/" class="ext-link" rel="external "/>。</p>
<p class="attribution translated">CoreOS是新堆栈的赞助商。</p>
<p class="attribution translated">特征图像<a href="http://www.cloudclipart.com/clipart/other-clipart/escudo-gondor-detail" class="ext-link" rel="external ">通过</a>云剪贴画；通过<a href="https://coreos.com/" class="ext-link" rel="external "> CoreOS </a>和<a href="https://gondor.io" class="ext-link" rel="external "> Gondor </a>嵌入图像。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>
</div>
</div>    
</body>
</html>