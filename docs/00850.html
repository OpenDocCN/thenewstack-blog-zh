<html>
<head>
<title>Strange Brew: How the Web's 418 Error Code Became Steeped in Controversy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奇怪的酿造:网络418错误代码如何陷入争议</h1>
<blockquote>原文：<a href="https://thenewstack.io/tempest-teapot-error-compleat-history-418-return-code/#0001-01-01">https://thenewstack.io/tempest-teapot-error-compleat-history-418-return-code/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">这个月，一个1998年的冷笑话演变成了一场小争论。这个问题很快得到了解决，但这一事件让我们有趣地一瞥了极客们的共享文化——以及保持这一切运行的经常被忽视的社区。</p>
<p class="translated">这也给<a href="https://www.ietf.org/rfc/rfc2324.txt" class="ext-link" rel="external ">带来了新一轮的关注，一个很棒的愚人节玩笑</a>。</p>
<p class="translated"><img decoding="async" loading="lazy" class="alignright wp-image-2953223 size-thumbnail" src="../Images/7b5a27365c53565384538d45aaad08f9.png" alt="" data-id="2953223" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/08/56c3b8da-larry-masinters-twitter-pic-larry_400x400.gif-150x150.png"/></p>
<p class="translated">故事开始于1998年，在施乐位于帕洛阿尔托的著名的PARC研究中心，拉里·马辛特的职责包括制定网络和互联网标准。(两年后，他加入了Adobe，并一直在那里工作——仍然作为公司标准组的首席科学家继续他的标准工作)。4月1日，Masinter公布了——利用其他人的贡献——他后来称之为“对许多糟糕的API设计的讽刺”，其中包括一个模拟HTTP状态代码。</p>
<p class="translated">每次浏览器调用服务器时，都会返回一个三位数的状态代码。当客户端请求由于某种原因没有被满足时，大多数错误代码(属于HTTP状态代码的4xx区域)都是干巴巴的:“414: URI太长”或“415:不支持的媒体类型”错误代码418被简单地列为“我是茶壶”</p>
<p class="translated">Masinter还说协议提案“有一个严肃的目的——它指出了HTTP被不恰当扩展的许多方式。”</p>
<p class="translated">马辛特半开玩笑地写道，“对于一个专门为咖啡酿造而设计的协议，有一个强烈的、黑暗的、丰富的需求。”在官方的RFC 2324 中，他提议我们的超文本传输协议，更好的说法是HTTP，现在应该加入HTCPC——超文本咖啡壶控制协议，“用于控制、监控和诊断咖啡壶。”</p>
<p class="translated">"该协议的未来版本可能包括对浓缩咖啡机和类似设备的扩展."</p>
<p class="translated">这种幽默逐渐从技术细节的迷雾中显露出来。虽然web服务器识别以<tt>http:</tt>开头的地址，但是根据Masinter的提议，适当的服务器现在也将开始识别“<tt>coffee:." </tt>”。该协议还确定了一些重要的安全考虑。(“任何挡在我和我的早晨咖啡之间的人都应该是没有安全感的。”)，并对“拒绝咖啡服务”攻击的可能性发出了可怕的警告。</p>
<h2 class="translated">1998年的迷因</h2>
<p class="translated">在第2.3.2节中，一个简单的笑话指定了一个很快成为著名的返回代码。</p>
<p class="translated"><a href="https://httpstatuses.com/418" class="ext-link" rel="external "><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-2937121" src="../Images/686fc2a101da496003cfd2b5123840a9.png" alt="Teapot error screenshot" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/08/87e9eecd-teapot-error-screenshot.png"/>T2】</a></p>
<p> </p>
<p class="translated">“IETF每年4月1日也会定期发布幽默的规范(作为‘信息’文档)，也许是为了表明‘并非所有的RFC都是标准’，但也是为了给技术辩论提供幽默素材，”Masinter写道，解释了<a href="https://masinter.blogspot.com/2011/12/http-status-cat-418-i-teapot.html" class="ext-link" rel="external ">消息</a>的完整背景故事。“HTCPC的目标是我们在HTTP工作组(我曾担任主席)中看到的对HTTP进行扩展的建议浪潮，以支持在我看来不恰当的应用程序。</p>
<p class="translated">"我在RFC2324中尽可能多地误用了HTTP可扩展性点."</p>
<p class="translated">然而，马辛特也承认，这种代码可能会带来问题。“代码、值和标识符注册管理机构面临的问题之一是如何处理不‘严重’的提交。418应该在HTTP状态码的IANA注册表中吗？it(coffee:12种语言)中的众多(并非实际有效的)URI计划是否应该列为注册URI计划？”</p>
<p class="translated">随着时间的推移，这个精致的模仿作品悄悄地吸引了一批地下追随者，对错误消息的赞美开始出现在现实世界的编程语言和平台中。</p>
<p class="translated">文档承认这是一个笑话代码，不应该在服务器软件中实现，尽管它已经作为一种隐藏的“复活节彩蛋”得到了多种语言和平台的支持。418“我是茶壶”代码在Node.js平台的代码中实现，也(以各种形式)出现在Python requests、Google的Go编程语言和ASP.NET中。维基百科<a href="https://en.wikipedia.org/wiki/Hyper_Text_Coffee_Pot_Control_Protocol" class="ext-link" rel="external ">指出</a>Emacs文本编辑器也实现了该协议——并且在Mozilla.org，“存在大量<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=46647" class="ext-link" rel="external ">错误报告</a>抱怨Mozilla缺乏对该协议的支持。”</p>
<p class="translated">谷歌甚至在Google.com/teapot.有自己版本的错误</p>
<div id="attachment_2937118" class="wp-caption aligncenter"><a href="https://www.google.com/teapot" class="ext-link" rel="external "><img aria-describedby="caption-attachment-2937118" decoding="async" loading="lazy" class="size-full wp-image-2937118" src="../Images/9bdf1702b74b207ee286a6286f9fead5.png" alt="Google version of the 418 error I'm a teapot" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2017/08/5960ab18-google-version-of-the-418-error-im-a-teapot.png"/></a><p id="caption-attachment-2937118" class="wp-caption-text translated">点击它使它倾倒！</p></div>
<p class="translated">随着时间的推移，愚蠢的“我是茶壶”错误的新化身偶尔会起到一些有用的作用——至少，如果你相信Reddit上的<a href="https://www.reddit.com/r/webdev/comments/6t4lrm/we_did_it_reddit_http_error_code_418_im_a_teapot/dli3109/" class="ext-link" rel="external ">报道</a>的话。“我见过DreamHost <a href="http://duncanlock.net/blog/2016/03/22/finally-figured-out-my-mysterious-418unused-http-status-code-dreamhost/" class="ext-link" rel="external ">抛出418个错误</a>来回应暴力登录尝试，可能是为了迷惑黑客什么的……”类似的回应显然出现在至少一个<a href="https://wordpress.stackexchange.com/questions/103089/why-better-wp-security-plugin-returns-418-im-a-teapot-error" class="ext-link" rel="external "> WordPress插件</a>中。</p>
<p class="translated">2015年，现在是IETF首席科学家的Masinter出现在Twitter上的一个帖子中，提醒大家，是的，这是讽刺。</p>

<p/>
<p> </p>
<h2 class="translated">以后就没这么好笑了</h2>
<p class="translated">本月早些时候，这个错误信息引起了负责监管超文本传输协议的IETF工作组主席Mark Nottingham的高度关注。他为极客社区提供的服务包括为web feeds共同创建了Atom XML语言，他还在雅虎担任首席技术专家，在Rackspace担任系统架构师，在Akamai担任研究科学家，然后在8月份接受了内容交付平台Fastly的职位。</p>
<p class="translated">8月5日，他提出从Node.js 中移除对错误消息的支持。</p>
<p class="translated">“HTCPCP是拉里在4月1日开的一个玩笑，用来说明人们是如何以各种方式滥用HTTP的。具有讽刺意味的是，它[现在]正被用来滥用HTTP本身——人们正在他们的HTTP栈中实现HTCPCP的一部分… </p>
<p class="translated">虽然我们现在有许多未注册的4xx HTTP状态代码，但HTTP的语义(希望)将会持续很长时间，所以有一天我们可能会需要这个代码点…</p>
<p class="translated">我知道这很有趣，我知道有些人只是为了好玩才实现的，但是这不应该污染核心协议；如果人们想使用非标准语义，他们可以很容易地扩展Node。"</p>
<p class="translated">他向处理<a href="https://github.com/golang/go/issues/21326#issue-248234750" class="ext-link" rel="external "> Go </a>、<a href="https://github.com/requests/requests/issues/4238#issue-249497185" class="ext-link" rel="external "> Python </a>和<a href="https://github.com/aspnet/HttpAbstractions/issues/915" class="ext-link" rel="external ">ASP.Net</a>的社区提出了类似的要求。</p>
<p class="translated">问题的另一面是一位名叫谢恩·布伦瑞克的15岁程序员。他已经完成了高中一年级的学习，并且正在创建一个网站来为代码的保存而集会。“有些人想从世界上抹去418的所有痕迹，”布伦瑞克在GitHub 上写道<a href="https://github.com/WhataShane/save418" class="ext-link" rel="external ">。“我希望能阻止这一切。”</a></p>
<p class="translated">他告诉<em>商业内幕</em>这个错误<a href="http://www.businessinsider.com/save-418-saving-the-http-teapot-error-2017-8" class="ext-link" rel="external ">让你笑逐颜开</a></p>
<p class="translated">Brunswick坚持不懈地相信心爱的错误代码可以通过一些在线活动来挽救，并且<a href="http://save418.com/" class="ext-link" rel="external ">在save418.com</a>推出了一个网站。(它的口号？“我们是茶壶。”)但是，严肃地说，他提出了保留错误消息的理由。“这提醒我们，计算机的底层流程仍然是由人类制造的。看着418消失真是太遗憾了。”</p>
<p class="translated">Shane的帖子在Reddit的编程论坛吸引了数千人的支持，当它出现在黑客新闻上<a href="https://news.ycombinator.com/item?id=14987460" class="ext-link" rel="external ">时，又有一百多人支持。</a></p>
<p class="translated">诺丁汉勇敢地在推特上承认了争议。</p>
<p class="translated">https://twitter.com/mnot/status/895757119160320002</p>
<p class="translated">诺丁汉甚至在布伦瑞克自己的Save418网站的代码上留下了和解的评论。“我在这一切中的目标是澄清代码的状态(之前有人断言没有人会关心418，这显然不是真的)。我们做得非常好……”</p>
<p class="translated">社区发表了意见，几天后诺丁汉在w3官方邮件列表上分享了一个更新。<br/> <em> <br/>所以，我戳了几个实现，看看他们是否会移除418的“茶壶”语义，有了反应(说得委婉点)。</em></p>
<p class="translated">一份新文档的草稿很快出现在IETF网站上——由诺丁汉本人撰写。</p>
<p class="translated">“在中间的几年里，这种身份码被广泛地当作‘复活节彩蛋’来使用，因此实际上被这种使用所消耗。该文档在IANA HTTP状态代码注册表中将状态改变418为‘保留’以反映这一点。”</p>
<p class="translated">很快，他和马辛特就开始讨论合作应对的最佳方式。</p>
<p class="translated">https://twitter.com/mnot/status/896030835257729024</p>
<p class="translated">https://twitter.com/mnot/status/896447440500412416</p>
<p class="translated">https://twitter.com/mnot/status/896032238755659776</p>
<p class="translated">与此同时，谢恩·布伦瑞克的网站更新为“我们拯救了418”，感谢那些对“从互联网上删除如此精彩的错误代码的后果”表示担忧的人。</p>
<p class="translated">在接下来的日子里，诺丁汉保持了他的好心情——特别是在他自己的项目之一REDbot上，该项目检查HTTP资源中的常见问题。当亚美尼亚的一名开发人员提交了一个<a href="https://github.com/mnot/redbot/pull/198" class="ext-link" rel="external "> pull请求</a>以便REDbot的代码现在也支持“HTTP错误代码418我是茶壶”时，诺丁汉<a href="https://github.com/mnot/redbot/pull/198" class="ext-link" rel="external ">很快批准了这一更改</a>，并在第二天部署了它。</p>
<p class="translated">他还在Brunswick网页的GitHub知识库上的评论<a href="https://github.com/WhataShane/save418/issues/8" class="ext-link" rel="external ">中留下了这一变化，并补充道:“顺便说一句，谢谢你关心HTTP:)</a></p>
<p class="translated">“很抱歉在那些Github线程中引起了所有混乱，”Brunswick回应道，并补充道“希望我没有让你的工作变得更加困难。”</p>
<p class="translated">“另外，我要感谢您为HTTP协议付出的所有时间。我生命中的大部分时间可能都以某种方式、形状或形式与互联网联系在一起，受益于你在职业生涯中所做的工作。也谢谢大家关心HTTP:)”</p>
<hr/>
<h1 class="translated">WebReduce</h1>

<p class="attribution translated">特写图片由<a href="http://www.girliemac.com/blog/" class="ext-link" rel="external ">朋美井村</a>通过<a href="https://www.flickr.com/photos/girliemac/6508102407/in/album-72157628409467125/" class="ext-link" rel="external "> Flickr </a>，CC BY 2.0。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>
</div>
</div>    
</body>
</html>