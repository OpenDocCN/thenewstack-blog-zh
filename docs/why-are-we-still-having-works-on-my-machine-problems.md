# 为什么我们仍然有“在我的机器上工作”的问题？

> 原文：<https://thenewstack.io/why-are-we-still-having-works-on-my-machine-problems/>

尽管计算机编程在过去二十年中取得了很大进步，但开发人员和操作人员仍在处理“在我的机器上工作”的问题——一个在笔记本电脑上工作很好的应用程序，但在生产或同事的笔记本电脑上完全不起作用。为什么我们仍然有这个问题？

 [里什·亚达夫

Rishi Yadav 在设计和开发企业应用程序方面拥有 20 多年的经验。他是开源软件专家，为企业提供最新技术趋势的建议。Rishi 在 2014 年被评为硅谷 40 位 40 岁以下的人之一。他于 1998 年在著名的印度理工学院(IIT)德里分校获得学士学位。Rishi 是 Roost.io 的联合创始人，roost . io 是一家专注于 CI 前微服务认证的公司。大约 10 年前，Rishi 创办了 InfoObjects，这是一家帮助数据驱动型企业获得数据新见解的公司。Rishi 写了两本关于 Apache Spark 的书。](http://roost.io/) 

我认为“在我的机器上工作”取决于开发人员对生产环境的控制程度以及开发和生产环境的一致性。在计算机科学的短暂历史中，钟摆摇摆了几次，导致了或多或少的“在我的机器上工作”的问题。

让我们回想一下计算机编程的早期，那时给计算机编程需要打孔卡。打孔卡上的任何错误都意味着你必须重新打孔。开发人员在生产中编码，每个错误的成本都很高。但是错误很快就显现出来，开发人员尽可能地接近生产。每个人都在同一台机器上工作，所以不存在“在我的机器上工作”的问题。

随着开发人员开始使用客户机服务器，然后在他们自己的机器上编程，生产环境和开发环境之间的距离开始增加。这就是“在我的机器上工作”开始成为软件工程团队的一个严重问题的时候。

> 简写“在我的机器上工作”是开发人员对生产环境的控制程度以及开发和生产环境的相同程度的函数。

然后云来了。起初，云实际上是影子 IT，由开发人员使用和配置来运行非关键应用程序。在那个阶段，开发者控制了云，“在我的机器上工作”的问题减少了。

但是现在，随着云已经从影子 IT 走向主流，并且对如何建立云环境有了更多的控制层，开发人员在他们的 ide 中所做的事情和生产环境看起来的样子之间的距离正在增加。

## 看看什么粘在一起

你不能真的直接在云中工作——我们没有像大型机时代那样让开发人员在生产环境中工作是有充分理由的。现在我们为开发人员提供了隔离的系统，这样他们就可以在开发时安全地犯错误。与此同时，开发人员在凌晨两点被叫醒，因为他们的代码在生产中无法工作——如果笔记本电脑上的一切都运行良好，他们没有工具来轻松调试问题。有人可能会说，回家休息的虫子。

目前，大多数公司都在混合使用以下技术来解决“在我的机器上工作”的问题:

*   **降低速度。**更强大的测试是在潜在问题进入生产之前捕捉它们的一种策略。我们愿意认为所有的测试都是 100%自动化和即时的，但这不是真的。一个更健壮的测试过程将会减慢开发速度，并且仍然不能确保所有“在我的机器上工作”的问题在生产之前被发现。
*   **反复试验。**组织谈论通过更频繁地部署或使用 canary 部署等高级部署技术来解决生产中的问题。这是一种委婉的说法，他们正在使用试错法来解决“在我的机器上工作”的问题。
*   建立更严格的部署程序。组织还试图通过建立越来越严格的部署程序并在部署管道上设置护栏和路障来解决“在我的机器上工作”的问题，希望在生产之前发现问题。

这些方法的问题是，它们都没有真正解决问题，也没有给开发人员一个更好的方法来主动确保服务在进入集成过程之前就能在生产中正确工作。

## 增强开发者的能力

在经历了这么多年和这么多沮丧的深夜之后，你会认为软件工程作为一个行业应该已经找到了一个更好的方法来防止“在我的机器上工作”的问题。然而，真正的解决方案必须减少开发环境和生产环境之间的距离，以便开发人员能够自动在与生产环境相同的环境中进行开发，包括访问最新版本的上游和下游依赖项，并使用相同的配置运行。作为一个行业，我们经常谈论缩短反馈回路。应该提醒开发人员，可能存在服务兼容性问题，或者更新在离开他们的机器之前不会在生产中工作，而不是在 canary 部署失败之后。这是我们最终永远消除“在我的机器上工作”问题的唯一方法。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>