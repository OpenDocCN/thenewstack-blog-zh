# 容器不全是公共云和彩虹

> 原文：<https://thenewstack.io/containers-arent-all-public-clouds-and-rainbows/>

[](https://www.linkedin.com/in/nickchase/)

 [尼古拉斯·蔡斯

Nick 是 Mirantis 的技术和营销内容主管。](https://www.linkedin.com/in/nickchase/) [](https://www.linkedin.com/in/nickchase/)

每年 CNCF ( [云计算基金会](https://cncf.io/?utm_content=inline-mention))都会进行一项调查，看看容器和 Kubernetes 市场是什么样子的。 [2020 年 CNCF 调查](https://www.cncf.io/wp-content/uploads/2020/11/CNCF_Survey_Report_2020.pdf)出来了，虽然很多信息证实了我们已经知道的(集装箱很受欢迎！大家都在用 Kubernetes！)，有几个有趣的数据点可以看看。

简而言之，容器开发很重要——而且在很多方面比您想象的更重要——但这并不意味着事情进展顺利。以下是对此的处理方法。

## 企业在生产中运行的是什么？

当这项调查在 2016 年开始时，容器和 Kubernetes 相当新，还不成熟。只有 23%的受访者在生产中使用容器，更不用说像 Kubernetes 这样的编排平台了。然而，在过去的 4 年里，这个数字激增。如今，高达 92%的受访者在生产中运行容器，在测试、开发和概念验证阶段，这一比例上升到 95%。如果你是那最后 5%的一部分，我很想听听你在做什么。您是否仍在运行遗留的单片应用程序，还是正在构建新的应用程序？

因此，绝大多数公司都将其生产工作负载委托给容器，超过三分之一(38%)的公司运行超过 1，000 个容器。

为了协调这些容器，91%的受访者表示他们正在使用 Kubernetes83%在生产中。其中 80%以上运行多个集群。

## 工作负载在哪里运行？

至于这些集群位于何处，过去几年的传统观点是工作负载将无情地转移到公共云，但今年的调查显示了一个令人惊讶的转折。虽然今年公共云的使用略有上升，达到 64%，但内部/私有云的使用**也在**上升，从 2019 年的 45%上升到去年的 52%。

这怎么可能呢？简单:调查还指出，对于多云和混合云，分别有 26%和 36%的人做出了回应。多云选项是今年的新选项，该基金会不认为它是混合云略有下降的原因。但是考虑到两者之间的语义混乱，这是需要考虑的。

这可能是报告中最大的惊喜，表明在未来几年内(至少)私有云将站稳脚跟。这意味着公司必须应对本地云的特殊困难。这些困难可能像确保硬件、支持和其他辅助 OPEX 的成本结构一样普遍，也可能像实施 GDPR 一样具体，或者像找到保证云安全的方法一样重要。然而，只要有适当的规划和支持，所有这些困难都是可以克服的。

## 人们面临着什么问题？

当然，也不全是云原生地的独角兽和彩虹。受访者中有两个特别关注的问题，41%的受访者指出了转向基于容器的开发时的复杂性和文化问题。

例如，几乎所有公司(97%)都在使用、评估或考虑 CI/CD 管道进行发展。然而，虽然 53%的受访者报告说一天多次签入代码，但只有 29%的人实际上每天都发布软件。事实上，自动化发布变得越来越不常见，从 40%下降到 33%,因为人们对他们的发布过程有了更多的控制。

许多不同的因素可能导致这一下降。例如，这其中有多少是由于刚在家工作的人造成的？

让我们仔细想想。该调查明确指出，“Kubernetes 和云原生工具提供的可移植性使得从一个公共云供应商切换到另一个供应商变得更加简单”，并暗示要构建功能性混合云和多云。但这来自于在多个环境中获得一致的 Kubernetes 体验，这最大限度地提高了工作负载、工具和流程的可移动性。

然而，由于现在有更多的开发人员在家工作，这是否意味着开发环境没有大家都在办公室时那么标准？例如，全自动发布的(相当惊人的)减少是否反映了本地开发集群和基于公共云的生产集群之间的差异？

## 解决 CNCF 调查中提出的问题

让我们看看调查暴露出的潜在问题:

*   大多数公司都使用许多节点，这些节点构成了跨越多个云的多个集群，这导致了以下事实…
*   使用容器是复杂的，这导致人们倾向于发现…
*   让开发人员转向容器很困难

那么我们能做些什么来解决这些问题呢？一般来说，您需要对以下内容进行一些修改:

最终，你会发现——正如大多数公司已经发现的那样——容器驱动的开发将成为你更快地交付代码的努力的关键部分。重要的是要确保你有一个合作伙伴，这样你就可以专注于你的应用程序，而不是基础设施本身。

云本地计算基金会(CNCF)是新堆栈的赞助商。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>