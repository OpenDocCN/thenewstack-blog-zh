# 在 CI/CD 管道中使用自动化的 3 种方式

> 原文：<https://thenewstack.io/3-ways-to-use-automation-in-ci-cd-pipelines/>

成功的开发运维、持续集成(CI)和持续交付(CD)在很多方面都依赖于自动化。这是因为脚本、插件和其他自动化工具有助于标准化生产和部署流程，从而减少软件交付错误的空间。

通过依靠自动化流程来完成重复且耗时的任务，DevOps 团队也有更多时间以只有人类才能实现的方式为应用交付增加价值。最终结果是:应用的交付和管理速度更快、更安全，同时开发运维团队有更多空闲资源来为最终用户提供更好的价值。

如果没有自动化，开发人员可能会花费大量的时间在配置文件上，而不是创建优秀的代码，这些代码很快被批准并投入生产。跨多云基础架构部署新租户需要数天时间，其中涉及多个手动步骤，而不仅仅是点击几下鼠标。审计需要几天的时间来追踪文件和数据以及其他取证步骤，而这些本来应该内置到生产流程中，因此所需的信息检索过程是自动化的。

CloudBees 软件交付自动化高级副总裁兼总经理 [Shawn Ahmed](https://www.linkedin.com/in/shawnahmed) 在 [DevOps World 2020 主题演讲](https://experience.cloudbees.com/e/DevOpsWorld/portal/stage/40521)期间表示:“你有一个减速点、一个瓶颈点、一个单一的人工路测失败点，它会对生产力产生连锁反应，这是你无法承受的。”。“因此，如果你是一家仍然依赖手工流程来构建和交付软件的公司，如果没有一个完全自动化的软件交付自动化主干，你根本无法生存和发展。这不仅仅是我的看法，行业趋势也证明了这一点。”

可以理解，自动化是这次会议的一个重要主题。在无数的演讲和主题演讲中，交流了许多实质性的技巧和工具，以帮助 DevOps 团队自动化他们的生产流水线。

在本帖中，我们收集了一些例子，展示了组织如何填补其 CI/CD 流程中的自动化空白，以便最终向最终用户交付更好的价值。在讨论的许多工具和过程中，三种创造性的方法因其满足工程和业务目标的能力而脱颖而出。

## 部署后检查

第一个要点是自动化必须跨越整个 [CI/CD 概念](https://thenewstack.io/category/ci-cd/)生命周期，包括软件交付的部署和部署后阶段。然而，团队一直未能实现管道部署后阶段的自动化，[美国运通全球商务旅行工程总监 Amit R. Bhandarkar](https://www.linkedin.com/in/amitrbhandarkar) 在为媒体和分析师举行的关于 DevOps 的小组讨论中表示。

“很少有团队在其 CI/ CD 中实现任何复杂的部署后自动化，”Bhandarkar 说，“这通常被交给一个单独的团队，该团队可能使用自动化来验证部署，但它不是后 CI/CD 管道的一部分。”

在美国运通，Bhandarkar 说，开发团队正在分析如何更好地验证部署后的代码更改。例如，在代码验证过程中，后续需要的分析和操作也应该自动化。该过程包括当应用程序失败时，自动执行适当的回滚。

“因此，CI/CD 有许多复杂的自动化，”Bhandarkar 说。通常，在部署后的行动中，会有一些空白需要填补

Bhandarkar 说，除了自动化应用交付的部署后流程，美国运通几年来一直在自动化方面进行投资。例如，在过去的一年中，该组织增加了安全扫描、代码质量检查和部署后检查的数量，从而提高了 CI/CD 效率和 DevOps 生产率，他说。

“我们还通过自动化增加了对许多额外的内部和云部署目标的支持，”Bhandarkar 说。“因此，我们确实有一种强烈的责任感，要在这个领域继续创新。”

## DevSecOps 的自动化审计控制

DevSecOps 在 CI/CD 中也起着明显的作用。虽然需要自动化来确保安全控制，但是在整个过程中，从 Git 上的初始代码上传到应用程序的部署和分发，监控和补救是紧密集成的。对于合规性，当审计发生时，自动化的[“审计就绪”管道](https://www.cloudbees.com/resource/whitepaper/seven-tips-for-creating-audit-ready-pipelines)代表了一种确保检索审计相关信息在需要时持续可用的方法。

例如，通过审计就绪管道，可以在整个 CI/CD 流程中跟踪和标记相关的审计相关数据。

CloudBees 高级产品经理 [Avantika Mathur](https://www.linkedin.com/in/avantika-mathur-36b49b17) 在一次演讲中说:“我们建议通过一个发布管道实现整个流程的自动化，将审计数据构建到其中。"管道本身成为审计线索."

Mathur 说，审计数据是作为管道的一部分收集的，因为它在一个中心位置运行。Mathur 说:“访问控制和合规性随后被纳入管道，以确保流程得到遵守。只有授权用户才能采取行动。因此，所有的数据、所有的工具和一切都在一个地方，而不是追踪发生了什么。”

## 固执己见的 CI/CD

在部署应用程序时，依靠 CI/CD 形成所谓的“自以为是的”应用程序交付流程也需要自动化，这意味着简化用户体验。

“作为云自动化流程的一部分，我们正在做的最后一件事是为基础架构提供自以为是的解决方案。富达投资的云卓越中心负责人 Gerard McMahon 在新闻发布会上说，这扩展到了自动化合规、治理、安全和财务运营。“最终结果是:我们可以获得架构模式或通用蓝图，以标准化团队和小组如何为其特定应用程序部署到云中。”

## 到 DevOps 的未来

最终，自动化，尤其是它的实现，为 [DevOps](https://thenewstack.io/category/devops/) 打下了基础。十多年来，DevOps 的概念及其在组织和 CI/CD 中的重要性已被广泛采用。自动化进一步加速了许多积极趋势，包括消除各种 DevOps 利益相关方(包括开发人员、运营、安全和业务团队)之间的孤岛。在许多方面，软件交付自动化和工具的采用仅仅是一个开始。

“当谈到当今软件交付自动化的不同部分时，每个人都处于激烈的竞争中，” [Broadridge](https://www.broadridge.com/) 的杰出工程师 [Daniel Ritchie](https://www.linkedin.com/in/danielritchie123) 在 DevOps World 期间的[Live with The New Stack Makers】](https://www.youtube.com/watch?v=qleUecY2uQ4&ab_channel=TheNewStack)Live stream 中说道。“这种软件交付管理的趋势，这种我们将有多种方法来交付超越这些自动化组件的软件的想法-我认为现在扩展是我们正在进入的，这真的在某种程度上推动了边缘，定义了开发运维的未来。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>