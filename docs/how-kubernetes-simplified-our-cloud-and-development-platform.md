# Kubernetes 如何简化我们的云和开发平台

> 原文：<https://thenewstack.io/how-kubernetes-simplified-our-cloud-and-development-platform/>

[](https://www.linkedin.com/in/rickspencer3/)

 [里克·斯潘塞

里克是 InfluxData 平台的副总裁。他是一名工程领导者，致力于构建高质量和以用户为中心的软件。在他的职业生涯中，他成功地领导了大型分布式工程团队开发云应用程序、工具、虚拟机和容器。](https://www.linkedin.com/in/rickspencer3/) [](https://www.linkedin.com/in/rickspencer3/)

如今，应用程序生成的数据比以往任何时候都多，因为企业需要从数据中获得更多的洞察力。企业不仅必须以最经济高效的方式管理和存储数据，还需要以有效的方式利用这些数据。InfluxData 的 InfluxDB 既提供了存储时序数据的数据库，又提供了构建使用这些数据的应用程序的开发平台。

数据有引力，这意味着在区域和云之间移动可能会很昂贵。因此，位置很重要。如果一家在纽约生成数据的公司在洛杉矶有一个数据库，那么将这些数据传输到位于不同地理位置的服务器会非常昂贵，即使是在同一家云提供商的两个不同地区之间。公司数据源和数据库之间的物理距离也会导致延迟。降低存储和移动数据的成本以及访问数据时的延迟可以改善客户体验。

为了实现这一目标，我们的工程师知道他们需要让他们的应用程序能够被广泛访问，以应对这些挑战。然而，在多个地区使用多个云提供商给我们带来了额外的障碍。要在所有三个主要的云提供商(AWS、谷歌和微软 Azure)上使用，InfluxData 开发人员需要编写三个不同的定制应用程序并维护它们。

## Kubernetes 解决方案

为了应对这些挑战，我们的团队使用 Kubernetes 作为云抽象层，使我们能够灵活地在任何地区的任何云提供商上部署 Kubernetes 集群。

这样做的好处是，我们的开发人员只需要编写一个应用程序，就可以在任何地区的任何云提供商上运行。这使得扩展和扩展到新的区域变得更快更容易。

> “如果没有 Kubernetes，InfluxData 将不得不为每个云提供商创建和维护核心应用程序的多个版本。开发团队会浪费时间并行开发相同的功能。相反，借助基于 Kubernetes 的云抽象层，他们可以专注于在单一应用中为用户提供价值和优势。”

–Ryan Betts，InfluxData 工程副总裁

InfluxData 的 Kubernetes 解决方案将新云区域的部署时间从一个月缩短到两天。使用 Kubernetes 开发解决方案帮助我们解决了一个任务关键型问题。现在，我们可以将我们的应用程序部署到云提供商，并且部署在靠近我们的客户生成和使用数据的地方。

Kubernetes 解决方案还为我们的团队带来了许多意想不到的好处。

### **额外福利**

使用 Kubernetes 使我们的可靠性团队能够通过标准化资源和基础设施的交付来优化生产力，同时坚持最佳实践。Kubernetes 为我们的站点可靠性工程师(SREs)和开发团队提供了一个标准框架和通用的协作术语。这也简化并加速了已经熟悉 Kubernetes 的新工程人员的入职。由于他们对技术的熟悉，他们能够立即投入工作，这使得整个团队更加有效和高效。

Kubernetes 云抽象层带来的另一个意想不到的好处是，它允许软件工程师在类似生产的环境中开发和测试，对他们自己的系统影响最小。

有助于更快的代码部署的一个关键开发是我们团队创建的远程本地开发环境(简称“remocal”)。实际上,“远程”开发环境允许每个开发人员在内部 Kubernetes 集群中构建一个接近生产的远程环境，在那里他们可以开发和测试代码。

我们团队使用的老方法包括使用 Docker 和 Kind 运行应用程序的本地副本。这使用了更多的资源，导致沮丧，因为本地机器陷入困境，功能开发变慢。

相比之下，Kubernetes 的“remocal”方法允许团队更快地构建、测试和发布代码，同时使用更少的资源。一旦代码变更进入 CI，只需不到三个小时就可以将代码部署到生产环境中。我们的开发人员可以灵活自由地在他们自己的环境中实时测试他们的变化，这种环境与生产环境是平行的。

## 可扩展解决方案

通过创造性地使用 Kubernetes，InfluxData 能够为客户提供多云、多区域数据存储，并在内部维护单一代码库。我们的 Kubernetes 解决方案提供了简化和灵活性，通过一个弹性、可扩展的时序平台来满足开发人员客户的需求。

我们的解决方案表明，大规模运行 Kubernetes 本身是可能的，它由 9，400 多个生产单元、500 多个生产节点和 17 个集群组成。以这种方式努力使用 Kubernetes 后，随着客户的发展和扩大，我们有能力满足他们的需求。

> “Kubernetes 使我们能够通过自动化显著加快部署新集群所需的时间。第一个地区至少花了一个月的时间来建立，但现在我们只需两天就可以建立一个新的地区。”

–influx data 云产品管理总监 Balaji Palani

简而言之，Kubernetes 使我们能够以更接近客户数据源的方式交付应用程序，从而减少延迟并提高性能。在内部，Kubernetes 允许我们的开发人员花更多的时间来为我们的应用程序构建新的功能和改进，以保持它对我们的客户的相关性和有用性。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>