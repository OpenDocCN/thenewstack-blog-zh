# 无服务器对业务、流程和文化的影响

> 原文：<https://thenewstack.io/serverless-impacts-on-business-process-and-culture/>

这篇文章是探索无服务器基础的系列文章的第二篇。请每周一回来查看更多的分期付款。

[无服务器技术](https://thenewstack.io/serverless-101-how-to-get-serverless-started-in-the-enterprise/)正在企业和创业环境中获得牵引力，其速度远远快于容器，后者是最近一次广泛的行业采用推广。

无论使用什么指标来分析它，无服务器肯定会引起人们的兴趣:

*   在 Serverlessconf 和 ServerlessDays 活动中，出席者和演讲者的多样性持续增长和扩大
*   19%的后端开发人员正在使用无服务器平台，比六个月前的 16%有所上升，现在已经与虚拟机的使用持平，至少根据开发者经济的最新季度调查。
*   Cloudability 的[2018 年云状态报告](http://get.cloudability.com/ebook-state-of-cloud-2018-thank-you.html?aliId=3136040) ，分析了 2017 年 1，500 个组织的 IT 支出，显示无服务器季度环比增长率为 667%。
*   [TweetReach](https://tweetreach.com/) 估计每小时有 100 条推文被无服务器标记:
*   在过去的 12 个月里，谷歌对“无服务器”一词的搜索量稳步上升

![graphic showing monthly increase in searches using the term serverless](img/f1fd17a2b6a27845f33e14dea8a93f6f.png)

但是，随着无服务器技术在分散的项目中进行测试，它们开始产生多米诺骨牌效应，以意想不到的方式影响业务。无服务器加速了生产时间，引入了使用成本模型，并鼓励团队成员更加自主。这些影响会影响企业的运作方式。这包括选择在无服务器环境下运行什么，企业创造新产品和功能实验的意愿，如何管理预算，以及开发人员和产品经理如何履行职责。

## 无服务器和微服务

无服务器的一些速度优势首先由[微服务架构](https://thenewstack.io/microservices-101/)实现。根据奥赖利的书 [*微服务架构*](http://shop.oreilly.com/product/0636920050308.do) ，微服务将一个整体的代码基础分解成小的、自治的服务，正因为如此，使企业能够“以规模化的速度和安全性”构建解决方案。

在年初的一篇博客文章中，机器学习平台 Algorithmia 的 Mike Anderson 展示了一个典型的科技企业的标准发布周期如何因为微服务而从 65 天移动到 16 天。安德森在一月份写道:“微服务允许他们分离开发工作流程中的阻塞部分，澄清和隔离关注点，并专注于组件级的变化。”

一旦企业的代码库可以作为微服务而不是整体来使用，无服务器就成了一种选择。现在，企业可以识别特定的、主要是无状态的任务，这些任务可能适合在无服务器架构中进行测试。云平台处理分配计算资源以解决问题的操作任务，启动服务器进行计算，然后在数据转换后再次关闭服务器。

Red Hat 的产品管理高级主管 Rich Sharples 表示，该公司在过去的两三年里一直在关注无服务器产品，并且正在开发一种开源的、企业级的无服务器产品，它将与 Kubernetes 一起工作。夏普勒斯说，红帽预计今年将推出完整的产品。

夏普勒斯说:“我们从客户那里看到的是，科技正迅速地走上炒作曲线。“微服务是一个非常快速的爬升，而无服务器的爬升比这还要快。”

Sharples 表示，主要兴趣源于企业对微服务的热爱，在微服务中，增量交付、敏捷性和更快的交付正在被接受。“但我们看到采用者在管理和监控分布式系统的操作复杂性上苦苦挣扎，这就是无服务器引起他们注意的地方。你得到了微服务的好处，但是从开发人员的角度来看，这非常容易——这只是关于代码。在运营方面，对于构建自动化运营系统的人来说，无服务器是一个非常好的模式。要响应日志事件，以无服务器调用的方式进行非常方便。”Sharples 说，在他每周和每天与企业客户的聊天中，无服务器激起了他们的兴趣。

“任何短期运行、无状态、可以作为独立任务运行的东西都非常适合无服务器，”Sharples 说。

[Aaron Miller](https://github.com/aaronhmiller) ，开源 API Gateway [Kong](https://konghq.com/) 的高级解决方案工程师说，大多数开始设计无服务器架构的客户要么来自基层，要么来自自上而下的方法。基层采用者已经将他们的遗留架构转变为微服务，现在他们正在环顾四周，看到他们正在以多种方式在整个企业中使用 Kong。他们倾向于采用开源技术的企业计划，并热衷于通过识别无服务器工作机会来进入新的领域。

自上而下的采纳者是指那些企业的首席技术官承担了“数字化转型”议程的任务，并希望孔在微服务和更新的架构方面提供帮助的人。他们希望不仅能赶上微服务，还能通过同时尝试无服务器服务来获得一些领先优势。

米勒说，在 Kong，有一些无服务器项目的突出例子吸引了那些希望加快速度的首席技术官的兴趣。 [Expedia](https://www.expedia.com/) 的无服务器项目采用了孔的技术。“Expedia 是无服务器的高级用户。(该公司使用)Kong 用于所有常见的 API 网关用例，我们有一个 AWS Lambda 插件，因此他们有一个简单的连接方式。每当有人购买酒店或预订机票时，Expedia 都会为顾客下次购物提供折扣。无服务器是支持该用例的完美技术。”

Miller 认为，虽然降低成本肯定是无服务器的一个好处，但更多的是关于开发速度。“如果团队只是编写代码，他们只担心功能的质量，他们不必担心在 Linux 版本上运行这个或那个。那些问题变成了其他人的问题，团队成员可以专注于用 Node、或 Python、或当今任何无服务器语言编写代码，因此每个人都受益。它让人们变得狭隘，但提供广泛的功能，”米勒说。

## 作为无服务器运行什么

许多希望测试无服务器潜力的企业和初创公司需要找到一个初始用例。新的堆栈定期记录了[大量无服务器](https://thenewstack.io/serverless-architecture-five-design-patterns/)的唾手可得的用例:

*   调整图像大小(以及任何可能需要清理或更改媒体文件的任务)
*   ETL 任务可能需要清理非结构化数据或将其组织成某种标准格式
*   Cron 类型的工作。

[Steve Faulkner](https://github.com/southpolesteve) 帮助媒体公司[business](https://thenewstack.io/bustle-migrated-100-million-events-per-day-product-serverless/)创建了无服务器基础设施，该公司现在 100%的运营都在无服务器架构上运行，只有一名兼职运营团队成员。他有一个简单的经验法则来确定任何企业可以从哪里开始他们的无服务器之旅:

“在您的 CI/CD 渠道中，哪里有缺陷？”他问。“检验你的 CI/CD 渠道是否有效的一个非常简单的方法是:一个非技术人员能对你的网站或文档中的文本或副本进行修改吗？这种修改多快能部署到生产中？大多数组织甚至做不到这一点。”

Faulkner 说，他见过这样的企业，CEO 可以发现网站中的一个打字错误，在 Git 中进行修改，并在一个小时内将修改内容投入生产。“这是一个很高的标准，但它是一个很好的测试，可以看出您的 CI/CD 缺陷在哪里，并且是一个使用无服务器解决问题的成熟案例。”

Kong 的 Miller 提出了一种决定在哪里试用无服务器的方法，即寻找所需资源量不可预测的处理任务。“任何你不确定计算能力的地方:我需要一台服务器还是 100 台？如果没有办法预测，这是一个无服务器方法的良好候选，”米勒说。“另一种情况是，您有很高、很高的需求，并且您非常担心预算，必须严格证明成本的合理性。”

就像 Expedia 的用例一样，他还建议技术负责人与产品经理、销售和营销团队交谈，审视当前关于企业如何增加客户粘性的想法，看看是否有合适的用例。

这通常是 James Beswick(T1)的起点，他在 T2 的 Indevelo(T3)开发商店为其企业和 B2B 客户创建完全基于无服务器架构的网络和移动应用。最初，Beswick 使用 serverless 来完成所有标准的图像大小调整类型的任务，但在纽约的最后一次 Serverlessconf 上，“我有了一个顿悟，意识到我可以将我们所有的工作放在 serverless 上，”他说。

Beswick 说，当开始与新客户合作时，他们通常必须从一开始就讨论无服务器，他通常将成本计算作为他的主要关注点。

“我们必须解释整件事，”贝斯维克说。“首先我们讨论软件需求是什么，然后我们讨论架构。对于架构，我们从财务方面开始。我们解释了为什么无服务器的价格更低、可用性更高。”

Beswick 说，因为无服务器“众所周知难以估算”，他倾向于给潜在客户一个估算范围。“网络规模的应用程序非常昂贵，无论你如何运行它们，”贝斯维克说。我倾向于展示，如果一个应用程序正在进行 10，000 次交易，那么在一个月的账户上看起来会是什么样子？如果一项活动每月花费 500 美元，是什么原因导致它突然变成每月 5000 美元？"

## 无服务器如何改变商业

从成本开始也启发企业思考无服务器可能对他们未来的运营方式产生的巨大影响。

例如，在美国，IT 项目的预算可能基于人力资源和资本支出(capX)，而不是纯粹的成本分配和运营支出(opX)。许多企业将其 IT 视为 capX，可以获得特定的税收折扣。但是在云环境中，尤其是在无服务器环境中，定价是基于实际使用的，这都是 opX。这让一些首席财务官感到担忧，他们担心会失去 IT 项目的税收减免。其他的并不是真正建立在对现有员工的工资成本进行折扣的基础上。

“你可能有一个年薪 12 万美元的数据库员工，”Beswick 解释说。“如果你运行的是 AWS Aurora，那可能要花 500 美元一个月。这要便宜得多，但人们没有考虑到员工成本，因为它是由多种因素分摊的。”贝斯维克表示，企业必须赶上新的会计方法，这种方法不寻求 CapX 税收冲销，而是纯粹的成本分配，人力资源以新的方式进行预算，而不是作为项目成本的一部分。

无服务器还带来了其他业务影响。这些影响中的一部分已经从云和 SaaS 技术中显现出来，但是就像无服务器应用程序开发一样，速度也在加快。

贝斯维克指出的一个领域是，他的设计室通常由 IT 部门以外的业务部门租用:例如，企业中的营销和销售团队。就像 [SaaS 工具可能由一个部门](https://thenewstack.io/slack-new-model-business-process-software/)负责，但随后会涉及跨业务线的数据集成和移动设备，应用程序开发必须找到变通办法来限制传统 it 部门的参与。“当您与 IT 部门合作时，有一系列因素在起作用:他们的王国正在消失，他们对灾难发生时的情况感到不安，他们真的不相信它正在无服务器的环境中运行。在这一点上，IT 团队太落后了，”贝斯维克警告说。

“IT 已经变得瘫痪:他们陷入了不改变任何事情的陷阱，但大多数企业都看到了他们行业中正在发生的变化，所以他们离开了他们的 IT 部门，转向外部来完成事情，”Beswick 认为大多数企业都处于中间地带，传统 IT 部门的组织结构和角色将会消失，而无服务器正在加快向新组织结构的转移。

## 无服务器如何改变流程

“我确实看到了无服务器业务流程的一些变化，”Faulkner 说。“我认为无服务器是为了提高速度，不仅仅是软件开发的速度，还有如何模块化你的应用程序。我们通过无服务器化重新设计了 business。当你有一个无服务器架构，它是模块化的，有一堆功能，所以它更容易插入。去年，我们开始建立业务系统，这些系统可以依托 events 架构并提供新的价值。”

贝斯维克同意。“如果你想想以前的世界，最小可行产品是不可扩展的，它们不是防弹的。如果创意启动并进入生产阶段，大部分工作都会被丢弃。现在有了无服务器，我们可以非常容易地构建从 MVP 到生产的高级应用程序，所以这改变了问题。它变得更加灵活。当某些东西扩展时，你过去常常交叉手指祈祷，但使用无服务器扩展要稳定得多。”

Beswick 说，对于微服务和功能，构建 MVP 所需的许多代码单元已经存在。通过对无服务器的使用定价，企业可以加快开发速度，并在向客户群体发布原型以获取反馈时降低风险。如果他们成功了，他们可以更快地进入生产阶段，而不需要重新构建。

保险科技初创公司 [Fabric](https://meetfabric.com/) 的联合创始人兼首席技术官 Steven Surgnier 表示，按照 Faulkner 和 Beswick 提到的思路，为他们的业务使用无服务器架构为该公司带来了业务流程优势。

“归根结底是执行，”苏尔涅尔说。“作为一家早期创业公司，我们希望快速执行，并最大限度地降低我们整体技术的复杂性。我们使用无服务器来缩短从我们的想法到将最终产品送到客户手中的时间。”

Miller 和 Surgnier 也认为，无服务器有助于留住关键的开发人才。米勒说，内部企业开发团队通常对试验新技术感兴趣，所以他们找到一个项目，分配一个小团队，给他们几周时间来构建原型。“这些企业通过给他们有趣的工作来吸引和留住更好的人才，”米勒解释说。Surgnier 说，无服务器对公司和工程师个人都有好处:“工程师想要建造。因此，通过为他们提供无服务器基础设施和专注于产品的机会，您可以让工程师在其职业生涯中构建更多东西。”

## 无服务器如何改变文化

Steve Faulkner 说，无服务器改变了软件开发的基本过程，在这一过程中，企业内部的开发人员自主性得到了培养。

作为 business 的无服务器支持者，他最初花了很多时间维护第一个 bash 脚本，然后构建一个完全成熟的框架。“我希望人们了解它是如何工作的，但我也坚信任何人都应该能够在任何时候部署到生产中。最好是一声令下，”他说。

无服务器鼓励这种开发人员自治文化。“如果有什么不同的话，那就是一切都变得更快了，”福克纳说。“完全部署的 Lambda 变化可以在 30 秒内发生。它消除了部署到生产的心理障碍。如果你知道那将是某种过程，它自然会引入惯性，比如，我应该现在做吗，我应该等其他人吗。但是，如果任何人都可以在任何时间部署到任何生产端点，这就给了人们自主权和权力。”

福克纳说，在 business，这已经是文化的一部分，而大公司可能有一种根深蒂固的思维模式和文化，鼓励开发人员等待签署。“但我想，如果你在一家大企业使用无服务器，如果企业文化已经很糟糕，无服务器是不会帮助你的。”

Faulkner 说，serverless 正在加速的另一个基本文化变化是对轻量级架构决策记录的需求。“人们需要记录他们正在做的事情，”他敦促道。“如果你的目标是任何人都可以在任何时候部署到生产环境中，那就说明你使用的是短命的功能分支。你需要一个特征标志系统，这样生产中的东西就不会完全暴露在世人面前。”虽然 Faulkner 说这还不是标准，而是软件应用在分布式规模的更广泛趋势，但议程和需求是由无服务器采用对发布生产级变更的速度和能力产生的影响推动的。

“我最近的热门观点是，特性标志可能是改进软件开发过程的最有用的方法，尤其是当你的规模增长时，”Faulkner 建议道。

## 无服务器引发行业兴奋

Indevelo 的 Beswick 认为，许多企业、IT 领导和业务经理都面临着一个岔路口。云已经引入了新的领域，但是无服务器将它向前推进了一个数量级。

“我从来没有像现在这样对技术感到兴奋，”贝斯维克说，这一观点得到了福克纳、苏尔涅尔、米勒和夏普勒斯的赞同。“你有这种融合的东西走到一起，”贝斯维克继续说。“无服务器交付令人难以置信。并加入机器学习。然后是移动方面。如果你带着一种全新的心态，而不是我们在拖遗产的后腿，这就是令人兴奋的部分。我们可以更好地问，客户的问题是什么，我们如何让每个人都更容易解决这些问题。"

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>