# GraphQL 和图形数据:一枚硬币的两面？

> 原文：<https://thenewstack.io/graphql-and-graph-data-two-sides-of-the-same-coin/>

编者按:StepZen 首席执行官 Anant Jhingran 和 DataStax 首席产品官 Ed Anuff 曾是 Apigee 和谷歌的同事。在这里，他们分享了他们对 GraphQL 和图形数据库如何连接的想法。

图形数据专家长期以来一直认为，图形数据库和 GraphQL 是两种完全不同的、不相关的东西。他们经常会将 JavaScript 与 Java 的关系进行类比；毕竟，前者是一种编程语言，不是 Java 平台的一部分。然而，这种关系不能被简化为一个片段，图表数据和 GraphQL 的故事也是如此。这有点复杂，值得探索。

## 脸书的社交图

 [阿南特·金格兰

Anant 是 StepZen 的创始人兼首席执行官，step Zen 是一家初创公司，采用新的方法来简化开发人员访问数据的方式，以增强数字体验。](https://www.linkedin.com/in/anantjhingran) 

也许图表数据最著名的例子是脸书，它让从青少年到 80 多岁的每个人花费他们生命中的很大一部分时间来处理图表关系的数据表示，所有人之前都没有接触过图论。自 2004 年诞生以来，社交网络的 social graph 已将图形数据带入主流，并使整整一代数据科学家成为炙手可热的商品。

图形数据库对脸书如此有效的部分原因是，它们在人和计算机看待世界的方式之间架起了一座桥梁。计算机依赖于数据的行和列，而人们通过关系来导航和推理生活。

举个例子:爱丽丝有三个孩子，分别叫鲍勃、辛迪和多萝西；她嫁给了伊森。她住在加州圣何塞。图形数据库促进了这种数据及其关系的有效存储和检索。

## GraphQL:快速移动，减少中断

 [埃德·阿努夫

埃德·阿努夫是 DataStax 的首席产品官。他在 Google、Apigee、Six Apart、Vignette、Epicentric 和 Wired 等公司担任产品和技术负责人超过 25 年。](https://twitter.com/edanuff) 

有许多语言都支持遍历图的表达方式(基本上是从大图中提取子图):SPARQL、SQL-SPARQL 和 Cypher 等等。

然后是 GraphQL，这是一个问题的答案:在“快速移动和打破东西”的时代，你如何帮助一个应用程序开发人员更快地移动，同时打破更少的东西？最初，GraphQL 是作为一种查询语言和运行时开发的，旨在最小化到客户端的网络跳数，但它收集相关信息并在一个查询中返回的事实为那些构建应用程序的人提供了受欢迎的帮助。使用 GraphQL，相关信息有时可以是关系，就像使用图形数据库一样，但它也可以隐式连接。

因此，在一个零售示例中，GraphQL 查询可以返回客户最后一次下的订单和离她最近的退货地点，而不需要在客户和她可以退货的商店之间有任何明确的“最近的退货商店”关系*。后者是不可能维护的——此外，谷歌地图可以提供这些信息，那么为什么要把这种数据存储在数据库中呢？*

## GraphQL 与图形数据库的连接

GraphQL 是一种用于图形数据库的自然查询语言，其中关系是显式创建的，尽管缺乏基于关系的数据所需的一些语义推理。当关系是隐式的并且不在中心位置时，GraphQL 是一种很棒的语言，因为在 GraphQL 中，图在元数据中。

每个数据元素都没有明确的链接；只有元数据可以。系统被告知:“要从一个人转到他们的孩子，发出以下形式的查询:‘select name from children where parent = $’”或者，在零售示例中，对于最近的退货商店，使用该人的家庭地址在 Google maps 中发出查询，并选择最近的一个。该结构在模式/元数据中。

在图形数据库中，图形在数据中。为了从 Alice 转到她的孩子，graph DB 需要跟踪所有类型为“has child”的链接。这些链接中的三个链接产生了 Alice 的三个孩子 Bob、Cindy 和 Dorothy。

那么应该投资 GraphQL 吗？绝对的。这是访问相关信息的正确方法，并且可以高效地访问这些信息。与任何技术一样，它也有一些警告:例如，您需要更加小心访问控制，并且您不应该在这一层复制您的业务逻辑。

你应该投资一个图形数据库吗？很有可能。如果链接和连接的结构不能仅仅用元数据来表达，那么 graphDB 是唯一的选择。它也有一些警告:如果它是位于其他地方的数据副本，那么它需要得到照顾和支持，否则数据可能会变得不同步。

## 包扎

与 JavaScript 和 Java 不同，GraphQL 和 graph 数据库至少可以说是近亲。每一个都带有图的概念。在 GraphQL 中，它在元数据和模式结构中；在图形数据库的情况下，它在数据中。

这两者可以一起使用，但通常情况下，它们会被分开使用。GraphQL 适用于数据分散的情况，而图形数据库非常适合于需要明确关系和将数据集中在一起的情况。

*了解有关 GraphQL 领先提供商 [StepZen](http://stepzen.com) 和 [DataStax、](https://www.datastax.com/products/datastax-graph)的更多信息，后者提供基于 Cassandra 构建并针对企业应用进行优化的分布式图形数据库。*

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>