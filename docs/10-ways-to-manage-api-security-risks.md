# 管理 API 安全风险的 10 种方法

> 原文：<https://thenewstack.io/10-ways-to-manage-api-security-risks/>

当今世界，信息时代正处于巅峰，每天都有成千上万的应用程序推出，对应用程序编程接口(API)的使用和需求显著增加。在开放网络技术的推动下，API 改变了各种商业企业和部门之间的相互依赖和合作关系，允许它们通过应用内连接来扩展其产品。

随着微服务的日益流行以及缩短新产品上市时间(TTM)的永久需求，越来越多的开发人员和企业家开始设计和集成 API。

然而，API 使用的增加也带来了它的复杂性——主要是安全性。API 在黑客中很受欢迎，因为它们允许直接访问存储的敏感数据，并允许黑客快速绕过安全措施。

鉴于现代应用和微服务的相互关联性，API 安全管理对于所有相关利益方来说都至关重要。Gartner [预测](https://www.gartner.com/en/webinars/4002323/api-security-protect-your-apis-from-attacks-and-data-breaches)在 2022 年，API 攻击将成为企业 web 应用中数据泄露最常见的攻击媒介。API 误用或恶意攻击可能会中断应用程序或导致服务丢失，从而导致收入损失、客户受挫以及敏感数据的潜在泄露。

在本帖中，我们将讨论 API 安全风险，并解释管理这些风险的 10 种主要方法。

## **常见 API 安全风险**

近年来，API 相关安全威胁的增加促使开放 Web 应用程序安全项目(OWASP)发布了“ [API 安全十大威胁](https://owasp.org/www-project-api-security/)”，这有助于提高对影响 API 的最常见安全风险的认识。OWASP 十大 API 安全挑战包括对象级授权破坏、用户身份验证破坏、过度数据暴露、缺乏资源和速率限制、功能级授权破坏、批量分配、安全错误配置、注入、不当资产管理以及日志记录和监控不足。

随着黑客瞄准已知的 API 安全漏洞，基于 API 的攻击[继续呈指数级增长](https://orca.security/resources/blog/owasp-api-security-top-10/)。例如，对于分布式拒绝服务(DDoS)攻击，攻击者在短时间内用多个同时请求轰炸 API 因此，这会影响 API 的响应能力，并使服务对用户不可用。

## **管理 API 安全风险的 10 大方法**

无论 API 是从头构建的还是从第三方来源集成的，保护它都需要有组织的、主动的端到端可见性。API 在软件交付生命周期中占有重要地位，它们的安全性取决于 CI/CD 工作流遵循 API 开发最佳实践的程度。

### **1。API 发现**

随着 API 的变化和新版本的开发，很容易遗漏未跟踪的更新和未记录的参数，这些可能成为攻击者的切入点。Forrester Research 的首席分析师 Sandy Carielli 说，“T2 的公司不知道他们的 API 库存有多少，也不知道这些应用程序接口是否安全。”这就是为什么 API discovery 是确保适当的 API 资产管理的最佳实践。API discovery 可让您全面了解 API 攻击面，没有盲点，并持续更新库存。

一个好的 API 发现解决方案可以确保对所使用的 API 协议(包括 gRPC、GraphQL、SOAP 和 REST)的 API 端点、参数、属性和解释的透彻理解，以及对任何第三方 API 配置的发现。它还应该发现任何 API 变化和版本更新，同时发现应用程序使用模式。

### **2。API 风险检测和补救**

API 的安全状况主要取决于您根据威胁的严重性管理威胁的效率和速度。一个好的 API 管理框架应该能够检测和修复您的 API 威胁，以防止升级。您必须首先了解敏感数据暴露的程度，以及受影响的 API 端点和策略违规的风险级别。此外，it 部门应该利用这些先验知识来识别、优先处理和解决所发现的 API 安全性和合规性风险。

### **3。API 运行时维护**

在运行时，由于攻击者试图在不同的端点渗透应用程序，API 安全性面临风险。一个好的 API 安全解决方案通过检测和防止攻击以及保护敏感数据免受泄漏来确保运行时的 API 保护。它还标记任何异常，跟踪最近添加或删除的 API，并监控 API 漂移。

### **4。所有请求和响应的数据加密**

数据加密是将人类可读的纯文本转换为另一种形式(如代码文本或密文)的过程。只有使用加密密钥才能访问加密数据，而使用解密密钥才能访问解密数据。在 API 中，请求和响应的加密确保了在用户和 API 服务器之间传输的任何数据都不会受到攻击。它保证了如果数据在任何时候被截取，对攻击者来说都是无用的，因为攻击者没有加密密钥。

### **5。实现 API 网关**

API 网关是一种将客户端连接到一组后端服务的软件模式。它接受来自客户的所有 API 请求，并将它们路由到相关的微服务。在安全性方面，API 网关像看门人一样运行，检查你的身份(认证)和你是否有权限进入(授权)。这样，API 网关提供了额外的安全和控制层。在将请求传递到 API 后端之前，它们还使用服务配置中指定的身份验证方法来验证传入的请求。

### **6。使用 OAuth 和 OpenID 连接**

身份验证和授权的访问控制是 API 安全管理的一个重要部分。开放式身份验证(OAuth)与 OpenID Connect 协作，以标准化身份验证和授权。OAuth 是一种开放的标准授权机制，它使用令牌来允许第三方网站或应用程序从另一个系统获取信息，而不会暴露用户凭据。OpenID Connect 是建立在 OAuth 协议之上的一个简单的覆盖层，它允许客户端验证最终用户身份并获取配置文件信息。

### **7。识别漏洞**

保护 API 的一个主要方法是了解 API 生命周期的哪些阶段可能被利用来破坏系统，并由于不安全性而暴露敏感数据。API 漏洞可以通过执行常规测试和检查来识别，尤其是在早期开发阶段和新代码更新时。渗透测试也可以确保 API 的安全性。

### **8。使用配额和节流**

API 是 DDoS 攻击的主要目标，因为它们用来自多个来源的请求淹没 API 服务器。这最终会降低系统的整体性能，使系统无法运行。限制和 API 配额限制了用户在特定时间段内可以进行的 API 调用的数量，是我们可以用来管理 API 使用的工具。

对于节流，我们使用一个节流计数器，当一个传入的客户端请求满足一组特定的条件时，该计数器就会增加。API 配额根据限制设置确定在设定时间内可以进行的最大调用次数。如果达到 API 配额，来自该特定客户端的流量将被禁止。

### **9。验证 API 参数**

当验证 API 参数时，将来自 API 请求和响应的数据与精确的模式结构进行比较。这保证了与 API 集成的系统或应用是安全的，并且只有授权的输入和数据被共享。它可以指示具体请求的资源是成功还是失败。它还可以防止信息过度共享，因为过度共享会暴露可能被利用的敏感数据。

### 10。构建威胁模型

这是开发潜在 API 安全漏洞的系统表示的过程，包括如何以及何时可以减轻它们。开发威胁模型的关键步骤包括定义安全标准、识别可能的风险、评估威胁、减轻威胁和确认威胁减轻。威胁模型有助于描述 API 攻击，从而做出更明智的风险管理决策。

## **掌控你的 API 安全**

随着现代应用开发从整体架构转向微服务架构，API 的使用将继续稳步增长。因此，API 安全性的重要性怎么强调都不为过。正如我们在本文中所讨论的，可以通过 API 发现、安全状态管理和利用 API 安全最佳实践的良好定义框架等策略来保护 API。通过在创建 API 时结合这些技术，我们可以避免数据泄露的风险，这种风险可能会给公司带来很大的损失。

实施像 [Orca 的无代理安全解决方案](https://orca.security/)这样的全面安全框架是解决 API 安全威胁的第一步。Orca 云安全平台即时构建全面的 web 和 API 清单，它还搜索 OWASP 十大 API 安全风险，从而实现大规模采用。要了解更多信息，您可以[注册免费的云风险评估](https://orca.security/lp/cloud-security-risk-assessment/)或[观看这个 10 分钟的演示](https://orca.security/demo/)。

### **延伸阅读**

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>