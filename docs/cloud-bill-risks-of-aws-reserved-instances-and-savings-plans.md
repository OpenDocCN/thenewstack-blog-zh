# AWS 保留实例和节约计划的云账单风险

> 原文：<https://thenewstack.io/cloud-bill-risks-of-aws-reserved-instances-and-savings-plans/>

[](https://www.linkedin.com/in/peter-santis-vpsales-cro-salesleader/)

 [彼得·森蒂斯峰

彼得是 CAST AI 的首席收入官，在推动上市前科技公司的增长方面拥有 20 多年的经验。](https://www.linkedin.com/in/peter-santis-vpsales-cro-salesleader/) [](https://www.linkedin.com/in/peter-santis-vpsales-cro-salesleader/)

估计对云资源的需求是一项挑战。Pinterest 曾承诺为 AWS 服务支付 1.7 亿美元，但后来由于用户活动增加，以更高的价格购买了更多容量，比预期多花了 2000 万美元。

如果你不知道下个月你的业务需要多少资源，提前预留容量是很棘手的。但是，一年或三年后呢？这是 AWS 保留实例和节约计划的主要问题。

继续阅读，看看为什么这些产品可能对你的公司有风险，以及应该选择什么来代替。

## 概述:什么是 AWS 保留实例？

企业倾向于保留实例，因为与按需定价相比，它们提供了很大的折扣。他们需要做的只是在一年或三年内致力于给定的云容量。就是这样。

在某些情况下，他们还可以从 AWS 获得保证，即这些资源将在给定的托管区域对他们可用。通常，预付款越大，云资源的折扣率就越大。

## 提供的潜在节约是什么？

与按需费率相比，EC2 预订实例提供的折扣甚至高达 75%。然而，在加入国际扶轮之前，有些事情你应该知道。

当预先购买容量时，您需要确保您的团队使用它。您的实例闲置的每一个小时都是对您经济利益的损失。为了最大限度地利用 RIs，你需要事先清楚地了解你的团队需要什么。

此外，折扣是有代价的。

## 3 保留云资源的风险

### 1.需求变化

当承诺特定的资源或使用级别时，您需要假设在合同运行时需求不会改变。

在云世界中，一年是一个巨大的承诺。在此期间可能会发生很多事情，影响您的需求。在这种情况下做出准确的估计是非常困难的。

还记得我开头分享的那个例子吗？在一个假日季节，Pinterest 用户在该平台上花费了太多时间，以至于该公司的云账单超过了最初的估计。

### 2.供应商锁定

签订保留实例的合同意味着您将依赖 AWS。换句话说，你将面临[供应商锁定](https://cast.ai/blog/vendor-lock-in-and-how-to-break-free/)的风险。使用谷歌云或微软 Azure 等其他提供商的服务没有意义——毕竟，你已经为 AWS 服务预先支付了这么多，所以你需要使用它们。

转换将伴随着高昂的成本。为什么你首先需要转换？也许 AWS 或任何其他提供商都无法为您的团队提供解决方案，来应对从您签署合同之日起六个月内等待您的挑战。

### 3.缺乏灵活性

当今世界变化很快。您的云需求在未来发生变化的可能性非常高。

当面临新问题时，您的团队可能需要更多资源。如果你已经承诺了一个给定的能力，你需要得到更多。或者转到其他地方，最终得到您已经付费的未使用的容量。

最重要的是，对于保留的实例，您将失去扩展的灵活性或在多区域/分区分布中配置资源的选项。

## 设置保留实例也是一个挑战

跟上最新的 AWS 服务并从几乎 [400 个 EC2 实例类型](https://cast.ai/blog/400-ec2-instance-types-the-good-the-bad-and-the-ugly/)中选择一个好的匹配已经足够困难了。此外，还需要评估应用程序的需求和工作负载模式。

手动技术既耗时又不准确，使得整个过程充满风险。

避免使用云账单分析解决方案来计算您需要多少保留实例或节省计划。它们提供的信息可能会使您根据当前使用的实例类型预留容量，即使它们的种类和大小不正确。

如果您保留了错误的实例，那么从长远来看，您将不可避免地发现自己过度配置了工作负载，浪费了大量资金。

## AWS 储蓄计划也好不到哪里去

保留实例缺乏灵活性的问题通常可以通过 AWS 节约计划来解决。它们就像 RIs 一样，只是你要承诺一定数量的计算，你的团队可以在一年或三年内使用。

在储蓄计划中，您不需要承诺特定的实例类型或配置。然而，您仍然可能成为供应商锁定的受害者。你为一年或三年后可能不再相关的云资源付费。此外，如果您的估计是错误的，并且您超出了容量，您将不得不使用按需费率支付额外费用。

## 有出路吗？

以[折扣价](https://thenewstack.io/7-tips-for-cutting-down-your-aws-kubernetes-bill/)提前预订容量看起来很有吸引力，但这是个陷阱。相反，考虑云成本优化策略，如合理调整、自动扩展和 Spot 实例。您可以保持灵活性，并通过确保您的团队准确调配他们所需的资源来削减您的云账单。

在你承诺昂贵的保留实例之前，尝试这个免费的[储蓄报告](https://cast.ai/eks-optimizer/)来发现在保持你的灵活性的同时你可以节省多少钱。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>