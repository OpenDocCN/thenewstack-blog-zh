# 问与答:团队拓扑如何支持平台工程

> 原文：<https://thenewstack.io/how-team-topologies-supports-platform-engineering/>

今年开始了很多关于 [平台工程](https://thenewstack.io/platform-engineering/) 的对话。在每一次关于社会技术学科的采访中，都会提到 [团队拓扑](https://teamtopologies.com/) 。

这种优化流程的软件开发和业务方法是由 [马修·斯凯尔顿](https://www.linkedin.com/in/matthewskelton/) 和 [曼纽尔·派斯](https://www.linkedin.com/in/manuelpais/) 创造的。先是他们合著了一本[书，](https://teamtopologies.com/book)于 2019 年出版；然后他们将其扩展成一个组织，经营一个学院来教授这种做法。

我们与 Pais 讨论了如何利用团队拓扑以及它如何与平台工程互动。为了篇幅和清晰起见，这篇采访经过了编辑。

新堆栈:你能自我介绍一下，告诉我们团队拓扑是如何形成的吗？

**Manuel Pais:** 我有 20 年担任不同角色的经验，从开发、测试、担任团队领导到咨询，尤其是在开发运维及持续交付方面。我在 2014 年遇到了 Matthew [Skelton]，我们开始在这些咨询项目中与世界各地的客户合作，主要是从“我们希望采用 [DevOps](https://thenewstack.io/the-what-why-and-how-of-devops/) 或“我们希望有类似[的连续交付”开始。](https://thenewstack.io/a-primer-continuous-integration-and-continuous-delivery-ci-cd/)

![Photo of Manuel Pais, co-founder of Team Topologies](img/8c57c6a67793347aae024006f3590d2b.png)

Manuel Pais，团队拓扑的联合创始人。

我们经常会发现团队互动或不互动的方式存在问题，团队的目的不明确，团队超负荷。特别是我们现在称之为[“平台团队”，他们通常有太多的利益相关者，](https://thenewstack.io/how-platform-teams-can-align-stakeholders/)所以他们分布得非常分散，无法为他们的客户提供实际价值。

当我们和客户一起工作时，我们发现了不同的模式，有些好，有些不太好。我们意识到这不仅仅是 DevOps。这就是“团队拓扑”的由来。

所以这本书将工程学原理应用于我们组织和建立团队的方式，我们建立互动。

**什么是“团队拓扑”？**

“拓扑”是指系统不同部分的连接或排列方式。因此，当我们谈论团队拓扑时，对于一个组织来说，没有单一的正确拓扑或理想的操作模型。

但事实是，如果我们有工具，如果我们有了解如何将它们组合在一起的构件，我们如何以适合我们的组织、适合我们的目标和挑战的方式来安排它们，那么我们可能会处于一个更好的位置，而不是，比方说，仅仅采用一些框架，因为这是我们被告知或出售的正确的组织方式。

重要的是从我们现在所处的位置开始，并找出差距。我们需要在组织中建立一些新的能力吗？我们是否需要拥有更多产品所有权的团队，这样他们才能走得更快，他们才能试验，他们才能比现在更快地为客户做得更好？如果我们需要这些东西，我们应该有什么类型的团队和互动？

这可能会导致:我们需要做出一些改变。也许我们需要创建一些新的团队，如支持团队或平台团队，或者我们需要改变职责或让其他人加入现有团队。

> “我多次看到:‘让我们重组到这种新的运营模式吧。’这是基于假设这一切都会变得更好。很多时候，情况并没有好转，或者没有我们预期的那么好。我们需要的是在持续的基础上迈出小得多的步伐。"
> 
> **—Manuel Pais，团队拓扑**

对我来说，团队拓扑不是一个框架。这不是模型。对我来说，这只是一套思考组织的方法。然后是一些关于团队类型和互动模式的有用模式，以及我们如何发展，我们如何感知何时需要以比过去更持续的方式改变组织。

**人们如何开始？它是从自上而下的活动开始，还是可以在团队的基础上完成？**

平台团队并不是什么新鲜事物。我认为团队拓扑的不同之处在于，我们不是孤立地谈论平台。这是一个团队网络，我们需要它来为组织、为我们的客户完成工作。

是的，你通常需要某种平台。它可能非常非常小，非常薄。在一家小公司，你可能只有几个人来帮助定义这个平台是什么，[以及]我们如何以更有效的方式做某些事情？在更大的组织中，这可能是多个团队——甚至多个平台——在起作用。

我们为什么需要它们？它们为什么存在？在团队拓扑中，平台的第一个目标应该是减少开发面向客户的服务或产品的团队的认知负荷。

我想这就是为什么在平台工程的背景下你会听到这么多关于团队拓扑的东西。我们将[平台作为产品](https://thenewstack.io/how-to-foster-a-good-internal-developer-platform-experience/)来谈论，因为它需要帮助他们的平台客户，也就是其他团队，更有效地完成他们的工作，减少他们的认知负荷[以及]做某些事情需要多少努力。

而在过去，我们只是孤立地谈论平台。我们会更多地考虑技术方面:我们应该建造什么？其他组织发生了什么？所以我们需要建造同样的东西或者我们需要使用同样的新技术。是的，我们需要利用技术，但这不应该是出发点。

**你把软件组织称为团队网络，就像一个“有机体”这是因为团队拓扑结构在不断变化吗？一个组织应该多久检查一次它的团队拓扑？**

仍然常见的是大规模的[重组],一些公司每两三年就进行一次重组，他们调动员工，改变他们的角色。然后他们会惊讶为什么人们没有订婚或者[筋疲力尽。](https://thenewstack.io/devops-burnout-try-platform-engineering/)这不是一个有效的方法。

相反，我们应该思考:为了获得反馈并了解这种改变是否真的有帮助，我能在组织方面做出的最小改变是什么？我看到很多次:“让我们重组到这个新的运营模式。”这是基于假设这一切都会变得更好。很多时候，情况并没有好转，或者没有我们预期的那么好。

我们需要的是在持续的基础上迈出小得多的步伐。例如，我们需要数据科学方面的帮助，或者我们需要拥有更多数据洞察力的团队。也许我们只有一个集中的数据科学家团队，他们已经超负荷了。太慢了。他们是一个瓶颈。我们能做什么？

也许让我们从让这些数据科学家做一些使能工作开始。帮助其他团队学习基础知识，这样他们就可以自己做一些事情。他们不会在某一天成为专家，但也许他们可以做基本的事情，不再依赖和依赖那个集中的团队。这是一个非常小的变化。

理想情况下，你希望有一种文化，团队本身充当“我们需要改变一些东西；这不管用。也许我们有太多的依赖阻碍了我们，或者我们没有我们需要的技能。”

我们需要看看[康威定律](https://www.atlassian.com/blog/teamwork/what-is-conways-law-acmi)。我们需要看一下[邓巴的信托团体数量](https://royalsocietypublishing.org/doi/10.1098/rsbl.2021.0158#:~:text='Dunbar's%20number'%20is%20the%20notion,other%20individuals%20in%20the%20group.)。管理层需要更好地理解存在的约束，这些约束塑造了团队合作的方式，然后为团队提供文化和自主权，以决定他们需要做出的小变化。最终，你需要自上而下和自下而上的方法才能真正成功。

**根据团队的拓扑结构，告诉我们不同类型的团队。**

**与流程一致的团队**是许多人称之为[跨职能产品团队的团队。但是今天，对于我看到的大多数产品来说，你不可能只有一个团队。这还不够。因此，我们需要在多个层面上识别价值流。](https://thenewstack.io/how-engineering-leaders-drive-cross-functional-collaboration/)

我最近与一家大型制药公司进行了交谈。在最高层，他们实际上有两到四个主要的价值流——药物开发、诊断和其他——然后你有成千上万的人在为这三个价值流工作。所以你需要把它分解:在这个大的价值流中，我们有哪些较小的工作流可以适应不同类型的客户、不同的市场、不同的地区？

然后你往下走一层。在这些不同的价值流中，我们正在构建哪些产品？在产品中，有哪些不同的流，可能是不同的客户旅程或产品中相当独立的不同功能集，等等。？

所以这种**层级价值流**在一个组织内会很有帮助。每个与流一致的团队都拥有工作流的端到端所有权，工作流可能是产品的一部分，也可能是产品的一组特性。但是你希望这个团队拥有所有权。

[与 DevOps](https://thenewstack.io/platform-engineering-wont-kill-the-devops-star/) 相关，这些团队拥有构建和运行所有权。他们也有想法所有权。理想情况下，他们会进行实验，从用户那里获得数据，并了解我们下一步需要做什么。

然后我们讨论**支持团队**，通常是围绕某个领域的小型专家团队，比如[数据科学、](https://thenewstack.io/how-to-build-a-data-science-enablement-team/)安全或用户研究。

无论哪个领域需要专业知识，我们如何才能以有效的方式将这些知识带给与流程一致的团队，从根本上减少学习曲线，让团队快速了解他们需要做什么来使我们的应用程序或服务更加安全？我们如何获得我们需要的数据，以及我们如何分析数据以获得我们需要的关于我们服务的洞察力？

因此，赋能团队将通过教学、指导和帮助他们快速学习，与流程一致的团队一起完成这项工作。

然后我们在谈论**平台团队**。有点像化名，对吧？从某种意义上来说，平台团队最终成为一个与流程一致的团队，拥有端到端的所有权，只是他们提供的服务是内部的，供组织中的其他团队和内部客户使用。

在大中型组织中，平台团队是一组团队，平台团队内部可能有多个与流程一致的团队，与不同的服务保持一致。也许一个团队正在从事监控服务，而其他团队正在从事某种[站点可靠性工程]-相关服务等等。

> “这是我经常看到的一种反模式，平台变成了所有东西的水桶，变成了一个巨大的混乱，缺乏所有权，缺乏重点，浪费很多，团队超负荷工作，处理很多不是真正优先考虑的事情。”
> 
> **—曼努埃尔·派斯，团队拓扑**

在平台内部，您可能还拥有支持团队。在创业或扩大规模时，该平台可能只是某种维基页面，一些人在那里收集了一些关于如何创建一些数据库的指导，如何以有效的方式为其他团队更快地开始做一些事情——这可以减少认知负荷。

[当你扩展时]你希望每个平台，A，有某种内部凝聚力，[和] B，提供一致的界面和内部客户使用的方式。

例如，基础设施平台不同于数据服务平台，在数据服务平台中，数据服务可能使用基础设施平台，并向组织中的其他团队提供数据服务。

你需要找到不同平台之间的界限，以便每个平台内部都有凝聚力，共同努力，以一致的方式向客户提供这种服务，不会让他们感到困惑。但你也需要分离平台，这实际上是两个不同的东西，它们应该是分开的，这样它们才能更独立地发展。

这也是我经常看到的一种反模式，平台变成了所有东西的水桶，变成了一个巨大的混乱，缺乏所有权，缺乏重点，浪费很多，团队超负荷工作，做很多不是真正优先考虑的事情。

科技行业正处于科技裁员和招聘冻结的时期。你描述的很多内容都暗示了招聘和培训的预算。你将如何调整团队的拓扑结构以适应这种过渡和疲惫的精简时期？

缺少的是**团队第一的方法**——将团队视为向客户交付价值的最小单位。也就是说，我们不太关注个人，而是关注团队:什么能帮助团队做出更好的决策，在工作中更加自主，并更快地向客户交付价值？

这通常与组织其他部门的工作方式不一致，比如培训预算。我们有一个基于视频培训的在线学院。我们有一个工程总监，他们有每个人每个季度的培训预算，也许€每个季度 100 英镑。这位工程总监无法购买我们的一门课程，因为他们在本季度没有足够的预算。

我认为这是一个不要做什么的好例子。它非常关注个人，不支持团队应该做出决定的想法。从培训的角度来看，在这种情况下，您不需要增加培训预算，但相反，如果我们有 10 个人在团队中，那么我们有€1000，这是我们可以按季度使用的。

这就是为什么我们称之为团队第一的方法。这也是团队中的个人把团队放在第一位，然后思考什么对团队和组织有帮助。

将团队作为一个单位来考虑，然后裁员的问题也很有趣，因为，是的，我们可能会有更小的团队，因为不幸的是，我们的人更少了。但团队作为一个整体仍然存在，团队更有能力吸收裁员的影响。

但是你不需要解散团队。你保持团队作为一个单位，即使有一些能力下降。团队拓扑在裁员或经济低迷时期仍然有效。

你不想做的是——我听说过很多公司的例子——解雇那些更有专业知识的人，可能是因为成本更高。当组织中有这些人时，他们是非常有价值的。

我们在团队拓扑中所说的是，你不希望它们成为瓶颈。你不想依赖专家来完成事情。你希望专家能够帮助他人。因此，有专家帮助其他团队学习我们在组织中有差距的地方的网络效应。不要放过那些专家，如果他们接受这种教导和帮助他人的想法，他们将会变得强大。

平台是组织倾向于开始削减预算甚至裁员的另一个领域，因为他们认为，“哦，这是可牺牲的，因为这是内部产品的内部工作。”

但你需要着眼于大局:如果平台做得正确，在这种平台即产品的方法中，那么你可能会看到开发以客户为中心的产品的团队的收益，远远高于你通过削减一些平台服务和团队而获得的收益。

团队拓扑如何定义团队？

我们将“团队”定义为一个通常由五到九个人组成的团体，他们在一起工作了一段时间，并确定了他们喜欢的工作方式。他们相互理解，拥有与客户和组织目标一致的共同使命。

这是一个长寿或持久的团队。这是一个我们团结在一起的团队。这并不意味着它是静态的——当然，人们会离开，一些新人会加入——但团队作为一个单位保持稳定。

工作可能会发生变化，我们可能需要停止对某些产品或工作流的投资，而投资于其他工作流。但我们保持团队作为一个单位，因为这是有很多价值的地方。团队已经经历了一些人所知的团队发展的[塔奇曼模式](https://www.wcupa.edu/coral/tuckmanStagesGroupDelvelopment.aspx#:~:text=These%20stages%20are%20commonly%20known,more%20collaborative%20or%20shared%20leadership.)，团队需要时间真正了解彼此，信任彼此，然后你可以达到更高的绩效水平。

> “你可以通过不同的方式为团队带来创新和新知识。不仅仅是引进新人。你可以确保人们有时间、空闲和预算来学习新技能、进行培训或得到其他团队的帮助。”
> 
> **—曼努埃尔·派斯，团队拓扑**

这与组织创建团队来交付一些项目或一些变更，然后解散团队的情况不同。那么你就不拥有你所构建的服务或能力的所有权，因为你只是在转移人们。所以这不是很有效，因为我们知道成功软件的大部分成本不在开发，而是维护和支持。

如果你有一个拥有该服务的团队，这可以确保它顺利运行，你集成新的方法。你要确保你知道它一直在为客户提供价值。

这会阻碍创新吗？ [David Dame，](https://www.linkedin.com/in/daviddame/)微软的易接近性主管说，一个在一起 18 个月或更久的团队创造了如此普遍的思维方式，以至于减少了多样性和[创新。](https://thenewstack.io/how-platform-engineering-helps-manage-innovation-responsibly/)

团队需要大约六个月到一年的时间来真正凝聚，达到我们可以称之为正在改进和表现的团队的程度。所以在 18 个月之后，这还为时过早，你肯定不想解散这个团队。

我很喜欢 [Heidi Helfand，](https://www.linkedin.com/in/heidihelfand/)的作品，她写了一本书《[动态重新训练》，](https://www.heidihelfand.com/dynamic-reteaming/)讨论了其中的一些模式[以及]我们如何随着时间的推移改变团队。球队的变化是不可避免的。但是如果你解散了团队，那么你就失去了团队所拥有的所有知识。我们可以依赖关于团队所做决策的文档，但是没有什么可以取代团队内部的这种故事讲述。

你可以通过不同的方式给团队带来创新和新知识。不仅仅是引进新人。你可以确保人们有时间、空闲和预算来学习新技能、进行培训或得到其他团队的帮助。

这是我们在团队拓扑中经常谈论的事情:我们如何以一种有效的方式将新的能力构建到团队中？我们并不是说你可以在业余时间自学。我们应该在组织内部建立分享知识的机制。这就是你们拥有支持团队和平台团队的地方。

**关于“团队第一”的理念和交付价值的最小单位是团队的理念，在 DevOps 的意义上，这是否意味着他们是完全自主的？这与平台工程有什么关系，他们应该能够自己构建和运行它？**

该平台的目标是帮助这些流程一致的团队更有效地工作。一些人谈论为这些流程一致的团队创建“黄金路径”——意思是，他们是拥有他们的服务或产品的人，并且他们负责监控、部署等等。

> “传统上，人们总是关注个人，围绕这位 10 倍工程师有一些被高估的想法。我们确实需要有专业知识的人，我们确实希望人们变得更好。但我认为这是对某种英雄文化和/或喧嚣文化的过度依赖。”
> 
> **—Manuel Pais，团队拓扑**

但是我们怎样才能帮助他们减少做这些事情的认知负荷呢？我们能够做到这一点的方式通常是通过平台，该平台提供非常好的监控服务、良好的[可观察性](https://thenewstack.io/observability/)服务、部署服务、持续集成和持续交付管道——例如，所有这些东西都可以作为基础设施平台的一部分来提供。

作为一个平台团队或一组团队，我们需要非常关注的是，这是否有助于与流程一致的团队更好更快地完成这些事情？因为平台以一种不容易使用的方式提供服务，或者它不像应该的那样可靠，这是一种真正的危险。或者它令人困惑，或者不支持与流程一致的团队所需要的用例。

然后你没有帮助他们。你正在增加他们的认知负荷，因为现在我们不得不使用不适合我们需要做的服务，所以这实际上是在减慢我们的速度，而不是帮助我们走得更快。

将平台视为一种产品，理解你的用户，并与他们交流。对你在平台上提供的东西进行快速迭代，尽快从你的用户那里获得反馈。

我们需要优先考虑什么？什么更有价值？因为当你在一个平台上工作时，你可能会有成千上万的请求，因为每个人都有自己的需求。因此，你需要对我们的发展方向有一个产品愿景。对组织更广泛的价值是什么？让我们不要构建只帮助一两个团队的东西。

这一切都是产品思维。做一些用户研究，和你的客户谈谈，看看他们如何使用你的服务。以自助服务的形式提供适当级别的文档，以便人们可以使用平台，而不是依赖您作为平台团队来回答他们的请求。

你认为为什么培养团队第一的心态会有阻力？如果阻力在团队之外会发生什么？

传统上，人们总是关注个人，围绕这位 [10x 工程师有一些被高估的想法。](https://thenewstack.io/the-veracity-and-relevance-of-the-10x-programmer/)我们确实需要有专业知识的人，我们也确实希望人们变得更好。但我认为这是对某种英雄文化和/或喧嚣文化的过度依赖。

所有这些都促使组织更加关注个人表现。从[人力资源]的角度来看，他们关注的是个人，从预算的角度来看，它仍然非常基于项目或交付，而不是基于团队并允许团队交付价值的预算。

问题的很大一部分是试图为我们假设的客户需要的功能或产品或交付品做预算。但是，因为我们周围的事情变化如此之快，在三个月内，你会意识到这一切都是错的，但你有一整年甚至多年的资金。

<svg viewBox="0 0 68 31" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Group</title> <desc>Created with Sketch.</desc></svg>