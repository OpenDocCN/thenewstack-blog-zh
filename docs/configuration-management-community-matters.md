# 在配置管理中，社区很重要

> 原文：<https://thenewstack.io/configuration-management-community-matters/>

配置管理可能不像我们讨论的其他一些主题那样吸引人，但是它仍然在部署、维护和监控几乎每个复杂系统的过程中发挥着关键作用。

11 月 15 日在柏林举行的配置管理营会议上，贯穿始终的一条主线是参与配置管理社区的重要性。

领先的配置管理平台，如 Ansible、Chef、Puppet 等，都是开源产品，而不是专有技术，围绕这些技术的[集体社区](http://www.slideshare.net/geekygirldawn/config-management-community-awesome-awful-or-apathetic)是这些解决方案的重要组成部分。当你问及这个社区最好的部分时，最常见的回答是“人民”，因为他们往往热情、友好、知识渊博，最重要的是，乐于助人。

许多关于社区的技巧、建议和想法当然适用于配置管理之外的其他项目，但这只是从一开始就接受社区参与和开源的一部分。这种面向社区的思维方式在配置管理和其他 DevOps 活动中大放异彩，在这些活动中，甚至经常可以发现为竞争公司工作的人在讨论新的想法和合作方式。

配置管理营甚至是由一群志愿者组织的，他们中的许多人都为竞争对手的公司或技术工作，他们抛开分歧，做一些有助于每个人的事情。这并不是说社区是完美的，存在一些挑战。例如，许多用户扩展软件并贡献这些扩展供其他人使用，但质量往往相差很大，并且当原作者转而关注其他事情时，太多的扩展被放弃。然而，在傀儡社区中，一个名为 [Vox Pupuli](https://voxpupuli.org/) 的团体已经成立，以帮助确保关键模块得到维护。

Puppet 技术产品经理 [Eric Sorenson](https://twitter.com/ahpook) 指出，我们往往是这个领域自动化的忠实粉丝，我们自己开发人员流程的自动化会对贡献产生影响，他为这些开源配置管理工具的维护者和贡献提供了相当多的有用提示。

Sorenson 指出，由 pull 请求触发的自动化测试可以加速贡献，因为您可以立即知道什么事情导致了回归或失败，这允许您更快地合并好的更改。他还谈到了 ChatOps 如何真正实现从监控到构建系统的集成，并在所有开发人员已经在一起的聊天中看到每个变化的后果。索伦森对贡献者和维护者也有一些具体的建议。

对于贡献者:

*   找一个既适合你的气质，又适合你的技术能力的项目。
*   如果你要着手一个大的特性或重构，先花点时间讨论一下吧！
*   反复处理“拉”请求，不要害怕推一堆提交，然后再挤压它。
*   与您的组织合作，以获得回报的批准。

对于维护人员:

*   ￼Set 升级测试基础设施，这样你就可以提交数据——找到或创建一个松散的社区。
*   不要容忍[混蛋](https://thenewstack.io/10x-programmer-just-jerk/)。
*   公开进行设计讨论。
*   找到一些方法来标记你的问题是新手友好的。

提供良好的代码审查是鼓励社区成员为您的项目做出贡献的另一种方式，这个主题在 IBM OpenStack 工程师[斯潘塞·克鲁姆的](https://twitter.com/nibalizer)演讲“操作的代码审查”中有很好的介绍

## YOLO 评论

人们倾向于对代码审查有不同的观点，但是 Krum 认为它是“只有在被多个团队成员检查了缺陷和准确性之后才登陆的代码。”我们倾向于采取的一些方式会对代码评审产生相当大的影响。

其中一种行为就是克鲁姆所说的“YOLO 评论”第一次评审可能不太好，这将责任推给了第二个批准它的人，然后在第二次评审后，它被推向生产。这给第二个人带来了巨大的压力。这个问题在另一个方向上也起作用。如果一个聪明的人给了第一个积极的评价，它一定是好的，第二个人橡皮图章，而没有给它预期的彻底考虑。

https://twitter.com/mikhailgarber/status/634855466972024832

补丁的大小也会对代码评审质量产生很大的影响。较小的补丁得到更详细的审查，而当没有人有时间对一个巨大的补丁进行全面审查时，巨大的补丁有时会被通过或忽略。

他还谈到了“沉默意味着不”的概念。当人们不想说不时，他们通常会保持沉默，特别是如果他们害怕冒犯某人或表达可能不受欢迎的观点，因此，考虑说不可能是一个更好的策略，而不是强行通过可能不会得到社区支持的事情。

## 碰撞机

欧洲核子研究中心的基础设施需求是巨大的，因此自动化配置管理是必须的，该中心运行大型强子对撞机和其他项目。从配置管理的角度来看，系统工程师 [Nacho Barrientos](https://twitter.com/nachobarrientos) 谈到了【cern 如何使用 PuppetDB 中大约￼24,000 活跃节点的 Puppet ，每分钟编译 270 个目录，每天 191 个更改，以及 384 个模块。ops 团队可以单独完成所有这些工作，但是他们选择共享信息并积极参与社区。

《CERN 配置管理系统用户指南》公开发布，其中包含大量关于 CERN 如何实现基础设施自动化的信息。该组织还有一个 CERN ops GitHub 组织，有几十个公共存储库。但是除了共享代码和信息，CERN 工程师也是上游项目的积极贡献者，如 [Foreman](https://theforeman.org/) 生命周期管理工具、 [jRuby](http://jruby.org/) 、模块和 Puppet core，因为他们看到了参与更广泛的配置管理社区的价值。

甚至是关于使用特定工具的演示，包括关于社区的讨论。Red Hat 配置管理架构师 [James Shubin](https://twitter.com/purpleidea) (Red Hat)谈到了 [mgmt](https://github.com/purpleidea/mgmt) ，这是一款下一代配置管理工具，社区中的其他人已经做出了不少贡献。他鼓励人们加入这个项目，帮助构建领域特定语言(DSL)。

Netways 的 Dirk GTZ 谈到了 [Foreman 如何不仅仅是一个傀儡仪表板](http://www.slideshare.net/NETWAYS/foreman-more-than-just-a-puppet-dashboard-cfgmgmt-berlin-2016-dirk-goetz)，强调了如何扩展它以与其他开源项目集成，包括 Ansible、Chef、Salt、Docker，并且他提供了有关如何参与社区的更多信息。主厨的社区发展副总裁 [Nathen Harvey](https://twitter.com/nathenharvey) (主厨)在结束他的[关于栖息地](https://speakerdeck.com/nathenharvey/beyond-infrastructure-automation)的演讲时，呼吁大家行动起来，“让我们一起建设”并链接到“栖息地”的社区页面。

柏林营是一个单轨制的一日活动，下一个[配置管理营](http://cfgmgmtcamp.eu/)是一个为期两天的多轨道活动，将于 2 月 6 日至 7 日在比利时根特举行。

声明:Dawn Foster 于 2012 年至 2015 年在 Puppet 工作，目前拥有 Puppet 的股票。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>