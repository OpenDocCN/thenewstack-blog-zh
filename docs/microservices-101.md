# 微服务 101

> 原文：<https://thenewstack.io/microservices-101/>

这篇文章是

[multipart series](https://www.thenewstack.io/tag/microservices-series)

探索微服务的基础。请每周一回来查看更多的分期付款。

微服务已经得到了技术世界，尤其是 DevOps 圈，嗡嗡作响。这并不奇怪，因为这是利用云计算交付模式的完美技术。然而，与任何快速发展的下一个伟大的事物一样，很难理清所有的宣传与微服务如何实际应用于每天的橡胶遇到道路的项目工作。

对于那些准备学习微服务的实用基础和应用的人来说，新的堆栈可以从这个新兴行业的一些思想领袖那里获得一些内幕。

## 微服务到底是什么？

微服务是一种软件开发的架构方法，基于将应用程序构建为小型服务的集合。每个服务都有自己独特且定义明确的角色，在自己的进程中运行，并通过 HTTP APIs 或消息传递进行通信。每个微服务都可以独立于应用程序中的所有兄弟服务进行部署、升级、扩展和重启。它们通常由一个自动化系统编排，使得频繁更新实时应用程序而不影响最终用户成为可能。

作为优化工作的一种自然方法，我们已经对这个概念很熟悉了。想想看:如今，你的普通云消费者——包括坚定的非技术人员——很容易很自然地使用多种云产品，这些产品本质上是微型产品和微型应用。(他们称之为“应用商店”并不是没有道理的)。而一个普通的企业组织至少使用十几种不同的软件产品和集成:一种工具用于记录业务费用，另一种用于进度跟踪，另一种用于工资管理。你明白了。

采用紧凑和专业的工具来正确完成每项工作是有意义的。微服务正是这样，扩展到企业级。

可以把微服务想象成拼装在一起建立统一模型的乐高积木。首先，开发人员确定构建他们的项目所必需的独立服务“片段”，例如搜索、认证、消息传递、销售处理等。然后，他们从各种可用的选项中进行选择，从开源到交钥匙企业解决方案，然后将所有东西编织成一个功能应用程序。

## 关于容器的一句话

术语“微服务”和“容器”经常一起使用。但是，容器和微服务不是一回事。微服务可以在容器内运行，但也可以作为完全调配的虚拟机运行。也就是说，像 [Docker](https://www.docker.com/) 和 [Kubernetes](https://kubernetes.io/) 这样基于容器的开源系统是开发、部署和管理微服务的非常有效的方式。许多成熟和健壮的工具、平台和其他服务已经存在于容器空间中，使得容器化自然适合基于微服务的应用。

## 微服务的优势

[容器解决方案](https://container-solutions.com/)的联合创始人兼首席执行官[杰米·多布森](https://twitter.com/jamiedobson?lang=en)说:“很简单:微服务让开发者不必浪费时间去重新发明已经解决的技术问题。Dobson 继续说，通过使小型自治团队能够独立开发、部署和扩展他们各自的服务，微服务本质上是“并行开发”，从而成倍地加快了生产周期。

此外，Dobson 指出，持续集成和开发基本上是微服务架构的一部分。“微服务直接消除了项目中的大量基础设施风险。随着基础设施变得几乎不可见，微服务团队可以快速迭代，通常以小时为周期，从而增加价值，同时持续降低“错误功能”的风险，”他说。

换句话说，在微服务中，团队中的每个开发人员都可以忘记底层基础设施，专注于他们的项目。然后，在生产中，如果单个项目模块不能很好地一起工作，那么很容易隔离、分解和重新配置它们，直到它们工作为止。同样，有点像乐高积木。

## 有什么潜在的缺点吗？

微服务是经典单片应用程序的对立面，具有明显的优势。然而，与任何发展中的技术一样，早期采用曲线可能会很陡。目前，这种方法最有效地被网飞和贝宝这样的超大型公司所接受，由于强大的内部资源和工程团队，这些公司已经能够转移到微服务架构。

“当你是一个非常大的、资源丰富的企业，有单独的团队能够管理每项服务并确保可重用性和可发现性时，这很好，”Matt Biilmann 说。比尔曼是 Netlify 的首席执行官和联合创始人，该公司开发和自动化网络项目的一体化平台[最近增加了微服务网关](https://thenewstack.io/netlify-grows-ssg-cms-now-announces-microservices-gateway/)。他补充说，Netlify 已经注意到越来越多的个人开发者“为小项目玩微服务——主要是因为它们很有趣！”

然而，比尔曼继续说，这种痛苦对中间的每个人来说都是真实的。脱离单一的应用架构意味着失去一个固执己见的工作流程，这个流程将所有的部分粘在一起。

“当我们将单片分割成微服务时，我们有可能得到一个非常分散的系统，开发人员需要花费大量时间和精力将服务和工具粘合在一起，并且缺乏使跨项目工作可行的通用模式和平台，”他说。“这种可能性令人惊叹，但为了真正利用它们，我们需要出现能够构建一键安装胶水的供应商。”

作为例证，比尔曼指出了灯堆的出现。像 Linux、Apache web 服务器、MySQL 和 PHP 这样的免费工具为 web 开发开辟了新的可能性——但是当公司围绕像 WordPress、Drupal 和 Joomla 这样的项目构建集成工具时，架构才真正起飞。“你不能通过设置 Apache 和 MySQL 数据库来启动 WordPress，也不能通过配置它们来相互对话。你希望走到一个面板前，点击一个写着“启动一个新的 WP 项目”的按钮。你能做到这一点，是因为在某一点上，行业有足够的动力来构建堆栈，使它成为一键设置。这对于任何技术的广泛采用都是至关重要的。"

幸运的是，同样的市场飞跃正在微服务领域发生。虚拟科技行业正在蓬勃发展，各公司不仅狂热地生产微服务，还生产将它们无缝连接在一起所需的平台、工具和框架。

## 询问你的医生微服务是否适合你

然而，在这个早期阶段，很难衡量这些新兴资源的最佳适用性和最终寿命。更不用说微服务还可能需要增加测试复杂性，并可能增加内存/计算资源。因此，尽管有大量的潜在好处，但该领域的专业人士警告说，微服务并不一定是每个项目的正确解决方案。

一位资深顾问，专门研究遗留企业应用程序的转换，并要求不要透露姓名，他说他仍然是某些场景的整体架构的粉丝。“当您运行同一服务或工作人员的多个实例时，您不一定需要微服务。一个构建良好的整体系统可以很好地适应某些类型的问题。”

此外，他说，创造不可扩展的微服务是完全可能的。“这完全取决于你如何运用基本原则。在没有真正考虑应用这些微服务的问题集的情况下，很容易就开始购买所有想要应用的微服务。”

## 下一个前沿

在真正的微服务方法中，您只运行您需要的小型服务，而不运行其他服务。这是一个圆滑的设置，但是这些服务并不知道彼此的存在，直到您也参与编排它们。直到最近，这种实现和流程编排还超出了许多中小型组织的工程能力。

然而，我们现在在技术的基础设施和支持方面已经接近临界质量。

“微服务架构更快、更安全、更便宜——很多时候，这是更好的方式，”Netlify 的另一位联合创始人 Chris Bach 说。“下一步是可访问性—可行的工作流。现在，我们看到前面和后面的目标都达到了，当这种情况发生时，你知道势头已经达到了。”

这意味着微服务现在可以成为开发者工具箱中的另一个工具。

*接下来:如何评估微服务是否是应用的正确架构，您的组织是否准备好以这种方式构建应用——在技术上和文化上……以及您需要了解哪些知识来为过渡做准备。*

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>