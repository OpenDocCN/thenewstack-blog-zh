# 新遗迹、联网可穿戴设备和会议徽章

> 原文：<https://thenewstack.io/steampunk-badge-version-2-0-yun-model/>

你在最近的一篇文章中读到了我的[“电子会议个性识别装置”](https://thenewstack.io/wearable-computing-electro-matic-conference-personality-identification-device/)。亲自看过的人喜欢将蒸汽朋克主题与 LCD 和 Arduino 结合在一起的想法。然而，它没有任何连通性，而连通性是物联网(IoT)的基本元素。这一次，我们将开始探索使用支持网络的微控制器的联网徽章的想法。稍后，我会告诉你一家公司，他们正在使用稍微不同的技术进行类似的探索。

## 可穿戴…和联网

“可穿戴计算”运动是相当新的。你可能见过在创客活动中闪烁或变色的 LED 小挂件。那些测量你的血压、心跳、银行存款余额和其他疯狂的东西的商业腕带小发明怎么样？后者有时使用近场通信(NFC)或蓝牙联网。

我想让我的徽章做事，并且只对使用 WiFi 和基于手机网络的设备感兴趣。换句话说，一个设备必须有一个无处不在的互联网连接。

我的会议徽章的目标很简单:

*   创建一个对话的破冰方式，在结识新朋友时使用。
*   探索可穿戴设备在现实世界中的作用。
*   确定并发展构建“新堆栈”可穿戴计算产品所需的技能。

## 2.0 版本是一个挑战

您可能还记得 1.0 版本中徽章的设计非常简单。Arduino Pro Mini 连接到一个 1.8 英寸的 TFT 彩色液晶显示屏上，显示我的“Torq 博士”标志的彩色位图图像。它将图像与室内环境温度交替显示，由机载 Dallas 温度芯片检测。

当我开始的时候，把所有东西移植到 Arduino 云上似乎很容易。我告诉你，不是的。

将 Yun 用于联网徽章存在一些挑战。

首先，Yun 使用与 Leonardo 相同的 ATmega32U4 处理器，而 Pro Mini 使用标准的 ATmega328 芯片。Yun 和 Leonardo 都没有将 SPI 接口连接到通用输入/输出引脚。你必须将 Yun 的 6 针 SPI 硬件端口的几条线连接到彩色液晶面板，然后才能看到任何东西。我在那个网站上追踪了一段时间，最终在 Arduino 网站上找到了一个图表。一旦 MOSI(主输出、从输入)、MISO(主输入、从输出)和 SCK(串行时钟)线路连接正确，屏幕就会像冠军一样亮起来。而且速度很快。

我遇到的下一件事是，云上可用的闪存有限。你没有太多的空间来安装额外的 Linux 程序。此外，一直向云上的闪存写入数据可能会磨损它。解决方案是:把所有东西都转移到云的 SD 卡上。当然，SD 卡也可能磨损，尽管它们需要数万次写入周期。Arduino 网站上有一个[漂亮的草图](http://www.arduino.cc/en/Tutorial/ExpandingYunDiskSpace),用于格式化、分区和复制 SD 卡系统操作所需的文件。现在，Yun 的 Linux 端有大约 1 GB 的存储空间，700 MB 用于存储文件和草图。也许我应该看看 LibreOffice 是否能加载。开玩笑的。

我遇到的最大问题是 Arduino SD 和 Bridge 库之间有冲突。需要 SD 库从 LCD 板载 SD 卡中读取位图图像。桥接库函数用于允许 ATmega32U4 (Arduino 端)与 Atheros AR9331 (Linux 端)进行对话，这两者都驻留在 Yun 上。显然，这两个库定义了两个同名的类。因此，当在同一个草图中使用这些库时，您会得到一堆错误。

为什么我不把 Dr. Torq 位图图像放入 Yun 新创建的 SD 存储中，只使用 Bridge 和 FileIO 库加载它们呢？理论上应该行得通。可悲的是，经过一天的尝试和错误，我还没有能够让它在现实生活中工作。

所有这一切的结果是，LCD 可以与 Yun 一起工作，但如果我使用任何桥功能，我就无法从 LCD 的 SD 卡加载位图。也许我会研究以编程方式生成我的徽标图形，而不是位图图像。动画图形可能会抓住人们的注意力。

## 网络部分

到目前为止所做的所有工作都是在我的 Linux 笔记本上使用 Arduino IDE 版本 1.5.8 在我的本地局域网上编程的。对云进行远程编程有点棘手。使用笔记本电脑上的浏览器，使用云的 IP 地址登录到云，并输入管理员密码。进入 IDE，从下拉处理器菜单中选择 Yun。确保端口指向 Yun 的 IP 地址。并且，不要忘记在重启之后，云的网络机器需要一两分钟才能启动并运行。

SSH 在云上也运行良好。我以 root 用户身份登录到该 IP 地址，能够列出文件、使用 vi、运行 shell 脚本和做任何数量的其他命令行工作。

接下来的步骤是为 LCD 显示器和 Yun 建立一个新的蒸汽朋克框架，找出一些适合名字徽章的有趣的网络应用程序，并可能创建一些可编程的图形。

一旦你有了硬件原型，网络化徽章的想法就打开了许多可能性。而且，我甚至还没有触及使用输入/输出功能，如按钮，传感器，发光二极管和伺服。

## 数据分析公司如何打造会议徽章

[新遗迹](http://newrelic.com/)在平行路径上。他们的 2013 年会议徽章比我做的要复杂得多。它拥有一个电动 Imp 大脑，各种 led 和互动按钮，并完全联网。他们还有一个智能手机应用程序，用于徽章设置和配置。公司给每位与会者发了一枚徽章。

虽然他们的 2013 版徽章很酷，但他们的 2014 版徽章小得多，有圆角和电子墨水屏幕。此外，它有各种硬件接口的头，可以通过基于云的 IDE 进行修改。New Relic 鼓励与会者破解他们的徽章，并与其他人分享他们的作品。

徽章提供了大量的会议和与会者数据，并通过“碰撞”徽章来促进无线联系。该公司对会议徽章的兴趣是有道理的，因为 New Relic 是一家数据分析公司。他们的徽章是可穿戴计算走向的一个很好的例子。

新遗迹是新堆栈的赞助商。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>