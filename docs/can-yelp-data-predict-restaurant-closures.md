# Yelp 数据能预测餐厅倒闭吗？

> 原文：<https://thenewstack.io/can-yelp-data-predict-restaurant-closures/>

关于预测分析的老笑话是，它擅长预测过去。但是普林斯顿的一名研究生最近探索了数据科学是否真的可以预测未来。博士候选人[米恰伊尔·阿里菲拉克斯](https://twitter.com/i_am_michalis)声称，仅仅使用来自 [Yelp](https://www.yelp.com/) 的数据，他就开发出了一种算法，能够正确地[猜测一家餐馆是否会在未来四年](https://towardsdatascience.com/using-yelp-data-to-predict-restaurant-closure-8aafa4f72ad6)关闭——准确率高达 91%。

## 明星是没有意义的吗？

第一个惊喜？从平均星级数上你猜不出哪些餐厅会关门。Yelp 星级分布对于开放和关闭的餐馆看起来非常相似。因此 Alifierakis 决定测试一些成功的替代预测指标。例如:

*   这家餐馆是连锁店的一部分吗？
*   附近(一英里内)还有多少家餐馆？
*   它*如何将*与附近的餐馆进行比较(基于价格，但也包括平均评分——以及评论数量)？
*   这些餐馆有多老了？(根据 Yelp 第一次评论的日期估算)。

然而，事实证明，在这些因素的基础上建立更复杂的模型并没有改善结果——所以 Alifierakis 试图优化他已经拥有的参数。线性逻辑回归模型假设了一组有限的结果，比如开放或封闭的结果，并试图使用相关(或“因变量”)变量来估计它们的概率。

Alifierakis 通过制作所有可能关系的网格来调查这一点，仔细校准每个变量的权重——最终实现了他声称的预测开业餐馆时 91%的精确度。

例如，一家银行使用一个模型来确定发放哪些贷款，可能会有 9%的四年违约率，而一家向所有餐馆发放贷款的银行的四年违约率约为 23%。

有趣的是，很难预测哪些餐馆会关闭。他写道:“在被预测将关闭的餐馆中，只有 36%的餐馆在四年内最终关闭了。”但 Alifierakis 认为，投资者更关心哪些餐馆会继续营业，这是他优化的用例。

## 那么是什么决定了成功？

一个有趣的问题是:最终，Alifierakis 没有使用 Yelp 评论的任何信息，只使用了元数据，如评论的数量和首次评论的日期。那么什么样的*决定一家餐厅的成功呢？*

以下是预测一家餐厅是否继续营业的四大特征:

*   它是链条的一部分吗？(“这并不奇怪，因为连锁餐厅的利润率通常高于个体餐厅，”他指出)
*   它的评论比它附近的竞争对手多吗？(“大量的评论表明餐馆的流量更高，但这也是在 Yelp 搜索结果中出现更高的原因，这本身就可以带来更多的流量。”)
*   餐馆老板在 Yelp 上“认领”他们的页面了吗？
*   每周的评论数量。这其实比评论总数更重要。

平均星级和价格等因素也显示出一些相关性——但不如上述因素那么多。

预测一家餐馆将会关闭的首要因素是什么？

*   与之竞争的附近餐馆的数量。[尽管有趣的是，附近有几家*类似的*餐厅会让一家餐厅更有可能继续*营业*。]
*   它是否比它的竞争对手每周获得更多的评论(相对于那些竞争对手)。尽管奇怪的是，更多的评论(平均而言)会让一家餐馆更有可能关门。因为这个数字是通过将总评论数除以餐馆开业的周数计算出来的，所以它受到餐馆年龄的强烈影响——这显然与餐馆继续营业的可能性相关。
*   价格。
*   每周对评论的反应。

其平均星级的标准偏差——以及中位数——也显示了一些相关性，但不如上述四个因素那么多。有趣的是，价格似乎更能预示一家餐馆是否会关门，而不是继续营业。

## 算法背后的人

Alifierakis 正在普林斯顿大学学习化学工程项目，尽管他也“坚信数据改变世界的力量”，根据他的个人网页[。它补充说，他在数据科学和软件开发方面都有经验，但更重要的是，他还通过普林斯顿的孵化器项目在一家食品配送初创公司工作。这家名为“Chow Fleet”的餐厅将食物从原本不提供外卖的餐厅送到普林斯顿校园。](http://michailalifierakis.com/)

但是去年年底，Alifierakis 还参加了 [Insight 数据科学研究员计划](http://insightdatascience.com/)，这是一个为期七周的强化博士后培训研究员计划，在那里他花了三周时间构建他的数据模型。

![San Francisco building with Yelp headquarters - by Caroline Culler - PacBell_Building,_northeast_corner](img/87e2779aae3800180e1241fd37bf1842.png)

“Yelp 评论的文字非常能预测餐厅在短时间内关闭，”他写道，引用了史密斯商学院助理教授 2014 年的一项研究，该研究对未来 90 天内餐厅关闭的预测准确率达到了 70%。这激发了 Alifierakis 自己的研究，成为洞察力和顽强毅力的证明。

他从一个旧的 Yelp 数据集开始，提供了亚利桑那州凤凰城 2013 年以来的数千家餐馆。把范围缩小到仍在营业的餐馆，他几乎立刻就遇到了问题。Yelp 不提供真正的企业 id——当使用 Yelp Business API 提取单个餐馆的数据时，您需要这些 id。幸运的是，Alifierakis 只需将每家餐厅的名称和地址输入 Yelp 的搜索 API，就能获得其中的三分之二。

不幸的是，这似乎造成了对仍在营业的餐馆的偏见。因此，为了创建一个包含大多数餐馆的更完整的数据集，他在 yelp.com 域上使用了谷歌*的*搜索工具，仔细检查了结果，然后将结果商业 id 输入 Yelp 的商业 API。最终的数据集总共包含 3327 家餐馆，其中大约 23%已经停业。

80%的数据用作训练集，而 20%的数据用于测试。

## 接下来会发生什么？

Alifierakis 的文章以一个宏大的结论结束:“这个模型的结果非常有希望，它们表明相对于随机模型，贷款目的有了显著的改善。”

他指出，可以通过识别更多值得关注的因素来改善这一点——甚至可以从 Yelp 之外寻找数据。卫生检查员的评级可能预示着未来关闭的可能性——尽管他补充说，数据“目前对凤凰城来说是不公开的。”一个地区的典型租金也会明显影响盈利能力。你也可以看看人口统计数据或附近新开的场馆。

但是还有一个非常重要的警告。“餐馆的成功目前被定义为餐馆保持营业。

“一个更准确的、更适合贷款目的的成功定义将与餐馆收入相关联，”他总结道。

* * *

# WebReduce

由[尼克·希利尔](https://unsplash.com/photos/xBXF9pr6LQo?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/search/photos/resturant?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的特写图片。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>