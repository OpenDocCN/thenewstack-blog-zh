# 微服务中的区块链是什么样子的

> 原文：<https://thenewstack.io/what-blockchain-looks-like-in-microservices/>

围绕区块链技术作为一种解决方案，有太多的炒作，尽管随着比特币价格的下跌，这种炒作有所减少。问题是，许多人一直在拼命寻找正确的问题。当然，数字货币是一个用例，但 IT 界的许多人也一直在嘀咕在 IT 设备中使用区块链的想法。

正如您所料，大部分讨论都围绕着在分布式系统中使用区块链展开。一些理论上的用途是围绕物联网、分布式交易系统和共识收集，但最终，所有这些用例本质上都归结为该技术的一个简单用途:点对点交易记录。

对于企业来说，事务是日常 IT 工作负载的很大一部分，有一种方法来验证那些冗余的和不可能伪造的事务提供了一组独特的功能，许多开发人员可能从来没有考虑过这种可能性。这些 IT 用例目前主要集中在由阿帕奇基金会联合创始人[布莱恩·贝伦多夫](http://brian.behlendorf.com/)领导的 [Linux 基金会](https://www.linuxfoundation.org/)开源项目 [Hyperledger](https://www.hyperledger.org) 。

该项目已经迅速获得了一些世界上最大的软件公司的关注，包括 IBM、SAP、Intel、NEC 和富士通。到目前为止，这一努力已经产生了许多开发者框架，旨在使不精通该技术的人更容易创建区块链支持的应用程序。

Hyperledger Fabric 就是为这个用途而设计的:构建企业应用程序。自从去年 7 月[1.0 版](https://github.com/hyperledger/fabric)发布以来，这个项目已经有了相当大的发展。今天，它包括 96 个贡献者。Hyperledger 旗下的其他项目包括用于管理大量分类账的 Sawtooth，以及可以在区块链上运行的可允许的智能合同解释器 [Burrow](https://www.hyperledger.org/projects/hyperledger-burrow) 。

今年早些时候在奥克兰举行的[开发者周](http://www.developerweek.com/)上，[Tibco](https://www.linkedin.com/in/mike-myburgh-6706333/)首席技术官办公室首席顾问 Mike Myburgh 展示了一个概念架构，其中包括通过 Hyperledger 的区块链，以产生一个用于微服务的分布式交易系统。

Myburgh 说，区块链可以用来建立一个“分布式记录系统”。当您有一个区块链时，您在网络上有一组存储事务的节点。这是一个存储交易的点对点系统，没有中央数据库。没有人拥有这些数据。审计跟踪在区块链中被捕获，并且是不可改变的，”Myburgh 说。

再加上将合同嵌入到区块链应用程序中的能力，这意味着可以基于事件自动触发操作，并且这些事件和操作可以在一个容易分析的交易跟踪中得到解释。因此，如果 SLA 被破坏，分布式事务存储确保该破坏不是骗局，并且可以立即影响系统的变化以解决该破坏。

“智能合同可以存储在实际的区块链之上，并复制到所有不同的主机。所有网络方验证该交易，并且该块被添加到链中。区块链背后的技术其实并不新鲜。新的是，区块链的工程师将所有这些放在一个解决方案中。企业用例需要在区块链网络中自动执行可编程逻辑的能力。

因此，Myburgh 说，IT 中的区块链提供了一个“通过智能合同降低风险、提高效率和自动执行业务逻辑的机会”。智能契约执行在计算上比本地执行更昂贵，但是没有单一的控制源:多个参与者运行相同的代码。此外，代码通常可以被所有参与者查看，这可能不是所期望的。代码是网络本身的一部分，”Myburgh 说。

作为企业应用程序的示例，Myburgh 引用了一家农产品公司和一家超市。当卡车将农产品运送到市场时，车辆冷藏室中的传感器，甚至可能是农产品集装箱本身中的传感器，将持续测量温度。

如果温度在设定的时间段内上升到设定的水平以上，则该产品可以被认为违反了合同，因此，该传感器数据可以在区块链触发一个事件，取消该产品的交付合同，并为买方获得退款，而无需任何人工参与。

然而，这确实存在一些问题，最值得注意的是，进入传感器的数据被破坏或篡改的问题。Myburgh 说这个问题的解决方案是零知识证明。这是一项由关注隐私的加密硬币 [Zcash](https://z.cash/) 首创的技术。

零知识证明允许双方验证某件事情实际上已经发生，而无需传递关于该事情的信息。这有点像 20 个问题，其中一方重复问另一方关于隐藏信息的问题，得到真或假的回答，从而辨别所讨论的事情是否真的发生了。理想情况下，如果交易确实发生了，所有的问题都将返回 true。

实际上，这意味着由计算证明组成的大量来回交易，其结果被发送回提问方以验证真实性。虽然零知识证明并不一定是新的，但是 Zcash 的出现将一种新的证明方式推向了前沿，称为 [zk-SNARK](https://eprint.iacr.org/2013/879.pdf) 。虽然这都是复杂的大学数学，但结果是这种新方法缩小了所需证明的规模，允许该技术在区块链内部使用。

将区块链用于商业的想法现在当然很热门，但是希望实现这项技术的企业所面临的问题远比简单的软件问题复杂。一个大问题是智能合同是否算合法合同。Myburgh 说，这归结于这样的条款是否可以容易地自动化。

[Linux 基金会](https://www.linuxfoundation.org/)是新堆栈的赞助商。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>