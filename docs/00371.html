<html>
<head>
<title>PostgreSQL 9.5 Geared to Liberate Enterprises from the Data Warehouse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PostgreSQL 9.5旨在将企业从数据仓库中解放出来</h1>
<blockquote>原文：<a href="https://thenewstack.io/postgresql-9-5-geared-liberate-enterprises-data-warehouse/#0001-01-01">https://thenewstack.io/postgresql-9-5-geared-liberate-enterprises-data-warehouse/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">IT系统架构师长期以来已经习惯了这样一种观念，即数据分析不应该直接在事务数据库上进行，以免使系统过载并降低性能。正是这种思想催生了数据仓库，历史数据可以被传送到数据仓库并进行深入分析。</p>
<p class="translated">现在，PostgreSQL开源数据库管理系统在即将推出的大型核心计数服务器的帮助下，希望收回分析工作量，为用户节省资金和设置辅助数据仓库系统的管理麻烦，并让他们能够查询实时数据。</p>
<p class="translated">新版本使系统更接近于“使用PostgreSQL作为一个纯粹的分析平台”。PostgreSQL核心团队的主要维护者之一、提供PostgreSQL商业发行版的EnterpriseDB的高级数据库架构师Bruce Momjian说，从历史上看，PostgreSQL是一个OLTP或在线事务处理数据库。</p>
<p class="translated">“人们厌倦了将他们所有的OLTP都转储到分析数据库中。这些数据是旧的、陈旧的，并且有很多开销。Momjian说:“有一大堆事情是你在数据副本上做不到的，而在实时数据上却可以做到。“我们已经看到了很多对实时数据分析的请求，这一(版本)让我们更接近这一目标。”</p>
<p class="translated"><a href="http://www.postgresql.org/docs/current/static/release-9-5.html" class="ext-link" rel="external "> PostgreSQL 9.5 </a>，现在可以从<a href="http://www.postgresql.org/download/" class="ext-link" rel="external ">下载</a>，它提供了许多新的特性来为数据仓库风格的工作做准备，以及一些性能改进来处理多种工作负载。</p>
<p class="translated">在EnterpriseDB进行的基准测试中，PostgreSQL 9.5比PostgreSQL 9.4提高了96%，同时在496 GB RAM上运行的24核系统上提供64个并发连接。</p>
<p class="translated"><a href="http://www.enterprisedb.com/" class="ext-link" rel="external "> EnterpriseDB </a>的产品和服务副总裁马克·林斯特说:“我们在性能和可伸缩性方面做了很多工作。“支持分析的重要功能有所增加，但这些功能表明我们可以利用摩尔定律为我们提供的更大优势。”</p>
<p class="translated">仅在几年前，最大的PostgreSQL实现运行在8核或16核服务器上，拥有大约5TB的数据。林斯特说，现在用户希望在32核甚至64核的机器上运行数据库系统，并保存几十兆兆字节的数据。</p>
<p class="translated">EnterpriseDB充当PostgreSQL的赞助商，并贡献代码以使其更适合大规模使用。例如，该公司贡献了支持共享缓冲区并发和锁定管理的特性，为同时支持更多用户铺平了道路。</p>
<p class="translated">“随着内核数量的增加，管理并发性、锁定和共享缓冲区变得非常关键，”Linster说。“您有几十个用户同时访问相同的信息，因此您希望确保锁定机制尽可能高效。如果我从共享缓冲区读取数据，而你也想读取同样的数据，我们希望尽可能减少你的等待周期。”</p>
<h2 class="translated">新的分析功能</h2>
<p class="translated">数据库系统提供了许多数据仓库中常见的新分析特性，包括分组集、立方体和汇总。它们都提供了可以通过一系列标准SQL操作符(如UNION ALL)执行的功能，尽管它们使执行这项工作变得更加容易，加快了复杂查询的执行时间，并提供了制作更细微命令的方法。考虑需要汇总不同部门、地点和工作角色的员工人数等信息。</p>
<p class="translated">Momjian说:“这种(方法)的效率是只检查一次数据。"过一段时间后，告诉人们使用UNION会变得很尴尬."</p>
<p class="translated">另一个应该有助于分析的新特性是一种叫做BRIN(块范围索引)的新索引类型。BRIN可以生成非常小的索引来描述一系列信息，例如最小值和最大值，这使得查询在查找特定范围内的数据时可以跳过大量的行。有了BRIN，100GB的数据可以在100KB左右的范围内汇总。</p>
<p class="translated">“布林创造了一个过滤指数，”Momjian说。“你在一个数万亿字节的表中寻找一件紫色衬衫，我基本上可以缩减该表，知道紫色衬衫将在该表的百分之一以内。”</p>
<h2 class="translated">UPSERT做得对</h2>
<p class="translated">用户最感兴趣的特性之一是引入了UPSERT命令，它将INSERT和UPDATE命令合并到一个调用中，这样，如果数据已经存在，它可以自动将INSERT转换为UPDATE。PostgreSQL没有特定的UPSERT命令，而是提供了一个可以与INSERT一起使用的特殊子句，可以实现相同的结果。</p>
<p class="translated">这是一个其他数据库系统已经有一段时间的特性，Momjian承认他对PostGreSQL直到现在才拥有这个特性感到有点尴尬。</p>
<p class="translated">Momjian说，事实证明，UPSERT(在某些系统上也称为MERGE)在其他数据库系统上的许多实现“处理得非常糟糕”。实现这个特性是一项困难的任务，尤其是处理数据库被多方同时更新的用例。在许多其他系统中，两个人同时对相同的数据进行UPSERT只会导致一个用户或两个用户收到错误消息，这不是处理这种情况的最佳方式。</p>
<p class="translated">PostgreSQL团队不想只是拼凑一些会导致技术债务的东西，这些债务以后会由开发人员或用户来解决。他们对结果感到满意。</p>
<p class="translated">“我们的实现的好处是它从不产生意外错误。你可以让多个人来做这件事，而且对性能的影响很小，”Momjian说。因为它可以同时处理多个表，所以它甚至可以用于将一个表合并到另一个表中。</p>
<p class="attribution translated">专题图片:<a href="http://www.biography.com/people/simon-bolivar-241196" class="ext-link" rel="external ">西蒙·玻利瓦尔</a>，<a href="http://joabj.com/Photos/2015/1501-SA-Bushwick-SimonBolivar-DasicFernandez.html" class="ext-link" rel="external ">纽约街头艺术</a>达西克·费尔南德斯。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>