# Bigmachine 和 Bigslice:两个新的开源无服务器项目

> 原文：<https://thenewstack.io/bigmachine-and-bigslice-two-new-open-source-serverless-projects/>

生物技术初创公司 [Grail](https://grail.com/) 正在建立自己的基础设施，以支持它在建立模型的同时正在进行的数据科学工作。它最近开源了两个专注于大数据的无服务器项目——[big machine](https://github.com/grailbio/bigmachine)和[big slice](https://bigslice.io/)——因为它加倍下注 Go 作为其选择的语言。

“在这种情况下，我们要做大量的 R&D、发现和建模工作，我们需要能够非常非常快速地完成实验。Grail 的软件工程师 Marius Eriksen说:“我们必须拥有敏捷快速的基础设施。

 这家位于加州门洛帕克的初创公司专注于在癌症可以得到有效治疗的时候早期发现癌症。它正致力于开发一种通过观察血液中的细胞碎片来检测多种癌症的单一血液测试。它使用机器学习技术来检测癌症，并确定癌症起源于身体的哪个部位。

美国食品药品监督管理局最近为 Grail 的循环无细胞基因组图谱(CCGA)研究授予了突破性设备称号— [快速跟踪](https://www.biospace.com/article/releases/grail-announces-significant-progress-with-multi-cancer-early-detection-test-including-fda-breakthrough-device-designation/)开发、评估和审查。总的来说，该公司的目标是招募 165，000 名参与者。它已经招募了 100，000 名接受乳房 x 光检查的女性作为它的奋斗子研究，并期望在明年报告结果。

因为试验中每个人的基因组测序可以产生超过 1tb 的数据，所以该公司处理大量数据集。它建立模型的方法依赖于快速的反馈周期，研究人员建立模型来测试他们在真实数据上的想法，并从结果中学习。

“我们相信计算是我们工作的核心。我们需要非常擅长运行大规模计算工作，”埃里克森说。

“Grail 建立在非常重视技术基础设施的理念之上。我们决定要遵循现代软件工程实践，我们真的想专注于可伸缩性和速度。”

它运行两种主要类型的数据处理管道:生物信息数据处理，以从生物学角度理解原始测序数据和机器学习模型——进行特别分析，建立最终决定产品性能的分类器。

该公司开始将 Go 用于这两种类型的工作负载，并决定需要围绕代码构建基础设施，而不是相反。

“这是一种非常简单的语言。这对新人来说非常平易近人，”埃里克森说。“大量的生物信息处理可能会非常耗费性能；有些代码只需要运行得非常非常快。Go 提供了一些工具，可以让你思考代码的性能，并编写出高性能的代码。我们发现它非常适合。”

它发现需要更广泛地分配工作负载。

“…我们需要某种方式来进行集群计算。我们并没有将代码注入到现有的集群计算系统中，比如 Spark，我们认为将基础设施引入到现有的代码中会更容易。与此同时，也要重新思考这些集群计算系统如何在现代云计算环境中实际工作，”埃里克森说。

“例如，像 Spark 这样的系统是在现代云时代之前构建的，从某种意义上说，它们不是云原生的。我们希望构建完全包含云计算提供商提供的各种抽象的基础设施。”

他说，在这种情况下，云原生意味着不利用像 Kubernetes 这样的第三方基础设施，而是直接根据各种云提供商提供的 API 构建。

Bigmachine 提供了一个库和机制来编写跨集群自分布的程序。它提供了一个 API，让驱动程序处理来自运行分布式工作负载的机器集群的数据。用户代码通过服务公开，服务是与每台机器相关联的有状态 Go 对象。

Eriksen 说:“我可以使用 Bigmachine APIs 编写一个程序，它可以将自己分发到任意多的机器上。“这完全是在你写的程序里指定的。这样做不需要外部配置或操作。

“…Bigmachine 负责一切事务，从管理临时添加的机器集群，到它们如何安全地相互通信，再到如何对它们进行监控。它负责处理能够在云提供商上处理大型机器集群的所有操作方面。这几乎就像拥有 Kubernetes，但作为一个库，它直接用于单个程序，而不是共享基础架构。”

到目前为止，Bigmachine 支持 EC2 上的集群，但是也可以用 Go 接口在其他系统上实现。

Bigslice 也是一个构建在 Bigmachine 之上的库。它类似于 [Apache Spark](https://spark.apache.org/) 和 [FlumeJava](https://ai.google/research/pubs/pub35650) ，但是用 Go 编写，是为无服务器计算设计的。

“这样做的结果是，您只需拥有云计算环境的证书，就可以构建一个 Bigslice 程序。它能够直接利用这些资源，而不需要任何其他操作考虑，”埃里克森说。

“当你运行一个 [Bigslice](https://github.com/grailbio/bigslice) 程序时，它会直接在你的云提供商上分配机器，完全透明地分配自己，并将其工作负载分配给已经分配的机器。对于用户来说，没有额外的设置或需要考虑的事情。你真的只需要一些证书。…它不依赖于其他软件作为中间媒介。”

你可以像编译一个普通的 Go 二进制文件一样编译它。他说，当你运行那个二进制程序时，它自己执行那个计算，分配节点，分发自己，处理运行这样一个集群的所有操作方面，然后当它完成或它需要更少的资源时，集群会相应地自动缩小。

Bigslice 公开了一个可组合的 API，允许您根据一系列调用用户代码的数据转换来表达数据处理任务。Bigslice 使用顺序计算，一步一步地说明数据如何转换，将该过程并行化，将数据集分成许多更小的部分，它们可以放在内存中，转换可以在许多机器上并行执行。它还可以根据需要重新排列数据，进行连接或归约等操作。

“通过使用像 Spark 这样的现成系统，我们可以实现很多相同的目标。他说:“把 Go 作为我们的首选语言，在 Spark 之类的东西上使用 Go 是相当笨拙的。“我们认为，围绕我们已经拥有的代码构建基础架构要比将这些代码注入一个不了解其功能的系统更简单。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>