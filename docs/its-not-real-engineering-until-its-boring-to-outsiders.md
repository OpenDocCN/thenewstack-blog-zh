# 直到它变得无聊(对局外人来说)才算真正的工程

> 原文：<https://thenewstack.io/its-not-real-engineering-until-its-boring-to-outsiders/>

[](https://www.linkedin.com/in/teddunning/)

 [泰德·邓宁

泰德是惠普公司旗下 MapR 公司的首席技术官。他是计算机科学博士，著有 10 多本关于数据科学的书籍。他在高级计算领域拥有超过 25 项专利，曼陀林和吉他都弹得很差。](https://www.linkedin.com/in/teddunning/) [](https://www.linkedin.com/in/teddunning/)

我的第一份工作是在洛斯阿拉莫斯做激光聚变项目的实习生。这是令人兴奋的，因为在巨大的激光和高电压。我的工作也很令人兴奋，因为我们真的不知道有多少氘粒子可以被粉碎，也不知道它们会产生多少中子通量。这就是科学。

在我最近的工作中，我们构建软件，使我们客户的基础设施团队能够提供服务，这些服务可以运行多年，不会出现用户明显的失误或中断。硬件出现故障。发现 bug。然而，用户得到了一个稳定的平台，它今天的表现和昨天一样。这就是工程学。

加入其中任何一个团队都是令人兴奋的。两者都涉及到与顶尖的思想家一起精确而巧妙的解决难题——以及一堆不太难的问题。致力于核聚变科学有望解决全球变暖和能源供应问题，但致力于数据工程实际上是为了养活和保护今天的人们。

让这项工程有价值的关键是让它坚如磐石、可靠可靠，让使用数据的人基本看不到它。让我们看看这是如何做到的。

## 隐藏激动人心的部分

如果你仔细观察数据系统，我们每天使用的计算技术的复杂性实际上是惊人的。构建所有这些技术的智力挑战同样令人震惊和兴奋。

然而，现代计算机令人难以置信的胜利并不在于它的复杂性或智力成就。相反，事实上几乎没有人需要知道它的大部分。胜利在于，这些令人难以置信的复杂系统几乎一直在工作，而大多数人却不知道实际发生了什么。

也就是说，这项技术之所以令人惊叹，主要是因为它可以无聊地、无形地、不可思议地可靠。如果你想通过使用技术而不是发明技术来继续你的生活，无聊是好的。

在计算机科学中，使这成为可能的名称是关注点分离。这种分离不仅适用于数据基础设施的工程和它的使用，也适用于支持业务中不同团队之间关注点分离的技术。开发人员和系统管理员之间或者数据科学家和 IT 团队之间的关注点的有效分离对于数据的实际使用非常重要，尤其是在大规模的情况下。

为了帮助理解我所说的关注点分离是什么意思，考虑这个简单的情况:构建一个从许多位置接收数据进行集中分析的系统。这个系统将有代码来处理数据摄取和代码来处理数据分析。摄取的实现问题应该与摄取代码隔离开来。换句话说，当添加新的摄入位置时，分析代码不应该改变。类似地，当新类型的分析完成时，摄取代码不应该需要改变。为了运行良好，这些不同的关注点应该尽可能地分开。

此外，如果支持这些功能的数据基础设施设计得很好，那么它对于摄取和分析团队来说应该几乎是不可见的。这允许每个团队，包括基础设施团队，专注于他们自己的专业工作。令人兴奋的东西应该是团队从数据中构建的东西，而不是使用使数据和计算可用的数据技术有多困难。

## 真实世界示例:使数据移动不可见

在更复杂的情况下，这种关注点分离的一个很好的例子是数据移动在我工作的大规模文件系统的后台发生的方式。这就是为什么它在实践中很重要:

在我们经常遇到的各种情况下，一个存储设备上的数据需要在另一个存储设备上。这种数据移动需求可能是因为用户要求将数据[镜像到另一个集群](https://www.cio.com/article/3601695/two-way-traffic-at-the-edge-a-guide-for-edge-to-core-computing.html)。或者，从磁盘、服务器或网络故障中恢复可能需要数据移动。可能安装了新硬件，或者一个工作负载的读或写操作开始与另一个工作负载的读或写操作发生冲突。

但是，一旦您开始移动数据，特别是当您因为大多数用户不需要知道的原因而移动数据时，重要的是不要让数据移动干扰用户期望发生的事情。这一点都不容易，因为我们经常谈论一个系统，它同时针对数百台服务器上的数千个磁盘进行数万次读写操作。

我们为防止干扰所做的是将一些用于避免网络拥塞的想法扩展到我们的数据基础架构处理数据移动的方式。数据基础设施监控每条消息往返需要多长时间，以便观察和自动调整干扰。这种方法真正酷的一点是，将这些想法应用于大规模全局优化一系列数据传输过程，结果证明比优化网络链路这一更为人所知的问题要有效得多。最终结果是，可用的网络和磁盘资源可能会被后台传输完全饱和，而具有更高优先级的操作可以在需要时几乎瞬间切入。这种方法即使在传输涉及大量延迟时也有效。

从内部工程的角度来看，这是非常令人兴奋的东西，但真正震撼大地的是，这一切都可以发生，而用户不必转动任何旋钮或进行任何调整。移动数据的技术完全淡出了人们的视野。大多数用户甚至不需要知道这些传输正在发生，除非在极少数情况下，大量硬件突然出现故障。用户的应用程序级关注与系统维护和修复的系统级关注完全隔离。因此，系统性能尽可能是可预测的。

请记住，数据传输的自动控制和优先级划分只是一个例子，说明了如何设计和构建数据基础设施来支持多个层面上的关注点分离，做需要做的事情，同时远离人们的视线。

## 让它成为现实:一个实用的解决方案

在我工作的名为[HPE·埃兹迈拉数据结构](https://www.hpe.com/us/en/software/data-fabric.html)的数据基础设施中，我们公开了一个名为[数据结构卷](https://docs.datafabric.hpe.com/62/AdministratorGuide/c_managing_data_with_volumes.html)的东西，以允许用户在平台级别而不是应用程序级别管理安全性、合规性和大规模数据移动的许多方面。对于大多数用户来说，几乎在任何时候，这些卷都与普通的目录没有区别，但是它们提供了管理数据的[键句柄](https://community.hpe.com/t5/HPE-Ezmeral-Uncut/What-s-your-superpower-for-data-management/ba-p/7100920#.YDNEi-lKhE4)。管理的大部分方面都是在数据结构内部自动完成的。在 fabric 中嵌入这些管理方面可以让它们从视图中消失，而开发人员和数据工程师需要关注的处理数据的功能方面可以变得非常突出。

要了解有关数据结构卷如何提供关注点分离的更多信息，请阅读“[您在数据管理方面的优势是什么？”](https://community.hpe.com/t5/HPE-Ezmeral-Uncut/What-s-your-superpower-for-data-management/ba-p/7100920#.YIJKK-lKhE4)和“[如何丢弃数据:解决大规模数据删除的隐藏挑战。](https://www.cio.com/article/3613933/how-to-discard-data-solving-the-hidden-challenge-of-large-scale-data-deletion.html?utm_source=thenewstack&utm_medium=website&utm_campaign=platform)“Data fabric 让您可以自由地让数据物流变得枯燥乏味，同时我们帮助您保持构建数据 fabric 的兴奋感。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>