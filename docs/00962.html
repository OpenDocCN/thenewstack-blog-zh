<html>
<head>
<title>How Database Indexes Really Work</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据库索引是如何工作的</h1>
<blockquote>原文：<a href="https://thenewstack.io/how-database-indexes-really-work/#0001-01-01">https://thenewstack.io/how-database-indexes-really-work/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="attribution translated"><a href="https://www.influxdata.com/" class="ext-link" rel="external "> InfluxData </a>赞助了这篇文章。</p>
<p class="translated">我越来越喜欢数据库，这让我问了很多关于它们如何工作的问题，我最近痴迷于数据库索引。</p>
<p class="translated">以前，我知道如果我想让一个特定的列或字段比其余的更快，我会对它进行索引。当我第一次学习编码时，这是我的大脑所能处理的，但是作为开发人员的成长意味着扩展我的基础知识，比如数据库索引到底是什么以及它为什么存在。</p>
<div id="attachment_5668401" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-5668401" decoding="async" loading="lazy" class="size-full wp-image-5668401" src="../Images/7e85bd5dd3398aa33b1e5d8b34aeaea0.png" alt="" data-id="5668401" data-original-src="https://cdn.thenewstack.io/media/2018/09/319a2980-katy1.png"/><p id="caption-attachment-5668401" class="wp-caption-text translated">作为一名开发人员，有很多方法可以成长</p></div>
<h2 class="translated">什么是数据库索引？</h2>
<a href="https://www.influxdata.com/" class="clearfix infoBlock " target="_blank">

<div class="infoBlockTextBlock">
<p class="infoBlockTitle translated">凯蒂·法默</p>
<p class="infoBlockText translated">凯蒂和她的丈夫以及两条狗住在加州的奥克兰(其中至少有一条会和她聊一些有趣的科技话题)。她喜欢试验代码，破坏东西，并试图修复它。她在科罗拉多州丹佛市的图灵软件与设计学院学习编码，这给了她一个绝好的机会，在她知道如何修复之前就把东西弄坏了。</p>
</div>
</a>
<p class="translated">想象一下，我们正在旧金山寻找我们的朋友克里斯。我们知道她住在旧金山，但不知道她的地址。虽然每栋建筑都有一个唯一的地址，使我们可以很容易地找到它，但我们需要一种方法将我们要找的人Chris与她的唯一地址联系起来。在这种情况下，我们必须在旧金山挨家挨户敲门，直到找到她。那不是很有效率(可能也不是个好主意)。但是如果我们有一个目录把克里斯和她的地址联系起来，123 Nunya Lane，我们可以直接走到那里。</p>
<p class="translated">这与数据库索引的原理相同。数据库索引是一种数据结构，类似于数组或散列。这只是我们组织数据的一种方式。在这个例子中，我们有一个指向地址的名称索引。</p>
<p class="translated">那么，为什么我们的数据库中需要一个数据结构，也就是大数据结构呢？</p>
<div id="attachment_5668388" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-5668388" decoding="async" loading="lazy" class="size-full wp-image-5668388" src="../Images/8c19ebc81c2e05c0905a7751ebf256ad.png" alt="" data-id="5668388" data-original-src="https://cdn.thenewstack.io/media/2018/09/9050e3bc-katy2.png"/><p id="caption-attachment-5668388" class="wp-caption-text translated">你永远不知道谁会在旧金山开门</p></div>
<h2 class="translated">为什么数据库需要索引？</h2>
<p class="translated"><img decoding="async" loading="lazy" class="size-full wp-image-5668376 alignleft" src="../Images/d977e78a46ae1eb777324f16898f21b9.png" alt="" data-id="5668376" data-original-src="https://cdn.thenewstack.io/media/2018/09/b5feeea1-katy3.png"/></p>
<p class="translated">我们在数据库中保存了如此多的东西——几乎是我们认为以后可能需要的任何东西，从用户凭证一直到送到我们家的比萨饼的经度和纬度。如果没有索引，数据库就只能在旧金山挨家挨户敲门，或者以线性方式搜索每一条记录。有时候，这很好。话又说回来，一些数据库存储了数亿条记录，所以线性搜索可能需要十个步骤或525，600或3亿条记录。我们必须考虑<em>潜在的</em>步数。如果没有索引，数据库在搜索每条匹配记录时可能会以极其缓慢的查询结束，这可能会导致等待查询的累积。延迟和总体响应时间将会增加，等待这些查询结果的任何人要么必须培养一种爱好，要么更有可能使用不同的应用程序。</p>
<h2 class="translated">应该索引什么？</h2>
<p class="translated">当决定向数据库添加索引时，我们需要考虑我们的数据。为每个列或字段编制索引也会产生负面影响。如果我们创建10个索引，那么向数据库写入一条记录就变成了11次写入:一次写入数据库，一次写入每个索引(假设该记录包括所有索引列/字段)。作为一个指导原则，我们希望索引最常被查找的数据。大量数据库查询的性能提高抵消了写入索引的成本。</p>
<h2 class="translated">关系数据库索引和NoSQL数据库索引之间有什么区别？</h2>
<p class="translated">在关系数据库中，索引是按列创建的。我们可以选择任何列，甚至是列的组合来创建索引。</p>
<p class="translated">NoSQL数据库也可以有索引！由于数据库的多样性，非关系数据库领域的惯例要少得多，但是大多数数据库都有关于如何索引数据的优秀文档。我喜欢<a href="https://docs.influxdata.com/influxdb/v1.6/concepts/time-series-index/" class="ext-link" rel="external "> InfluxDB的索引</a>，其中作为标签插入的数据被索引，而作为字段插入的数据不被索引，所以如果我不想的话，我不必考虑更多的索引。</p>
<h2 class="translated">摘要</h2>
<p class="translated">数据库索引是理解我们的数据库如何花费时间和资源的基础部分，创建它们鼓励我们更多地了解我们的应用程序和它们产生的数据。我已经觉得自己更聪明了。</p>
<p class="attribution translated"><a href="https://www.influxdata.com/" class="ext-link" rel="external "> InfluxData </a>是新堆栈的赞助商。</p>
<p class="attribution translated">凯蒂·法默的原创作品。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>