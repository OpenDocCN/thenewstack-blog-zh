# Innersource:在公司防火墙后构建开源项目

> 原文：<https://thenewstack.io/github-bloomberg-talk-using-innersource-build-open-source-project-development-behind-company-firewalls/>

随着近年来开源代码共享的激增，工程师、开发人员和维护人员已经接受了这种让社区参与进来使代码对所有人都更好的新方式。项目被建立，软件被编写，文档化和维护，生活变得更容易，编码之神被安抚，直到你进入公司的防火墙之后。

在防火墙后面，保守派掌握着权力。长期以来被认为是正确的实践被严格坚持，即使它们不再起作用。但是那些已经看到开源力量的人开始改变事情。变得更好。

输入“innersource”，O'Reilly Publishing 的 Tim O'Reilly 早在 2000 年就定义了它，称之为“在公司内部使用开源开发技术”

早在 2012 年，当内包开始获得牵引力时，Red Hat 扩展了定义:

*“如果实施得当，结果可能是惊人的——利用开发人员的能量和激情，同时帮助推动软件重用和提高组织的投资回报率……它还让您的开发人员自由地向您展示他们在自由创新时可以做什么。”*

## Innersource？这到底是怎么回事？

在最近的一次采访中，[GitHub 的产品副总裁 Kakul Srivastava](https://twitter.com/kakuls) 说，管理 innersource 可以归结为两个基本问题:人们进出这个项目的流程是什么？项目中的任何人都可以找到关于项目任何部分的任何信息。

“在旧的企业模式下，重点是‘我们只想让事情运转起来，把它做好，然后把它推出去。’GitHub 的开源负责人 Brandon Keepers 在同一次采访中说:“而 innersource 会让你考虑‘在这个项目中与你互动的其他人会有什么样的体验’。

他用一个 GitHub 打开一个新项目的 innersource 过程的例子来解释。该流程有一个打开新项目的大清单，包括“在提及”功能，当项目打开时，团队中的每个人都会收到一个要立即完成的任务列表的通知。他最近打开了一个项目，填写了描述和建议的名称。不到两分钟，法律部的人过来告诉他，他搜索了商标和其他冲突，这个名字看起来没有问题。获得批准后，公共关系团队开始行动。在不到五分钟的时间里，商标就被制作出来了。

## 礼物源源不断

内在资源的效率是不断给予的礼物。比如在 GitHub，所有的博文都要经过 GitHub 软件。有人写了第一份草稿，在博客文章库中添加了一个 pull 请求。其他团队成员可以过来并做出贡献，最终草案触发算法，检查文化不敏感的语言和其他内部标准。

随着存储库开始填满，模式开始建立。存储库维护者可以观察模式，然后将每次创建新博客文章时运行的规则放置到位。例如，短语“今天，我们很高兴地宣布…”在一天内就会失效，并会自动生成一条消息，说明帖子未被批准的原因。

所有反馈都是自动的。“我们发现，与迂腐的人类相比，人们更容易接受迂腐的机器人的反馈，”Keepers 说。“机器人往往更可靠一点。”

那么，为什么理解如此缓慢呢？据斯利瓦斯塔瓦说，有几个原因。首先，开源社区的大多数成员使用的 GitHub 产品很容易适应防火墙后的软件开发。GitHub 在内部项目中使用他们的软件已经有很长时间了。“在 innersource 很酷之前，GitHub 一直在做 innersource，”Srivastava 说。

第二，高层管理人员通常很难理解这种巨大的观念转变。但是，随着如此多的工程师使用 GitHub 管理他们的开源项目，他们希望将这些效率带入日常工作，与其他开发人员共享代码，这是有道理的。

当公司向 GitHub 寻求 innersource 时，他们正在寻找一种帮助他们的工程团队的软件工具，包括代码的开放协作、团队之间的开放透明、跨部门和部门的公司协作以及与自动化测试的集成。

## 文化转型势在必行

斯利瓦斯塔瓦说:“他们真正来找我们是为了文化转型。”。“开源有很多公司可能没有意识到的好处。它更便宜，而且该软件“活”着数百名从事同一项目的人。”

Keepers 表示，许多开发人员已经在个人项目中使用开源软件，或者有一个年轻的雇员加入进来，他从小就习惯于在世界各地、跨时区、跨文化的环境中工作，并开始将各个部分组合起来。“很多时候，当管理层准备好接受这一点时，他们发现他们的开发人员已经在路上了，”他说。

他发现执行管理层理解这些概念。"他们在思考如何更快、更好、更便宜地做事."GitHub 面临的挑战是培训习惯于旧的生产方式的中层管理人员，让他们接受开源背后的理念。

Srivastava 说，运行 innersource 的好处之一是你不必有任何开源项目。例如，大型金融机构已经将 innersource 作为管理项目和内部联系的一种方式，但是由于法规遵从性，它们只能使用开源。

那么这在现实世界中是如何工作的呢？

## 彭博和贝宝

以[彭博](http://www.bloomberg.com/company/)的工程开发经验全球主管 Panna Pavangadkar 为例，他在彭博快速跟踪 innersource。她在 2014 年末上任时，首先听取了工程师的意见。她说，很明显，全球 4000 多名开发者希望更多的代码共享。彭博的企业格言是“大胆、冒险”，所以她决定相信公司的话，她在最近的一次电话采访中说。

Pavangadkar 宣称所有的新项目都将使用 innersource 技术来运行。她想她以后会把这件事告诉管理层。

该公司的旗舰产品[彭博终端](http://www.bloomberg.com/professional/?utm_source=bloomberg-menu&utm_medium=blp&bbgsum=DG-WS-CORE-bbgmenu)已经存在了大约 30 年，是由一个紧密的团队利用代码共享和其他我们现在视为开源的技术开发的。但在最近几年，彭博已经扩展并服务于多个领域，正在扩展，一切都不是在一个共享的代码基础。Pavangadkar 说，这导致了传统方法的出现，在传统方法中，一切都是孤立的。代码被归功于一个人，那些人变得对他们的工作非常有占有欲。

## 采用内部资源

2015 年 InfoQ Innersource:PayPal 的内部开源描述了将开源实践引入他们的工程文化，结果令人振奋:

六个月后，结果就可见了。结帐平台团队花 0%的时间重写代码，只有 10%的时间审核提交的内容。该团队能够在没有计划的情况下进行重大重构，并将性能提高了 4 倍。思维模式从阻止变革转向了指导和训练。”

## 打破筒仓

在彭博，帕万加德卡说，从纯粹的权利角度来看，打破孤岛需要付出很大努力。通过与她的开发人员交谈并倾听他们的担忧，她发现了对他们的代码和恐惧的强烈的专有感觉。担心他们的工作不够好，其他人看不到，担心其他开发人员会破坏他们的个人工作。

她从开放代码库供所有新项目查看开始，然后制定参与规则来消除开发人员的顾虑。

> 通过创建一个路线图，每一个加入彭博的新工程师都将能够了解彭博终端和其他彭博产品的文化和代码。

第一条规则:你不允许对你看到的任何代码进行诽谤。她的两个最重要的信息:“确保你的代码不会引入任何风险”和“你不会被评判。”

这不仅消除了这些担忧，而且也使项目内部更加强大。

渐渐地，开发人员的个人所有权意识发生了转变，他们对分享他们的工作产生了信心。

## 确保成功

Pavangadkar 创造了一种双管齐下的方法。她向高级管理层传达的信息是“是的，这值得探索”，向开发工程师传达的信息是“创造新规则，赢得冠军。”

在过去的 18 个月里，和她一起工作的开发人员开始对她说，“嘿，我正在做这个项目，但是我看不到代码库。”Pavangadkar 探究了筒仓的原因。有时像获取密码或安全一样琐碎，有时更复杂，需要教育 it 以外领域的经理为什么代码共享很重要。

弗莱明说，项目成功的一个重要部分是记录过程。“你不仅要上传代码，还要上传一份文件，说明如果你想投稿，应该怎么做，”他解释道。通过创建一个路线图，每一个加入彭博的新工程师都将能够了解彭博终端和其他彭博产品的文化和代码。

弗莱明说，为新开发人员提供指导以保持高质量非常重要。

但是这怎么能被管理层接受呢？Pavangadkar 带来了大量的定性指标向管理层推销 innersource，带来了从她的项目中学到的经验教训。

## 接下来在彭博

Pavangadkar 说，建立在最佳实践的基础上，以便更容易合作。每个人都有经验教训，随着更多的项目上线，有了数据，他们可以定义模式，经验教训，这对每个人都有利。

她说，围绕所有权、承诺、花费的时间的挑战正在得到解决。即将推出的计划是将 Innersource 思维扩展到销售和其他非技术人员，以便他们了解如何使用它以及它将如何为他们带来好处。

## 激动人心时刻的前排座位

回到 GitHub，Keeper 说，“这真的很令人兴奋。我们觉得我们对所有这些正在发生的惊人变化有了一个前排座位——每个公司都在成为一个软件公司，他们都开始采用开源并弄清楚这看起来像什么。未来还有很多激动人心的时刻。”

感兴趣并想知道如何开始？查看 GitHub wiki 上的这篇文章，或者[这篇关于 Github 如何使用 Github 记录项目的文章](https://github.com/blog/1939-how-github-uses-github-to-document-github)。向前去分享。

通过 Unsplash 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>