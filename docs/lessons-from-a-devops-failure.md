# DevOps 失败的教训

> 原文：<https://thenewstack.io/lessons-from-a-devops-failure/>

“五年前，我加入了一家有问题的公司，”Patrick Debois 在本月早些时候的 T2 qcon London T3 上开始他的演讲时说。Debois 现在是安全供应商 Snyk 的 DevOps 关系总监。在之前的一份工作中，在一家现已倒闭的公司，他的职责是克服瓶颈，打破僵局，并问为什么。

MTTR 通常简称为平均恢复时间，但是平均反映时间呢？今年的 QCon 特别推出了一整首关于事情何时出错的歌曲，包括 Debois 的演讲。它包括关于精神、环境和隐私健康的主题。Debois 自己的 DevOps 演讲让他回顾并思考了 DevOps 中更为人知和鲜为人知的瓶颈——技术、供应商、招聘、文档、支持、法律——以及如何克服它们。

## 是技术问题吗？

Debois 从代码和围绕它的人和过程开始。

他说，该公司正在生产服务器上进行 git 检验。没有建筑管道。没有测试。他说他们那时可以不用手工测试。

DevOps 团队接管了生产环境。他们改变了一种风气，即你建立它，你运行它，如果它坏了，你修理它。他们开始建立和传播最佳实践。

“在一个电视直播节目中，我们在两分钟内就投入了生产，因为 Slack 上的一位制片人说‘请解决这个问题’。”

这是对两个冲突百分比的简单修正，确保屏幕上的总数永远不会超过 100%。但这种快速反应有助于建立商业和技术双方之间的信任。

## 是供应商的问题吗？

DevOps 不仅限于内部操作。

“我们不能只向内看，我们必须向外寻找瓶颈，”德波伊斯说。例如，该公司与创建外部数据源的供应商合作，“因此我们必须与我们的供应商交朋友。”

DevOps 团队很快学会了从产品的第一次体验开始向供应商发送反馈。Debois 说，供应商和内部团队一样迫切需要反馈。他们很难得到公正的反馈。

“这不是无服务器的问题，而是服务周到的问题。我们依赖如此多的服务，我们需要和他们成为朋友，”他说。

## 是招聘问题吗？

像所有敏捷一样，DevOps 是人而不是过程。因此，当您过渡到 DevOps 工作方式时，谁比什么更重要。

这家成长中的初创公司的每个人都负责招聘。所以他们参加了很多聚会。该公司在其网站上发表了关于“我们感受到的生活是怎样的”的文章

“这不是我们招聘的目的——这就是生活的好与坏，”德波解释道。

他们试图对成为他们团队的一部分的感觉给出一个现实的看法。

然后他们寻找那些与他们现在的团队没有完全相同技术技能的人。他们寻找有高潜力的人。候选人需要花时间和工程团队在一起。

即使经历了这一切，招聘过程并不完美，也不是每个人都是完美的雇员，但这增加了招聘的可能性。

## 是销售问题吗？

在许多科技公司，销售是在另一个楼层。但是销售是客户防御的第一喜欢，并且已经对你的共享客户做出了承诺。

就像一个开发人员专注于优先处理他们的待办事项一样，他们的客户也是如此。销售人员需要了解特性何时会出现，并且不仅要了解某样东西的成本，还要了解它的内在价值。

德波伊斯还说，在像他这样的小公司，销售人员基本上必须随叫随到，随时准备对线索立即做出回应。

因此，该公司确保销售人员感到有权根据这些建设优先级定制合同。

销售反馈对定价也至关重要。德博伊斯承认，很多技术人员都有过度设计的习惯，这提高了价格。

“由于定价结构的原因，我们不得不尽可能制造最简单的东西，”他说。

该公司需要计算出 CPC(每个客户的成本),然后将其映射到最少的东西上，以在不提高价格的情况下实现客户的需求。

## 这是医生的问题吗？

Debois 指出，文档是一个重要的卖点。在要钱之前，该公司很快意识到必须让潜在客户先测试和使用产品变得容易。这需要良好的文档。

“这一切都是为了尽快得到反馈，”他说。

记录也应该在销售之后进行。他指出，越来越多的公司开始撰写事后博客，公开分享他们的失败。这是一个值得信赖的公司的良好标志。他意识到，如果 DevOps 团队开始写博客，它可能会变成营销材料，并打开许多大门。

他说:“我们可以一起在公司定下一个正确的基调。”

## 是法律问题吗？

《通用数据保护条例》[GDPR]和《加州消费者隐私法》[CCPA]的一个好处是，工程师们更加关注安全性。现在，IT 部门习惯于向法律部门核实，以确保他们符合规定。这反过来打开了两个部门之间的对话，法律部门了解了更多关于他们支持的技术。

Debois 说，这种打破筒仓导致法律团队编写更多的定制合同，表明他们信任工程师。不再有模板合同承诺:“你必须 100%安全。”

## 是财务问题吗？

财务部经常使用过时的系统。它可能是最后一个拥抱敏捷的人。但财务必须是产品决策的一部分，否则，它将成为一个无法克服的瓶颈。过渡到 DevOps 需要在新工具和潜在的新员工方面进行大量投资。如果 IT 和财务之间的筒仓没有被打破，后者看不到前者的理由。

此外，开放与金融的沟通渠道意味着更好的报道，以展示商业和技术之间的桥梁。和更快的计费，这对每个人都有好处。

## 如果还不够呢？

Debois 说 DevOps 总是在思考你的下一个瓶颈。但有时就是没有适合市场的产品。

在舞台上，当他讲到这一部分时，你可以听到精疲力竭的幽灵。他说，该公司对“Hopeium”很感兴趣，“下个季度有五个客户”，成为下一个和下一个。

Debois 现在将他所学到的知识应用到以开发者为中心的开源安全工具 Snyk 的 DevSecOps 中。Debois 也是 DevOpsDays 会议系列的创始人之一。

在一个全新的业务领域，他发现了一个全新的瓶颈。

“当你看到开发人员和运营人员变成开发人员，现在又变成安全人员时，就会产生同样程度的不信任，也就是控制的概念，”他说。

他大胆地说，在某种程度上，公司内部最成熟的技术和流程拥有最大的自由，比如“你不能这样做，因为它在我们的 CI 渠道中不起作用，”或者有自由说其他部门不能这样做。

安全人员认为开发人员对安全一无所知。开发者认为 sec 不懂代码。但这种不信任是建立在胡说八道之上的。

“那不是他们的工作。但我们是根据我们的工作能力来评判他们，而不是他们的，”德波依斯说。

德波依斯也从失败的冒险中了解到，作为一名工程师，他发现自己厌恶风险。在 Snyk 的职位上，他很快反思道:“我们这样做是因为我们不信任他人还是不信任自己？”

他说在你的行动中真诚是至关重要的。

他说 DevSecOps 必须让这些东西一起工作。你不是要控制这些支柱中的任何一个，而是要教育。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>