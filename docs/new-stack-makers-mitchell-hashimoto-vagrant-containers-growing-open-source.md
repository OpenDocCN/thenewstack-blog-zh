# 新的堆栈制作者:Mitchell Hashimoto 论流浪者、容器和开放源码的成长

> 原文：<https://thenewstack.io/new-stack-makers-mitchell-hashimoto-vagrant-containers-growing-open-source/>

这是对 Mitchell Hashimoto 的两部分采访的第一部分，Mitchell Hashimoto 25 岁，已经在科技界工作了很长时间，从事开源项目。在接受采访时，Hashicorp 刚刚宣布了 1000 万美元的资金，并推出了他们称之为的服务

[Atlas](https://atlas.hashicorp.com/)

.

[Mitchell Hashimoto，Hashicorp:新栈访谈，第一部](https://thenewstack.simplecast.com/episodes/mitchell-hashimoto-hashicorp-the-new-stack-interview-part-one)

**我是亚历克斯·威廉姆斯，我是 [Hashicorp](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CCAQFjAA&url=https%3A%2F%2Fhashicorp.com%2F&ei=npHXVL62PM7ooAT_z4GoDQ&usg=AFQjCNEHg-DKmpwYnoSY5xXSX8agl25w6w&bvm=bv.85464276,d.cGU) 的米切尔·桥本。Mitchell 已经在技术领域工作了很长一段时间，构建开源项目，他刚刚宣布了一些资金并推出了他们称为 [Atlas](https://atlas.hashicorp.com/) 的服务。我想我们应该花点时间了解你，米切尔。感谢您的加入；我很感激。**

米切尔:谢谢你邀请我。

你能告诉我们你在哪里长大，以及你第一次接触计算机或软件的情况吗？

米切尔:我在南加州的一个海滨城市长大，确切地说是在海滩上。

**哪个城市？**

米切尔:雷东多海滩。我在离海滩不远的地方长大，在那里我度过了一段美好的时光。

我十二岁开始编程。那是在中学的时候。偶然进入，但是想知道电子游戏的作弊器怎么做？有一天，当我在视频游戏中使用所有这些作弊软件时，我意识到了这一点，然后我说，“等一下，一定有人做了这些，为什么那个人不能是我？”所以，我用谷歌搜索了如何创建一个 EXE，或者类似的东西，结果很糟糕，但是它把我引向了正确的方向。

我从 Visual Basic 开始。我做了很长一段时间，然后进入 PHP，做了一些网络的东西。我认为一门非常标准的语言对初学者来说是很好的，这也是我的出发点，但是我一直非常关注自动化。

**甚至从一开始，你就在寻找让它更加自动化的方法？**

**Mitchell** :直到几年前我才意识到这一点，然后[我在博客上写了这件事](http://mitchellh.com/automation-obsessed)。我一直发现计算机的迷人之处在于它们可以为人做*的事情:你过去用手动做的事情，它们可以为你做。所以，我的视频游戏秘籍并不是关于黑客或者做任何非法的事情。这是关于，“我如何让骗子假装成一个人，实际上玩游戏，这样我就不用玩游戏了？”这就是它的意义所在。我从来不是在游戏中寻找黑客的人。*

除此之外，我用开源软件创建了一个自动构建社区论坛软件的网站:你输入细节，我会帮你安装。当时我对安全性一无所知，所以它非常不安全，在很多方面都很糟糕，但我只是不断进步，并继续这种自动化的趋势。

**你为什么选择社区论坛，这与你一直在看的那些社区论坛有关系吗？**

米切尔:当我在谷歌上搜索如何制作 EXE 时，我首先发现的是程序员论坛，以及专门制作视频游戏作弊软件的程序员论坛。所以我总是喜欢论坛，我想让论坛变得更容易。他们慢慢地修补了我参与的所有项目。

**你最初是如何开始了解开源的？**

**Mitchell** :我认为开源的第一个重大影响是在我使用 Visual Basic 的时候，当然它不是开源的。但是，当我使用 Visual Basic 时，我真的很难——我想，就像一个 12 岁的孩子一样——我真的很难掌握这些编程概念，并弄清楚如何做一些基本的事情——现在，事后看来，*真的*基本的事情——比如加载网页并解析内容以找到用户名等等。

我的一些“朋友”——论坛上的网友——会把他们的源代码发给我。然后他们开始在论坛上公开源代码，帮助其他人学习。于是我开始用我的作弊器做同样的事情。那些已经被发现但不再工作的——我会把它们公开，这样人们就可以看到它们是如何工作的，并从中学习。如果没有这些人向我展示某些事情是如何完成的，我想我不可能学会如何编程。那是我第一次接触到可以被认为是开源的东西。

这种风气今天依然存在。有什么区别？是一个更大的社区吗？只是人多吗？显然，现在编码的人数远远超过那个时候。回顾过去，那段时间对你来说有什么独特之处？

Mitchell :所有这些现在仍然存在，但是很多开源软件——尤其是我今天参与的开源软件——被认为是“高风险”的开源软件。人们觉得它必须产生影响。出于某种原因，他们对自己的开源感到压力。那时候不是这样。我的意思是，有不好的事情*因为*不是关于那个——你只是把。ZIP 文件，你就再也不会碰它了。但更重要的是，“这是你如何做这件事，”这样你就可以在未来做这件事。

> 这更多的是关于学习，而不是试图建立某人的基础设施或软件的核心部分。

**那时的世界要小得多。它也没有这么多的市场动态。**

米切尔:那个论坛上最年长的人应该有 18 岁左右，所以我们都是孩子。我们都想赚钱。但对我们来说，赚钱就像找到赚 100 美元的方法。这将是巨大的。我们这样做不是为了钱，真的。结果是这样的:我们论坛的一群人开始为我们的作弊软件提供订阅服务，所以我们找到了一种赚钱的方法。但本质上，并不是这样。

那些人今天在做什么？

米切尔:我只和一个人保持联系，他是 Palantir 的工程师。我认为他们都成了工程师或商人，而且他们都做得很好。他们是好人。

你去了华盛顿大学。你去那里学习计算机科学吗？

米切尔:我特别申请了那里，因为他们的计算机科学项目很有名气。

**你为什么选择华盛顿？**

米切尔:事实上，这不是我的首选。我的首选是匹兹堡的卡内基梅隆大学。我真的被录取了，我仍然认为这是个奇迹，但是我被录取了。我参观了校园。在我访问匹兹堡的同一次旅行中，我第一次访问了西雅图，我还访问了另一个校园。我参观了匹兹堡，我不太喜欢这个城市，也不喜欢校园的感觉。我认为它太小了。卡内基梅隆大学是一所非常小的大学，对一些人来说这很好，但是我不喜欢这种感觉。当我去西雅图的时候，我立刻感觉很好。这是一个巨大的校园，真的很漂亮，环境看起来很好，我知道他们也有一个很好的项目。卡耐基梅隆大学以其顶尖的课程而闻名，但是我认为 UW 对我来说是一个更好的平衡。

当你在华盛顿大学的时候，你对分布式系统的第一感觉是什么？

**Mitchell** :嗯，我第一次接触分布式系统，我*知道*是分布式系统？我不知道的第一次体验*是在我们做基础设施的时候。我是一家开发商店的顾问，我们必须扩展网站——这些是固有的分布式系统。*

我第一次真正*知道*我正在从事分布式系统的工作，并且不得不考虑分布式系统是我在大学二年级时参加的一个研究项目。这有点像 [Folding@home](https://en.wikipedia.org/wiki/Folding@home) ，当你的电脑空闲时，一个代码会在你的电脑上运行，以帮助科学。这有点像，除了学生可以在全世界数百万台志愿者的电脑上运行他们编写的任意代码。所以这有点棘手，因为我们必须弄清楚，“这怎么安全？我们如何确保他们没有做任何违法的事情？我们如何确保他们不会访问他们不应该访问的文件？”我们在 Mac、Windows 和 Linux 上对全球数百万台电脑进行了测试。我们还使用了 Linux 容器，所以这对我来说是一个全新的概念，那是我接触 Linux 容器的时候。我猜是 2008 年。

【Linux 容器在当时是如何使用的？

Mitchell :与今天相比，使用起来相当糟糕。它们在可用性方面有了长足的进步。

**他们为什么使用集装箱？**

**Mitchell** :安全模型，或者说隔离模型，在那个项目中的工作方式是[深度防御](https://en.wikipedia.org/wiki/Defense_in_depth_%28computing%29)，所以它就像一个洋葱层。只要我们能获得另一层安全，我们就会用另一层安全来包装它。Linux 容器在当时被认为是不安全的，但它们确实有助于隔离某些东西，所以我们只是将它包装在该层以及多个其他层中。

回顾过去，你从使用第一代分布式架构中学到了什么？

米切尔:从那个项目和经历中，很明显，最大的收获之一就是参与一个研究项目，只是从学术角度思考问题；当你编码的时候，你不会做太多狂野西部的事情。在你去见编辑之前，你真的可以想清楚这个问题，并在纸上解决它。此外，理解在数百万人依赖的类似生产的环境中部署东西的困难。它由如此多的组件组成，我们知道，如果您部署了某个组件，但它出现故障，那就不好了。或者，如果你部署了某样东西，而在*期间*它不可用，那就不好了，所以，考虑所有这些问题…

最后一部分，我不会说是来自研究项目，但来自我同一时间的工作，是对用户体验的一个非常大的赞赏。学术界有很多东西从根本上来说是合理的。你可以阅读他们的证明和研究，他们会工作，但让他们工作只是一个可怕的经历。没有任何记录，输出也不规则。有时候它会做*这个*，但有时候当你认为它们应该是统一的时候，它会做其他的事情。对我来说，让事情按照人们期望的方式运行变得非常重要。

**为什么会这样？仅仅是学术环境的结果吗？**

**米切尔**:我不想让学术界失望，但我想说这对他们来说不是什么高价值的东西。我认为他们更看重结果及其背后的基本面，这非常重要，但其他事情也因此受到影响。

你是什么时候意识到分布式系统实际上是分布式系统的？

米切尔:那个研究项目。这是一个艰难的爱情。研究教授会分配给我一个任务，我会解决它。我会给他解决方案，我猜他有更高的期望，因为他会看着我做的事情说，“这永远行不通；这太愚蠢了。这就是网络出现故障时的情况。这已经完全行不通了。”然后我意识到，“哦，是的，你是对的，什么都不管用，”这让我更加努力地思考这些事情。我们有 10 台电脑，我这样处理它，“让我们假设它是一台电脑，但是是 10 台单独的电脑，这是分布式的。”但是它有更多的方面。在这个过程中，我不得不艰难地发现。

**那么你是从什么时候开始看到分布式系统与开源的交集的呢？**

**Mitchell** :我第一次使用来自 [Basho](http://basho.com) 的名为 [Riak](http://basho.com/riak/) 的数据库时，对分布式系统和开源的体验让我大开眼界。大学毕业后，我有几年没有考虑分布式系统。我成了一名操作工程师，整天写《大厨》和《木偶 T21》，我真的很喜欢这样，但是我已经有一段时间没有像在学术界那样正式地思考过这个问题了。然后我将 Riak 部署到我们的基础设施中，作为一个问题的解决方案，它是一个分布式系统。

这是一个分布式系统，用户体验也非常好。它自动愈合的方式，数据在这个环上正确分布的方式，以及它们非常清楚地记录故障场景和功能场景及其限制的方式——在 GitHub 这种有自述文件的软件的海洋中，类似这样的事情真的吸引了我，而你不知道它声明的目标是什么，或者它在哪里停止，从哪里开始。

在那之后，当我们创办这家公司时，我和我的联合创始人艾蒙(Armon)聊天，他也是我大学时最好的朋友，我告诉他，“好吧，如果我们设计生产软件，让我们把它做得像 Riak 一样好用。”这让我们回到了我们在大学的研究，并以那种方式思考问题。

那么告诉我们[流浪者](https://www.vagrantup.com/)是怎么来的？

**米切尔**:当我在做这个研究项目时，我到处提到我有一份全职工作。作为一名开发人员，我在这家咨询公司有一份全职工作，我们会看到很多项目；每隔六周左右，我们就会接到一个新项目。在这六周时间里，我们经常会被拉去做以前项目的维护工作，这是一个全面的问题。我们使用最新最棒的技术，让这些技术在你的机器上运行真的很难；我不得不与运行每个网站的 Mac 进行斗争，这让我感到沮丧，我想以某种方式隔离它们。流浪是我当时尝试的一种解决方案，我只是很幸运它成功了。这是我的第一次尝试，而且第一次就成功了，但这确实是为了解决可重复开发环境的问题。

**那时你们也开始考虑更广泛的问题，不是吗？你不只是在想流浪者。我们在 DockerCon 讨论过这个问题。你能谈谈你那时开始发展的哲学吗？**

Mitchell**:与 vagger 同时，当 vagger 为 0.1 时，我正与 Armon(现在是我的联合创始人)一起致力于另一个即将开源但从未达到那个程度的项目，它被称为 Cockpit。这种想法是从你的笔记本电脑中获取代码，然后完成将代码投入生产的所有困难任务。它是围绕部署我们正在进行的这个研究项目的用例而设计的，该项目由一系列跨所有这些操作系统的服务组成。有些是内核模块，有些是桌面应用程序，有些是后端服务；这是你能想象的一切。**

 **所以我们设计了这个叫做驾驶舱的东西，我们刚刚意识到这个问题非常困难。这个问题的规模实际上相当大。我们真的没有我们想要的工具来以我们认为应该的方式解决所有问题，所以我们开始把这个问题分解成“我们需要什么？”幸运的是，流浪者是其中非常关键的一部分。

我们需要的东西之一是获得开发环境的一致方法，因为从一致的开发环境中，您可以一致地推进生产。如果你有所有这些不同的开发风格，很难创建一个单一的命令进入生产。这成为了它的一个关键部分，但我们也制定了我们需要的其他东西。随着时间的推移，这些成为了我们今天的开源项目。

现在你已经开发了 Atlas，它是那些不同事物的统一。你能告诉我们阿特拉斯到底是什么吗？

**Mitchell** : Atlas 是这样一种理念，即在任何基础设施、任何操作系统上，使用一种工具和一个工作流程，从开发到生产。这个想法是你可以写 Python，你可以用 C 写内核模块，你可以做一个. NET 应用程序；它可以是一个工作站，可以是一个巨大的服务器，可以是任何地方。但是您希望能够部署、配置部署工作方式、查看部署位置、查看部署者、在一个控制面板中查看所有这些信息。阿特拉斯就是这一理念的体现。

它实际上*是*驾驶舱:这是我们建造的所谓驾驶舱，但它以一种更好的方式完成，因为我们将问题分解成单独的开源项目，现在我们已经将它们统一起来。这使得问题变得简单多了，因为减少了我们需要解决的每一个问题的表面积。

**您试图帮助客户解决的数据中心核心复杂性有哪些？**

Mitchell :我们试图解决的核心复杂性是，从开发到生产会遇到许多共同的步骤，但在这些共同的步骤中，有许多选择。通常有一个 CI 步骤；有很多不同的配置项。有一个配置管理步骤；有许多不同的配置管理系统。在这个步骤中，您可以选择是需要容器还是虚拟机。它适用于多种环境:登台、生产、每个开发人员的环境。它流向不同的基础设施提供商。

也许开发和试运行是在您的机器上或办公室的本地服务器上，而生产是在您的数据中心，所以有这种复杂性。然后是分布式系统的复杂性，现在更加普遍，如何监控这些东西，如何保持它们，如何协调它们出现的顺序以及它们如何通信。

有了 Atlas，我们将整个流程分成了五个不同的阶段:开发、构建、工件注册、部署以及监控和维护。我们已经将我们的开源项目放入每个步骤，因此我们可以通过使用我们的开源软件来指导整个部署过程，但然后使用 Atlas 作为单一窗格来查看。我们的每个开源软件都集成了那个阶段的所有矩阵复杂性。

因此，对于配置管理，我们集成了 Chef、Puppet、Ansible 和 Salt 以及所有这些人。对于基础设施和部署，我们集成了 AWS 和 OpenStack 等物理提供商，就像您自己的定制产品一样。我们喜欢说的是，我们构建的工具位于工作流层，而不是技术层；这个想法是，工作流程将保持不变——你想要实现的最终目标保持不变——但底层的技术和软件将会发展和改进，这就是我们如何设计这个东西的。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>**