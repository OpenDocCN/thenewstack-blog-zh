# 实践中的左移可观性——综述

> 原文：<https://thenewstack.io/shifting-left-observability-in-practice-an-overview/>

这是关于左移可观性的三部分系列的最后一部分。阅读[第一部分](https://thenewstack.io/why-observability-is-shifting-left/)和[第二部分](https://thenewstack.io/observability-is-shifting-left-following-security-and-ops/)。

 [伊兰·皮莱格

Ilan 担任 Lightrun 的首席执行官，是该公司的联合创始人之一。他拥有独特的技术和领导背景，包括在 FireGlass(已被赛门铁克收购)和 LivePerson 担任开发角色。](https://www.linkedin.com/in/ilan-peleg-5a31396b/?originalSubdomain=il) 

作为一个行业，我们多年来一直在争论什么应该是开发过程中的指路明灯。我们从冗长的设计文档和瀑布式方法开始，冲刺敏捷，在某些情况下考虑 TDD(测试驱动开发)和 BDD(行为驱动开发),通常到处都是。

我们相信可观察性可以成为一座伟大的灯塔，我们应该让它成为 SDLC(软件交付生命周期)不可分割的一部分。当你把它看作是一个跨越开发、准备、质量保证、整个 CI/CD 周期和生产(包括渐进式推出)的关键操作过程时，它创造了一个开发者真正连接到他们的实时应用的世界。这样，系统的输出直接提供给编写系统输入的人，从而结束了不断扩展的 SDLC 的循环。

换句话说:可观察性过去是关于削减解决问题的平均时间(MTTR)。今天，通过将它插入到开发过程中，我们相信它可以成为一个强大的工具，可以缩短上市时间(TTM)，更一般地说，可以提高开发人员的生产力。

但是，抛开流行词汇，让我们来谈谈实际问题:

第一个问题不是将可观察性转移到任何地方，而是将它包含在开发生命周期中。

目前，大多数软件开发过程围绕着本地信息的迭代:你写一些东西，你编译它，你检查它的工作，你推到 CI 来测试它，当测试通过时你提交它。

在这个循环中，开发人员没有观察来自生产的真实信息流，以更好地理解他们编写的内容的行为方式，并根据这种行为动态地修改代码。

在实践中，如果我们进一步隔离问题，我们需要将可观测性进一步向左扩展。它不仅应该归入生产维护和故障排除，还应该归入整个开发生命周期。这就是左移可观察性的意义所在。

通过将可观察性作为日常开发人员生命周期的一部分，特别是在生产前环境中，我们将把可观察性从一个 MTTR 粉碎机转变为一个更健康的实践，一个通过在 SDLC 的早期发现问题来提高开发人员生产力、上市时间和最终产品质量的实践。

## 引入一种新的、开发人员固有的可观察性

我们可以通过创建一个过程来改变左可观察性，该过程允许开发人员从他们现有的工具连接到他们的活动应用程序，而不强迫他们改变他们现有的习惯来应用它。

这个新的过程，在我看来，应该是:

*   **实时—** 从实时应用程序获取答案的任何延迟都将耗费开发人员宝贵的时间，并导致不可避免的上下文切换。就像 [Snyk 的 IDE 集成](https://snyk.io/ide-plugins/)在你编码时提醒你应用程序中存在各种安全漏洞一样，[的实时可观察性](https://thenewstack.io/real-time-observability-with-influxdb-for-bai-communications/)应该允许你提出问题并实时得到答案。

*   **Ops free** —在大多数企业环境中，运营工具和流程都是从开发人员那里抽象出来的。需要了解应用程序状态的开发人员应该能够在仪表板系统中查询信息，而不需要运营部门的干预，也不需要深入了解底层的持久层。换句话说，从实时应用程序中提取信息不需要任何网络技巧或配置先决条件。

*   **开发者原生** —复杂的仪表板通常在远离消费者的地方提供广泛的信息。如果一个开发特定逻辑的开发人员想要了解它在实践中的表现，他应该能够在他正在处理的代码行旁边获得该信息。查看用户通过应用程序代码的流程应该紧挨着指示该路线的条件发生。上下文切换是生产力的敌人，在这个世界上，开发人员的时间和注意力是组织最有价值的资源，确保尽可能地节省它们是很重要的。换句话说，我们应该不需要向开发人员介绍我们操作流程的深层细微差别；相反，我们应该将来自这些操作过程的粒度数据和结论引入到开发人员的自然工作流程中。

*   **划算**——经济衰退已经全面展开，成本不断增加。具体来说，记录成本通常来自多个方面——摄取它们需要钱，存储它们需要钱，当然，分析它们也需要钱。我们需要能够在需要的时候准确地记录我们需要的东西，而不是依赖静态的、硬编码的日志和开发过程中编写的指标。我们应该将重点转移到为开发人员工作的自适应、动态、基于上下文和状态的可观察性上，而不是让开发人员为其工作——节省摄取、存储和分析无尽干草包的成本，只为了找到几根针*。*

## 后天——可观察性驱动的开发

当可观察性成为一种习惯时，开发人员每天所做的活动就会发生剧烈的转变。以下是一个普通开发团队在采用可观察性思维模式后可能会遇到的一些变化的简要(和部分)列表:

1.  **写代码**是一种提问并得到答案的行为，而不是对生产中的系统状态进行假设。如果你正在编写一个 API 端点，并且不确定可能的边缘情况，只需检查真实用户如何与该端点交互，以获得对可能陷阱的感觉。
2.  **测试**也是轻而易举。你可以复制现实生活中的场景，然后进行测试。看看你的用户在生产中做了什么，并使用交互作为测试用例。
3.  **调试**不再是在黑暗中摸索或者过滤无尽的日志。如果您想要添加新的日志或捕获生产中应用程序的状态，您可以直接从 IDE 中完成。
4.  系统的性能应该通过添加指标并立即使用它们来理解。如果您想测量代码的某个部分运行了多长时间，只需添加一个指标。
5.  **安全**是关于识别和评估你面前的漏洞的广度。其中一个主要部分是实时了解特定漏洞是否确实是应用程序执行路径的一部分的能力。这些信息有助于确定补救工作的优先级，也有助于区分信号和噪声。
6.  **事件管理**变得越来越快、越来越容易——运营人员用面向运营的工具花时间解决运营问题，开发人员用面向开发人员的工具花时间解决开发问题。解决问题的平均时间显著减少。

## 摘要

当将可观察性向左转移并将其作为开发周期的一部分纳入管道时，我们不仅优化了通常被视为运营指标的 MTTR，还优化了上市时间、开发人员的整体生产力以及我们交付的软件质量，这些显然都是软件开发指标。

在实践中，决定将实时、无操作和开发人员原生的可观察性过程结合起来，将允许您的开发团队享受可观察性的[好处](https://thenewstack.io/observability/)，而不会屈服于无休止的上下文切换，也不会太彻底地改变他们现有的习惯。

如果你想今天就开始你的左移观测之旅，[注册一个 Lightrun 免费账户](https://lightrun.com/free)或[与我们的团队](https://go.lightrun.com/request-a-demo)预约一次会议。我们会马上帮你准备好。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>