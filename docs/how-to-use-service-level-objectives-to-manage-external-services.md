# 如何使用服务水平目标来管理外部服务

> 原文：<https://thenewstack.io/how-to-use-service-level-objectives-to-manage-external-services/>

[](https://twitter.com/alexnauda)

 [亚历克斯·诺达

亚历克斯·诺达是 Nobl9 的首席技术官，他正在帮助组织提高其云原生应用的可靠性和性能。他的职业生涯始于磁存储和背板时代的数据仓库性能管理。自网络时代以来，他一直专注于媒体和公共云领域的产品开发。亚历克斯住在波士顿，他在 led 下种植蔬菜，并在一所非营利性社区马戏团学校教授杂耍。](https://twitter.com/alexnauda) [](https://twitter.com/alexnauda)

除非你在海面下数百米处操作一艘机敏级潜艇，否则你的基础设施和软件开发栈很可能依赖于第三方技术。这些技术无疑为您的技术堆栈提供了巨大的价值，并带来了显著的成本效益(节省时间、金钱和其他资源)，但它们也使您的运营面临可靠性方面的风险。例如，在我之前的公司工作的七年中，我们遭受的中断有一半以上是由…你猜对了…第三方中断造成的。

在某些情况下，你可能足够幸运，可以选择第三方服务，但你通常会为更可靠的服务支付高额保费。我曾经有一个第三方供应商，他在两年内造成了三次大规模停机和几次较小的停机。当时，他们的服务费用是每月 4000 美元。更可靠的选择是每月收费 16000 美元。我们是否应该为更可靠的服务每年多支付 144，000 美元？嗯，看情况。(见“[真的需要五个九吗？](https://nobl9.com/2020/06/15/do-you-really-need-five-nines/)))

下面是我所学到的:如果我的系统建立在其他系统之上，只有底层系统比我的服务需要的更可靠，我才能实现高可靠性。

这就是为什么对外部系统的监控和对内部系统的监控一样重要。好消息是，有一种方法可以做到这一点，而无需登录到第三方的管理控制台。您应该能够选择一些指标，并知道第三方系统是否运行正常。服务水平目标(SLO)是大规模实现这一目标的方法。

让我们讨论一下如何与第三方供应商一起定义基于 SLO 的角色和职责。以下是我的最佳建议:

1.  **从自己的 SLOs** 开始。了解对用户来说什么是重要的，以及您的供应商可能会如何影响他们的体验。
2.  **评估你的供应商对 SLO 和可靠性了解多少。**你们需要相互理解，可靠性是重要的、昂贵的，并且需要投资。例如，在 Nobl9，我们与一家信誉卓著的公司合作，该公司提供的可靠性超出了我们的需求。另一方面，我们也与一家小初创公司合作，他们可能需要我们的帮助，沿着 SLO 的学习曲线前进。无论是哪种情况，我们都必须努力改善我们的关系，并明确定义我们的期望。我们必须就可靠性、我们需要的数据以及我们的绩效目标展开公开对话。
3.  **坚持使用 SLO 来监控供应商系统的可靠性**，就像你测量其他内部部门系统的 SLO 一样。但是请注意这三个“不要”:(1)不要只遵循供应商的“九”或他们公布的可靠性指标；(2)不要只监控“他们起来了吗？”；(3)不要让销售合同中的服务水平协议(SLA)给你一种虚假的安全感。请记住，当供应商未能满足 SLA 时，最大的财务风险是合同价值。预算失误和失去客户的最大财务风险通常要比这大得多。
4.  **使用您自己的可靠性指标来制定关于降低风险的前瞻性决策**。如果您确实需要“四个九”服务作为您为客户提供的 SLO 的一部分，并且“四个九”服务依赖于第三方，则需要主动与供应商讨论，以考虑您的风险、故障模式和恢复选项。不要等到危机过后才明白。使用您的 SLO，通过标准化数据来告知讨论内容，以满足您企业中客户的需求。

我在之前的一家公司成功地使用了这种方法。我们有一个处于关键服务路径的供应商，他开始出现可靠性问题，表现为用户可见的停机和几个月内反复出现的滞后性能。我们看了看我们的 SLO，以及他们的问题是如何吞噬误差预算的。我们最终与第二家供应商建立了新的关系，以克服他们各自的限制，从而创造了冗余和弹性，使我们的 SLO 保持目标。

> 如果我的系统建立在其他系统之上，只有底层系统比我的服务需要的更可靠，我才能实现高可靠性。

如果您有外部供应商的 SLO，并且您看到错误预算即将告吹，您可以拉起开伞索并实施备用计划。然后进行一次关于改善未来的对话。

总的来说，我承认我认为 SLO 不仅在内部部门之间，而且在与第三方服务提供商之间建立共同愿景和协作的能力非常神奇。SLO 为您提供了进行无责备对话所需的通用语言，并使系统能够满足客户的需求。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>