# Aporeto 对共享编排和安全平台的愿景

> 原文：<https://thenewstack.io/aporeto-ceo-dimitri-stiliadis-speaks-orchestration-security/>

如果您熟悉现代应用程序编排器的工作方式，配置文件使开发人员能够[指定应用程序的“意图”](https://thenewstack.io/lets-talk-policy-change/)——应用程序的理想操作条件，如果它们合理的话。如果您了解安全策略的工作方式，那么您就会知道它是基于由特定事件触发的规则。如果触发了满足策略标准的一两个事件，则策略通过执行一组指令来响应。

[Aporeto](https://www.paloaltonetworks.com) 生产了一个*服务授权平台*——一种基于策略管理共享平台的微服务行为的方式。但是，正如 apore to CEO[Dimitri Stiliadis](https://www.linkedin.com/in/stiliadis/)承认的那样，如果政策和意图最终走到一起，需要对整个微服务环境进行一些重大的架构更改，包括对 orchestrator 以及管理它的人员的新兴习惯。

**流程编排中的安全角色更属于应用程序开发人员还是安全操作员的权限范围？还是最终应该由介于两者之间的某个人来承担，这个人的角色可能还没有被发明出来？**

我不认为安全是只属于开发人员或安全运营团队的事情。我认为我们必须明白，这更像是一种责任共担的模式。因为如果应用程序的开发人员根本不考虑安全性，或者他们不了解安全运营[ *团队* ]在做什么，那么显然他们会做一些试图绕过它的事情。另一方面，如果安全运营不了解应用程序正在做什么，那么您最终会陷入马可波罗的游戏。他们在喊“马可”，他们被蒙住眼睛，并试图跟着他们。

我认为这个问题的答案是，我们需要一个分担责任的模式。我们既需要安全团队了解应用程序在做什么，也需要应用程序团队了解安全[*团队 T13 在做什么。我认为这是过去 20、30 年来应用程序部署行业的一个大问题。通常，API(应用程序团队、安全团队和运营团队之间的接口)往往是一个电子表格。[ *与* ]制作合规性电子表格或安全电子表格的人员——安全团队会将其发送给应用团队，然后应用团队会填写电子表格，然后他们会更改一些内容并重新填写。*

 [迪米特里·斯蒂利亚迪斯

Dimitri 是 Aporeto 的首席执行官和联合创始人，他在 apore to 领导技术和公司愿景。在 Aporeto 之前，他是 Nuage Networks 的联合创始人兼首席技术官，领导了大规模 SDN 系统的开发。在此之前，他在贝尔实验室的研究中担任过几个领导职务，在那里他领导了一系列研究项目，在网络、算法和分布式系统方面做出了重要贡献，并在这些技术的商业化方面发挥了重要作用。Dimitri 拥有加州大学圣克鲁斯分校的计算机工程博士和硕士学位。](https://www.aporeto.com/) 

通过将两个团队带入同一个平台，通过本质上提供安全性、对应用程序正在做什么的可见性，以及让应用程序团队对安全规则是什么的可见性，他们可以一起工作。作为我们正在做的事情的一部分，我们试图将电子表格转换成一个真正的 API。

我们的方法是，我们说安全团队可以做他们的基本工作，如果你愿意，他们可以定义一个*框*。至少从安全的角度来看，他们可以定义一组规则来管理什么是适当的部署。然后，应用程序开发人员可以在这个盒子里，在这些业务规则内自由活动。只要他们不违反这些商业规则，一切都很顺利。

现在，如果他们违反了这些规则，那么所发生的是，应用程序停止工作。有人会抱怨的。因此，在这一点上，应用程序开发人员需要了解哪些安全策略或安全决策可能会影响应用程序，或者他们可能会了解他们违反了安全策略，并在本质上使应用程序停止工作。如果你愿意，这就是“双面可见性”。

第二部分是一个大的哲学[ *问题* ]，关于你问的问题:我们是把安全委托给系统，还是把安全一直委托给应用程序？在那里，我受到一些旧作品的影响，我不知道有多少人看过。这要追溯到围绕[决定的一些发展计划 9](https://9p.io/sys/doc/auth.html) ，以及被称为*杂役*的概念。这里的论点是，通过从本质上委派一些重要的安全功能，例如加密功能，并使它们成为系统的一部分，然后如果您要将它们与应用程序分离，安全团队可以决定什么是正确的加密操作，以及他们应该使用的正确加密算法。他们可以以更快的速度更新这些应用程序，而不是更新所有应用程序。

作者注:Stiliadis 提到的“factotum”是 1991 年由 Bell Labs 为 Unix 的一个特殊的开源版本创建的架构的一部分。在那个体系结构中，杂役是一个代理，代表我们今天称之为“安全主体”的身份和利益——每个单独的用户，包括代表人们工作的人和进程。理论上，对 factotum 的高度信任使系统能够采用单一的安全操作协议，但该协议背后的功能可以适应新的目的。]

让我给你举个例子。如果每个应用程序都有自己的加密和密码功能的实现，那么如果某个库是错误的，为了修复这个问题，你必须修复所有的应用程序。如果您将它解耦并使其成为系统的一部分，那么应用程序将在系统之外使用这些安全服务。如果某个库出错，那么通过更改系统中的这个特定库，或者通过更改系统提供的服务，您的应用程序就会自动更新到最新的安全标准。

因此，将一些安全和加密功能从应用程序中分离出来是有价值的，因为这使您能够跟上安全功能的正确方法，而不会给开发团队带来更多的开销。

**我认为，为了达到你刚刚描述的理想状态，即改变库然后更新应用程序，你必须事先在库和应用程序之间的一个非常通用的接口上达成一些协议，这样无论你对库做什么改变，它都会有效地被要求以同样的方式做什么。为了做你正在寻找的事情——在安全功能和正常应用程序功能之间有一个更加明确的接口——必须有人负责模型制作。我想知道某人站在围栏的哪一边:是开发商、运营商，还是一些我们还没见过的特殊的、混血的、半克林贡人、半瓦肯人？**

我觉得不是非此即彼。我举一个具体的例子:

安全策略可能是，如果一个应用程序有很高的漏洞级别，那么要么开发人员必须在七天内修补它，要么在七天后，它将阻止该应用程序访问互联网。这是一项商业安全政策。

另一个业务安全策略可以是:如果我在 AWS 或 Google 的两个可用区域之间发送流量，或者如果我在我的数据中心和我在 Google 的部署之间发送流量，这些流量需要加密。这些是非常明确的安全策略要求。

因此，安全团队应该能够有一个系统来定义这些类型的需求，并说，“伙计们，只要你们不违反这些东西，我真的不在乎你们在做什么，你们已经足够好了。”另一方面，应用程序团队正在构建三个微服务，他们知道这个微服务需要从这个位置使用这个其他服务，而这个其他微服务需要从这个位置使用这个其他服务，因此我将表达这一意图。在 Kubernetes 环境中，我将在 Kubernetes 策略中表达它；在另一个环境中，我会用另一个策略来表达。因为我确切地知道应用程序在做什么，只要我告诉你这些，应用程序就应该在工作。

如果你想了解我的微服务——它们的交互，它们在做什么——这基本上就是应用程序的目的。这是由应用程序开发人员表达的。业务策略的意图是，“如果您在数据中心之间传播您的应用程序并加密流量，您的漏洞将不允许您访问互联网”，这本质上是一种安全功能，由安全意图来表达。现在，如果您可以将这两者放在一个系统中，系统可以应用正确的策略来满足这两种需求，并在开发人员违反其中一种安全需求时向他们发出警报，或者在开发人员的安全团队违反需求时向他们发出警报，那么每个人都可以向前迈进。我们没有这种指责，“哦，我的应用程序不工作，因为你改变了一些东西，”或“我的安全受到侵犯，因为你没有做正确的工作。”这就是我们在这里试图做的:将这两个功能结合在一起。

在我看来，你所描述的是一种“即时”仲裁。也许我们实际上不需要把每个微服务/库交互的人召集在一起，并在某个地方的电子表格上详细描述那个交互。相反，我们为什么不让开发人员非常明确地表达他们希望他们的应用程序做什么，以及他们希望它消费什么——一种声明？然后让另一边的策略说，“这是应该允许声明做的事情；这是声明不允许做的事情。”然后在编排的时候，这些东西在上演的时候，那么就可以有一个东西说，来自 X 的意图是否违背了来自 y 的表达，我跟你是不是在一个页面上？

是的，你们完全一致。然后，因为事情是不断变化的，比如，在应用程序运行后发现了新的漏洞，所以在运行时，某人还应该能够看到是否始终符合意图，是否始终符合安全策略，或者是否违反了安全策略，我们必须对此采取措施。

那么这个人是谁？安全操作员？CISSP 吗？或者这个人本质上是 IT 部门的运营专家？

我认为所有的人都应该有能见度。因为谁会接到电话？让我们假设我正在运行一个应用程序，并且有些东西发生了变化——因为事情总是在变化。如果失败了，有人会接到电话。某些东西突然停止工作。这是人们最害怕的事情，在他们害怕安全性、合规性或其他任何事情之前，他们害怕某些东西停止工作。

所以当这个东西停止工作时，有人会接到电话，通常是一个操作团队，或者类似的人。在这个 DevOps 环境中，这种分页也经常会被开发人员使用，也会被安全团队使用。现在，他们所有人都应该能够拥有工具，能够看到什么失败了以及失败的原因。“它失败是因为我在微服务 A 和微服务 B 之间的 API 调用不再工作。”好吧。失败是因为安全策略被实例化了吗？或者某个微服务已经被发现存在漏洞？或者它在运行时被识别为已被破坏？还是因为有人连夜在微服务上推了更新，破坏了什么东西？

只有拥有正确的可见性工具，人们才能真正搞清楚，并做出快速决策。我们再次生活在这样一个时代，我们有 DevOps 团队，开发人员和运营人员在一起；这就是整个概念。通过为他们提供合适的工具，我们可以帮助他们解决这一问题。没有人愿意在凌晨两点被传呼。这就是问题的关键。

[Aporeto](https://www.paloaltonetworks.com) 是新堆栈的赞助商。

建筑工人的标题图像是在知识共享下许可的。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>