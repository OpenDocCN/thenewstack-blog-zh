# 测试移动应用的真实网络条件

> 原文：<https://thenewstack.io/testing-mobile-apps-for-real-world-network-conditions/>

当网络速度慢或超出范围时，移动应用程序会做出奇怪的事情。我们都经历过这种情况——当我们试图在电梯、地铁或地下停车场等地方使用它时，一款应用程序会出现问题。防止这种情况发生的最好方法是什么？全面的真实场景测试。

对于在当今全球市场部署移动应用的开发人员来说，了解应用在缓慢或波动的网络中的反应至关重要。它可以决定留住还是失去一个用户。没有人喜欢与糟糕的网络连接斗争带来的痛苦，特别是像预订优步这样的事情。

大多数移动应用都是在工作环境下运行的可访问网络上测试的，比如你的办公室。但是，这并不代表您在不同地区的所有用户。

## 问题:当今网络的全球状态

 [BrowserStack 首席技术官 Nakul Aggarwal

Nakul Aggarwal 是一位连续创业者，他与联合创始人 Ritesh Arora 一起创办了多家公司。在 BrowserStack 之前，他们共同创立了 QuarkRank(首批人工智能情感引擎之一)、QuarkBase(当时全球流量排名前 8000 的网站)和 Downcase(一家拥有全球客户的咨询公司)。在为 Downcase 构建网站时，他们因无法在一系列设备和浏览器上测试他们所构建的内容而感到沮丧。为了解决这个问题，他们构建了第一个版本的 BrowserStack。](https://www.browserstack.com/) 

应用程序依赖于世界不同地区的服务器和用户之间持续、实时的信息交换，而网络为这种通信提供了动力。由于网络性能因网络条件而异，因此您的移动应用程序性能也是如此。

当您外出使用移动应用程序时，您的网络带宽可能不够，延迟可能很高，或者您可能会遇到切换网络速度甚至让您的设备在线的问题。两个人用同一个 app，可能会有不同的体验，取决于他们在哪里。例如，虽然大多数国家都提供 4G 网络覆盖，但不同国家的网速范围各不相同。

为什么网络各不相同？我们都知道显而易见的因素，包括物理障碍、网络范围和设备之间的距离、无线网络干扰和信号共享。还有许多鲜为人知的因素，如网络使用和负载、部署不当的天线、信号反射和无线信号限制、发射机功率限制、信号极化等。

鉴于这些变量，网络长距离传输数据的能力很容易受到影响，从而降低应用程序的速度并影响其性能。然而，客户的期望值很高，可能是由最佳网络条件决定的。电子调查显示，90%的用户希望应用程序在 4 秒或更短的时间内加载，近一半的人说他们希望应用程序在 2 秒内加载。

能够确认您的应用在一系列网络上正常工作是确保积极的用户体验和满足客户期望的关键。不这样做只会适得其反，最终伤害用户保留和你的业务。

## 解决方案:大规模模拟网络条件

在模拟网络条件下进行测试是了解您的移动应用在不同网络环境下如何运行的唯一可行方法。这是防止网络故障的关键，因为网络故障会影响最终用户的体验质量。

操纵网络数据流是模拟不同网络环境的简单方法。用户可以调整不同的参数来控制网络数据流，包括:上传速度、下载速度、延迟、丢失百分比、数据包损坏等。最终，用户可以自定义这些参数来创建代表真实用户条件的网络配置文件。

您可以配置许多不同的参数，那么从哪里开始呢？以下是一些建议:

*   确保您的应用程序即使在糟糕的带宽下也是可用的。尽可能调整带宽消耗。
*   将延迟增加到三到四秒，确保任何用户启动的操作只延迟几秒钟，而不是几分钟。
*   在测试运行期间，在会话中途更改网络的带宽和连接。

## 入门:为各种网络环境准备您的应用

现在，您已经了解了网络测试的重要性及其工作原理，下面是需要注意的三个常见问题:

**战战兢兢。**抖动，网络上接收信息的延迟，是由无连接网络或分组交换网络的问题引起的。信息以数据包的形式分发，与最初的发送方式相比，信息可能会通过不同的路径传播并被打乱，从而导致延迟。作为一种最佳实践，您的移动应用程序应该设计为通过触发适当的通知来处理延迟，该通知带有一条消息，提示用户重试或只是等待系统响应。

**丢包。**当跨网络传输的数据无法到达目的地时，您的网络就会出现数据包丢失**。**例如，数据包丢失会导致模糊和滞后，从而影响视频或游戏应用的流质量。虽然流式传输将继续工作，但它将导致延迟和质量损失。像网飞这样的顶级应用通过实现缓冲来处理丢包。网飞系列的下一集甚至在你正在观看的下一集结束之前就开始缓冲了。这降低了糟糕用户体验的风险，并为你的下一次狂欢做好准备。双赢。

**网速:**影响设备间传输数据量的因素数不胜数:距离、流量、带宽、软件和硬件限制等等。事实上，网络可用性和速度在不同的地理区域是分散的。全球 4G (LTE)可用性从 40%到 90%不等，平均为 55%。4G 速度从 6 到 45Mbps 不等，平均为 17Mbps。每个应用都应该在一系列网络和速度下进行测试，包括 2G、3G 和 4G。监控你的应用在切换网络时的行为也很重要；常见问题会导致应用程序无响应。另一个选择是提出一个替代解决方案来处理影响使用的糟糕网络，比如离线使用的选项，谷歌在推出“YouTube Go”时实现了这一选项。

总之，通过复制一系列网络条件，网络模拟为测试真实场景提供了一个强大的平台。这有助于确保用户与您的应用程序的每一次交互在发布之前都经过审查、调试和简化。结果是开发人员可以专注于提供令人惊叹的体验，知道他们的应用程序将在现实生活中正常工作。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>