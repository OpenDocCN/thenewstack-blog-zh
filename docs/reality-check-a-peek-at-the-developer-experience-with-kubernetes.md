# 现实检查:Kubernetes 开发者体验一瞥

> 原文：<https://thenewstack.io/reality-check-a-peek-at-the-developer-experience-with-kubernetes/>

这篇文章是为期三个月的系列文章的第一篇，探讨了 2020 年库伯内特面临的挑战。一月份，我们将研究 Kubernetes 开发人员的体验。

尽管 Kubernetes 的采用如雨后春笋般涌现，但众所周知，在开发人员体验方面仍有许多问题需要解决——尤其是在企业环境中。“情况可能总是这样，当一项新技术对开发者非常有吸引力和有帮助时，它首先被迅速采用，然后当你扩大规模时，缺点开始出现，”可观察性服务提供商[新遗迹](https://newrelic.com/)的产品经理[JF·乔利](https://github.com/jfjoly)解释道。

对于一个刚刚接触 Kubernetes 的开发人员来说，在他或她的笔记本电脑上运行一个集群看起来似乎很简单。 [Canonical](https://canonical.com/) 的产品经理 Ammar Naqvi 解释说:“当你开始进入公共云，谈论成千上万的节点和集群时，难度会成倍增加。

开发者发现了一个混合了 Kubernetes 的袋子。一方面，它简化了复杂应用程序的供应和管理。但是，它也可以很快将开发人员抛入一种配置地狱场景，并且——尽管这可能不是 Kubernetes 本身的错——由于不同的 it 团队努力将架构混乱纳入现有的操作中。

那么开发者使用 Kubernetes 的真实感受是怎样的呢？

## 不同类型的开发者

描述 Kubernetes 开发人员体验的第一个挑战是，开发人员不是一个铁板一块的群体。Java 开发人员的日常工作流程与 Python 开发人员的不同。“我们倾向于说没有单一的开发者体验，”红帽公司产品战略高级总监 Brian Gracely 解释道。“我们发现的第二件事是，一些开发人员只想编写软件。他们不关心容器或 Kubernetes。”

在较大的组织中，这种类型的开发人员可能不需要关心。根据乔利的说法，当 New Relic 迁移到 Kubernetes 时，开发人员受到的影响很小——负责管理 Kubernetes 的是平台团队。“有很多人正在开发与 Kubernetes 没有直接联系的功能，对他们来说，Mesos 和 Kubernetes 之间的变化不是很明显，”他说。乔利说，这种模式是他在 New Relic 的许多客户身上看到的，尤其是专业化程度高、技术复杂的大型组织。

在[的播客采访](/kubernetes-its-not-easy-but-whats-to-come/)中，分析师[贾纳基拉姆·MSV](https://janakiram.com/)解释说，开发人员在 Kubernetes 上面临的挑战之一是缺乏一个类似“平台”的界面。相比之下，考虑另一种基础设施技术，虚拟机。虚拟机通过一套复杂的技术为最终用户提供了一项有价值的服务，所有这些技术共同创造了无缝、连贯的体验。Kubernetes 虽然也能够提供价值，但仍然没有一个开发者容易理解的内聚的抽象。

“Kubernetes 在很大程度上仍然是一个基础设施，”他说。"没有为 Kubernetes 的消费者提供开发者体验或用户体验."

最初，Kubernetes 是为集群管理员设计的。但是今天，它已经从一个基础设施工具转变为一个用于管理工作负载的完整平台。"但是基础设施之上的关键层却不见了."

### **入门**

当然，有许多开发人员希望并且需要在生产环境中熟练使用 Kubernetes。学习使用 Kubernetes 并不容易。Kubernetes 培训公司 [Magic Sandbox](https://www.msb.com/) 的首席技术官 [Mislav Stipetic](https://twitter.com/stipeticm?lang=en) 说:“大部分文档都是‘hello world’级别的。“当你在处理一个有状态、有高级网络、有安全问题的应用程序时，唯一的学习方法就是浏览一堆中型文章。”

与此同时，没有多少专家。“我们在网站上进行了一项调查，要求人们对他们的 Kubernetes 知识进行评分，从一到十，”斯蒂佩克说。" Kubernetes 的创始人之一填写了这份表格，他给自己的知识打了七八分."

“挑战从未停止，”纳克维表示同意。“至少这是我的经验，如果你一个人在玩香草 Kubernetes 的话。学习曲线是恒定的。”

随着开发人员开始使用 Kubernetes，有一套全新的行话要学，理解所有东西是如何相互联系的通常是一个挑战。[平台 9](https://platform9.com/) 的首席技术官 [Roopak Parikh](https://twitter.com/roopak_parikh) 解释说:“我们看到的另一个挑战是理解不可变的基础设施，这意味着你不能进去后改变配置文件。

### 配置蓝调

使用 Vanilla Kubernetes 时，一个常见的开发人员体验问题是管理配置。Naqvi 解释说:“即使你是一个有经验的开发人员，把所有的配置都做好也是一个挑战。”。“以你现有的筹码，很难让所有东西都玩得很好。”

基础设施中的组件越多，Kubernetes 部署越大，管理配置就越困难。“如果你想用你的 Kubernetes 部署做一些有用的事情，你将需要更多的基础设施组件，”Naqvi 说。把它直立起来，没有虫子，是一个挑战。

在 vanilla Kubernetes 中，许多新用户不了解如何将 Kubernetes 与 CI/CD 系统集成。这是大多数托管服务所提供的——根据乔利的说法，这对许多 New Relic 的客户来说是一个巨大的好处。“我们的客户对 GKE 或 EKS 这样的托管服务有很大的兴趣，”他说。“这真的降低了壁垒。”

在某些方面，库本内特的挑战源于闪电般的采用。乔利见过许多公司没有花时间让架构师制定政策并为组织如何在 Kubernetes 上实现标准化创建蓝图的情况，这导致了混乱，因为多个“流氓”Kubernetes 部署被拼凑在一起。有时，新开发人员很容易在没有清楚理解 Kubernetes 运行的基本构件的情况下匆忙进入。Kubernetes 中的所有抽象层对于大规模操作来说都是必不可少的，但对于只想快速测试某些东西的开发人员来说，这似乎是一种干扰。

另一个常见的棘手问题是对系统的可见性，或者，从更基本的层面来说，所有东西是如何组合在一起的。“我们发现这一点时，我们开始与 Kubernetes 内部，以及没有客户，”乔利说。“理解事物之间的联系是一个巨大的挑战。因此，如果我的节点出现问题，它会影响应用程序的哪个实例？”

### 体制问题

另一方面，与 Kubernetes 采用相关的最大学习曲线之一可能是组织性的。如果该公司没有建立一个新的平台团队来管理 Kubernetes，而是简单地让现有的基础架构团队负责这个新的基础架构，这将违背该团队迄今为止衡量的一切—稳定性和高可用性，这意味着很少的变化。“我们通常看到成功的地方是，公司说，你知道，Kubernetes 与我们希望构建更新、更频繁移动的应用程序的想法一致，”Gracely 说。“因此，我们应该围绕环境会频繁变化这一理念进行设计。”

对一些开发人员来说，这可能也是一件吃力不讨好的事情。“你甚至没有因为这种转变而获奖，这是一种无形的工作，”斯蒂佩蒂克说。“人和知识孤岛必须改变，在看到结果之前需要付出很多努力。”

### 回报

Kubernetes 如此迅速地被采用，这一事实指向了在开发者体验的讨论中反复出现的一点:它是值得的。“Kubernetes 让简单的事情变得困难，让困难的事情变得可能，”这是 Stipetic 的说法。一旦开发人员熟悉了 Kubernetes，先进的机制会让工作变得容易得多。它还为整个组织创建了一种处理容器编排的标准方式，这使得新团队成员的加入更加容易。

“Kubernetes 真的提供了你以前没有的价值，在编排，更好地利用资源和更快的上市时间方面，”乔利说。库伯内特斯:这并不容易，但接下来会发生什么？

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>