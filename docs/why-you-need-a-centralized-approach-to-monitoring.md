# 为什么您需要集中的监控方法

> 原文：<https://thenewstack.io/why-you-need-a-centralized-approach-to-monitoring/>

监控(有时也称为可观察性)包括随着时间的推移从源收集和分析数据，以跟踪其健康和/或性能。因为变化会随着时间的推移而发生，所以几乎所有的监控数据都是[时间序列数据](https://www.influxdata.com/what-is-time-series-data/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns)，这意味着它有一个时间戳。因此，当任何人谈论监控数据时，他们默认谈论的是时间序列数据。

常见的情况是，在一个组织中有多个团队，每个团队都有自己的[监控解决方案](https://www.influxdata.com/use-cases/monitoring/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns)。例如，有些人可能将监控数据存储在关系数据库中，而其他人则使用更适合这种时间序列数据的方式—时间序列数据库。事实上，一些团队比其他团队使用更有效的工具，甚至在同一个组织内，这说明了组织孤岛的问题。

这些通常反映了组织结构以及投资审批在组织内部是如何发生的。但是，这种既定的工作方式会产生采购和部署成本方面的冗余开销，并且在处理数据本身时会导致效率低下。

每个使用监控数据的团队或角色都有不同的需求，这使得数据本身成为一种资产。但是利益相关者需要分析数据以从中获得价值。通过将数据(如制造工厂中的原材料)重新用于其他用途而获得的额外见解会产生更多价值。如果一个团队将数据存储在专有的解决方案中，他们就限制了该组织中所有其他团队的能力。

为了充分利用收集的数据，同时及时满足所有监控数据用户的需求，工程团队正在采用一种集中的方法，通过“指标即服务”模型进行监控。

指标即服务(MaaS)是一种组织数据管理的方法，通过这种方法，公司将监控数据存储在一个中心位置，以便不同的利益相关者可以轻松访问。使用标准模型在整个组织中提供监控数据，不同的团队可以使用通用的基础架构，并从收集的数据中获取最大价值。这种方法避免了孤岛和供应商锁定，提供了更好的投资回报(ROI ),并将人们解放出来从事更高价值的任务。

## 监控数据利益相关方

要构建 [MaaS 解决方案](https://www.influxdata.com/resources/metrics-as-a-service-model-with-influxdb/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns)，了解谁是利益相关者以及他们如何使用监控数据非常重要。我们可以确定至少三个主要群体通常处理这类数据。

### IT 运营

这些用户关心生产环境的稳定性、可用性和可靠性。因此，对于他们来说，了解资源消耗、监控系统运行状况和状态以及使用诊断数据进行快速恢复至关重要。监控数据来自各种来源，以确保底层计算和网络基础架构正常运行，并响应其上运行的应用程序的需求。

IT 运营监控的主要关注点包括但不限于资源状况和以下状况:

*   物理设备、操作系统和虚拟机
*   集装箱和集装箱化服务的编排
*   网络和网格服务

### 应用开发人员

这组用户主要关注敏捷性和性能。为了深入了解这些领域，开发人员需要与系统间和系统内可观察性、跟踪和端到端体验相关的粒度数据。

应用程序开发人员关注的问题包括:

*   应用程序及其依赖项的性能如何
*   使新代码可用需要多长时间
*   他们能以多快的速度找到问题的根本原因并恢复功能状态

通过控制代码，开发人员可以轻松地公开应用程序自定义指标、推送事件、生成日志和跟踪延迟，以满足他们的观察需求。一旦暴露，开发人员需要一种方法来接收、可视化、分析和存储这些数据，这需要高性能的读写。开发人员使用这些数据以最小的变更失败率构建有效的解决方案。

### 业务经理

这群人寻求发现影响利润和增长的趋势，并寻找提高效率和效能的机会。为了实现这一点，业务经理和数据工程师依赖于监控与其他业务维度相关的交易、用户活动和业务成果的动态和成功率。

衡量成功依赖于关键绩效指标(KPI ), KPI 可以告知利益相关者事情进展如何，甚至可以揭示如何实现更好的结果。生成输入以馈送 KPI 需要高级分析，这些分析跨测量和多个数据源执行关联、聚合、求和以及操作。处理综合因素的数据反映了影响业务指标的系统的复杂性，并提供了一个更全面的情况。

总体目标是保持业务增长的积极趋势，并控制服务级别协议(SLA)和服务级别目标(SLO)。

## 构建指标即服务产品

虽然每个角色对监控数据都有不同的要求，但我们可以看到他们的综合需求涵盖了从支持应用程序的基础架构到实际应用程序的功能，再到这些应用程序的最终用户结果的整个范围。一切都是相关的，因此每个组的监控数据都会对其他组产生影响。

这种相互联系正是 MaaS 解决方案有意义的原因。这种模式的吸引力之一是，它将与监控相关的成本转化为对信息的投资，公司可以从中获利。

这代表着从狭隘的预算审批旧模式到孤立的、成本沉没的监控解决方案的重大飞跃。因为指标即服务模型涉及所有这些不同的群体，要发挥其全部潜力，它无法通过单点解决方案有效实施。它需要专门构建的[时间序列平台](https://www.influxdata.com/time-series-database/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns)的可扩展性、性能和功能。

任何指标即服务解决方案都是从数据收集开始的。它应该能够从任何来源收集数据，并支持推和拉的方法。像 [Telegraf](https://www.influxdata.com/time-series-platform/telegraf/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns) 这样的开源数据收集代理有数百个插件，所以它可以处理几乎任何数据源。

Telegraf 是一个轻量级的工具，因此它可以在传统的基础设施上运行，也可以在边缘设备或容器和虚拟机上运行。这种灵活性使其非常适合不同需求的监控涉众。

收集的数据需要有去处，存储这些数据的最佳工具是时间序列数据库。像 [InfluxDB](https://www.influxdata.com/products/influxdb-cloud/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns) 这样专门构建的时间序列数据库提供了多种部署选项，包括自我管理和完全管理的云。它与 Telegraf 无缝集成，创建高效、耐用和可靠的数据管道。

同样重要的是，InfluxDB 可以使用 Telegraf 将数据输出到各种目的地源，并且它还公开了 HTTP 端点，以允许各种用户访问存储在数据库中的数据。

使用这两个工具，每个组都可以设置自己的 Telegraf 实例来收集他们需要的数据，并将其发送到 InfluxDB 实例中不同的数据桶。这种方法允许每个组在 InfluxDB 平台中创建独立的数据管道，但是因为它们将所有内容都存储在 InfluxDB 中，所以用户可以从他们有权访问的任何存储桶中查询数据。

## 从数据中创造价值

指标即服务模式带来的变化超出了数据集中化的范围。它将监控数据从战术和环境决策过程转移到组织的战略规划层面。这种转变从根本上影响了管理者、提供商和消费者看待监控数据的方式，因为它引发了由以下因素导致的视角变化:

*   **ROI** :这是根据数据对业务绩效的影响来量化数据价值的能力。这个领域的一个潜在结果是有机会把它变成一个利润中心。
*   **问责制**:增加了数据消耗的可见性，符合监控请求的 ROI 方法。

利益相关者需要处理、分析和可视化他们的监测数据，以更好地理解这些数据，并从中获得洞察力和价值。InfluxDB 提供了多个查询数据的选项，包括 [SQL](https://www.influxdata.com/glossary/sql/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns) 和 [Flux lang](https://www.influxdata.com/products/flux/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns) (InfluxDB 的原生脚本语言)。

InfluxDB 拥有本机仪表盘和可视化工具，但用户也可以利用第三方集成工具，如 [Grafana](https://www.influxdata.com/grafana/?utm_source=vendor&utm_medium=referral&utm_campaign=2023-01_spnsr-ctn_maas_tns) 来创建可视化。该平台还提供了 Restful APIs，使用户能够对其数据进行粒度控制，并能够灵活地将该平台的功能扩展到其他应用程序和系统。

## 结论

这只是使用时间序列平台构建指标即服务解决方案的冰山一角。但是作为一个广泛的框架，这种方法适用于所有垂直行业和用例。利用专门构建的时间序列平台来处理关键的时间序列数据有利于所有利益相关者，因为它简化了从数据中创造价值的过程。

此外，基于开源的平台，如 InfluxDB，提供了一种经济高效的方式来整合整个组织的监控解决方案。InfluxDB 等平台的灵活性还简化了集中数据的流程，鼓励跨职能部门的协作和创新，并使数据访问民主化，以便关键利益相关方能够获得做出决策所需的信息，从而使其组织受益。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>