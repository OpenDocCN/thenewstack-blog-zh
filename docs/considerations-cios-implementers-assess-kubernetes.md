# 首席信息官和 IT 实施者评估 Kubernetes 的考虑因素

> 原文：<https://thenewstack.io/considerations-cios-implementers-assess-kubernetes/>

这篇文章来自我们的电子书“Kubernetes 生态系统的状态”，是如何为最终用户、团队和组织评估 Kubernetes 的更大部分的一部分。阅读完整电子书，包括关于 Kubernetes 组件和架构、Kubernetes 和 DevOps 管道的文章，以及我们的 Kubernetes 用户调查的原始数据研究结果。

Kubernetes 只是精心安排的发行的一种排列。目前，它拥有最多的用户，但这场赛马才刚刚开始。 [Docker Swarm](https://docs.docker.com/engine/swarm/) 和[中间层企业 DC/OS](https://mesosphere.com/product/) 是竞争对手。如果你真的选择了 [Kubernetes](https://kubernetes.io/) ，那将是在你做了大量重要的考虑之后。

## 首席信息官需要考虑什么

IT 部门的典型目标是为组织提供健壮可靠的应用程序。然而，面对当今经济现代化的挑战，组织的首席信息官不仅希望 IT 能够提供稳健性和可靠性，还希望 IT 在资源消耗方面变得更加灵活和高效。Kubernetes 帮助 IT 部门优化资源，并以比以往任何时候都高得多的规模运营。

现代企业成功的关键在于两个关键的授权领域:

1.  它如何通过以业务所需的规模交付开发人员所需的基础服务来增强他们的能力。
2.  它如何为开发人员提供他们需要的工具和支持，以便更灵活地向客户交付软件。

Kubernetes 是将 IT 从现代企业的看门人转变为创新者的秘方。以下是首席信息官在考虑 Kubernetes 如何成为这一转变的载体时需要考虑的问题:

### 商业考虑

 [肯赞·克雷格·马丁

克雷格·马丁(Craig Martin)是肯赞的工程界 SVP，他领导着工程运营部门，自称的使命是找到应对复杂挑战的优雅解决方案。在他的职位上，Craig 帮助领导公司的技术方向，确保探索新的和新兴的技术并将其纳入战略愿景。最近，Craig 一直专注于通过构建大规模微服务应用来帮助公司实现数字化转型。他长期从事专业服务领域的定制软件开发，在加入 Kenzan 之前，Craig 是 Flatiron Solutions 的工程总监。他在乔治梅森大学获得了理学学士学位。](http://kenzan.com/) 

*   **价值评估:**对于首席信息官来说，对 It 转型的商业价值以及容器和 Kubernetes 如何影响组织的转型进行战略评估非常重要。一个组织可能会从增加组织收入的事物中发现商业价值，或者从给予他们战略竞争优势的事物中发现商业价值。Kubernetes 不是能治愈所有 IT 问题的灵丹妙药。首席信息官应该得到所有利益相关者的认可，这需要仔细讨论潜在的中断，以及在 Kubernetes 推出时如何减轻这些中断的计划。这里的利益相关者可能包括 IT 管理员、开发人员和业务用户。现代 IT 涉及所有这些利益相关者的认同。这有助于带来文化变革，以及现代化带来的技术和建筑变革。
*   **遗留评估:** Kubernetes 通过有状态存储选项支持遗留应用，尽管这些通常不是 Kubernetes 的理想工作负载。首席信息官应该从技术和业务的角度出发，优先考虑迁移到 Kubernetes 的合适的高价值工作负载。应用程序的架构变化可能会产生成本，首席信息官也应该考虑这些成本。例如，如果仅仅为了使用 Kubernetes 而将一个任务关键型应用程序迁移到 Kubernetes，它可能会被中断，从而导致业务价值的损失。
*   **流程评估:**使用像 Kubernetes 这样的平台可以为 IT 提供敏捷性，并有助于快速交付业务价值。首席信息官应该考虑他们组织的整个价值交付过程，考虑潜在的陷阱，并决定对 Kubernetes 的投资是否正确。当应用程序的架构变化可以与容器和 Kubernetes 的迁移相协调时，ROI 可以最大化。

### 技术考虑

 [贾纳基拉姆·MSV

贾纳奇拉姆·MSV 是贾纳奇拉姆公司的首席分析师，也是国际信息技术研究所的兼职教员。他还是 Google 认证的云开发人员、Amazon 认证的解决方案架构师、Amazon 认证的开发人员、Amazon 认证的 SysOps 管理员和 Microsoft 认证的 Azure Professional。Janakiram 是云本地计算基金会的大使，也是第一批获得认证的 Kubernetes 管理员之一。他之前的工作经历包括微软、AWS、Gigaom Research 和阿尔卡特朗讯。](https://www.janakiram.com/) 

*   **范式转变:**使用容器和编排器需要 IT 决策者，尤其是首席信息官的思维转变。IT 专业人员需要考虑应用程序的弹性，而不是考虑应用程序的可靠性。对于首席信息官来说，为 It 和开发人员带来这种思维方式的转变是非常重要的。
*   **架构转变:**当基础设施和应用程序组件被视为牲畜而不是宠物时，您很快就需要重新思考现有的应用程序架构。首席信息官们应该为这种转变做好准备，并提前获得开发者的认可。
*   **位置转移:** Kubernetes 可以跨多个云提供商部署，或者部署在本地基础设施中。CIO 应该首先根据组织的需求，然后根据基础设施的需求来制定部署策略。
*   **存储转变:**对于首席信息官来说，确定组织的应用程序是否需要有状态存储非常重要。他们应该确保有状态的、面向存储的应用程序的需求——这些需求不会在 Kubernetes 下消失——将得到支持。
*   使用 Kubernetes，您总是需要将系统作为一个整体来考虑，并利用它的声明性模型进行部署。这需要在基础设施和应用程序层面上改变思维模式。Kubernetes 支持声明性模型，就好像它在问你，“告诉我你想要什么，我会努力去做，”而不是经典的命令式模型，“请指导我应该如何创建你想要的东西。”

### 人员和流程考虑事项

 [克里斯南·萨勃拉曼尼亚，瑞希多研究公司。

Krish Subramanian 是 Rishidot Research 的创始人，Rishidot Research 是一家专注于现代企业的研究和咨询公司。他关注的领域包括应用程序平台和智能平台。他为首席信息官和企业决策者的现代化战略提供建议，也是许多初创公司的顾问。Krish 还是一名行业发言人和博客作者。此前，他是 CloudMunch 的战略副总裁和 Red Hat 的 OpenShift 战略总监。](http://rishidot.com/) 

*   **人才考虑:**转移到 Kubernetes 将需要跨职能人才。首席信息官应该有一个战略来雇用新人才或重新培训现有人才，不仅是为了更好地理解新技术，而且是为了迎接这种规模的移动带来的流程变化。
*   **文化考量:**拥抱 Kubernetes 只是更大旅程中的一站。在现代企业中，将开发团队从运营团队中完全分离出来的时代已经过去了。虽然这个概念有很多变种，叫做 DevOps，但是它们都有一个共同的概念，那就是它们应该分担责任，彼此之间更直接地交流。Kubernetes 不是开发人员和运营人员的协作平台，也不是开发人员、安全人员和运营人员的协作平台，也不是当今流行的任何混合教学平台。但是正确地采用它，并接受分布式系统编排的概念，确实需要创建应用程序的人和管理应用程序的人经常一起吃午饭，交流经验。首席信息官有责任授权利益相关者来促进这种沟通，这样这些团队就不必仅仅为了进行建设性的交谈而费力地通过官僚机构。
*   **失败考虑:**容器和编排器为开发人员提供了一个快速试验和失败的机会。首席信息官应该授权利益相关者以这样一种方式进行试验，即失败成为补救和改进的第一步。

[cyclone slider id = " kubernetes-series-book-1-赞助商"]

## IT 实施者需要考虑什么

Kubernetes 在容器编排方面非常强大，但它不一定完全适合每种开发环境。组织内的关键利益相关者应该首先问自己这些问题:

### 您的应用程序是否需要分布式架构(例如，微服务)？

虽然 Kubernetes 可以在一个单一的基础设施中工作，但它的重点是在大规模上编排大量的小型服务。您需要考虑的是，您今天运行的服务，以及您计划将来运行的服务，是否可以从使用它们的应用程序中分离出来。换句话说，完成工作的代码可以部署在 API 后面吗？如果是这样，您可以使用 Kubernetes 将这些服务与调用它们的客户机分开编排。这种分离对于这些服务的可伸缩性至关重要。

### 是否有支持 Kubernetes 部署的监控工具？

基础架构监控有助于确保它所服务的应用程序的资源(存储、CPU、网络)的运行状况和可用性。如果您还没有这样的工具，那么您应该投资一个健壮的监控机制来跟踪底层节点的健康状况，以及 Kubernetes 中运行的工作负载的健康状况。有一些开源的商业监控工具可以很好地与 Kubernetes 环境集成。马上开始考虑监控工具，连同你的其他工具。我们将在下一章更多地讨论监控问题，因为 Kubernetes 可能会带来独特的挑战。

### 您的应用程序容器准备好了吗？

容器不同于虚拟机。组织中的每个人——包括开发人员、系统管理员和 DevOps 实践者——都应该对容器有一个基本的了解。如果他们还没有意识到集装箱化带来的商业价值(并不是每个人一开始都会意识到)，他们至少应该尊重组织的领导者以及他们在这项投资背后的推理。团队应该首先在非生产环境中采用容器，比如开发、测试、QA 和登台。

### 你的集装箱准备好了吗？

在过渡过程中，采用 Kubernetes 比采用容器要晚得多。Docker 为开发/测试环境和持续集成/持续开发(CI/CD)过程增加了价值。在开始使用 Kubernetes 或者任何 orchestrator 之前，应该已经添加了这个值。在您能够有效地使用 Kubernetes 管理生产中的容器化工作负载之前，对容器的业务和技术价值的充分理解和认可是先决条件。管理层应该了解采用容器技术的好处。最重要的是，所有涉众都应该接受培训，学习如何在分布式系统环境中使用容器。谷歌为 Kubernetes 专业人员提供认证培训，专门针对谷歌云平台。

### 您是否计划将遗留应用程序迁移到 Kubernetes？

无论如何，您为遗留迁移选择的迁移方法都可能具有挑战性。例如，一种常见的方法是部署一个 API 网关，然后在很长一段时间内，一次一个特性集地将整体分解成 Kubernetes pods。这是一种有效且易于管理的方法，但不一定容易。

### 相反，您是否计划开始全新的全新部署？

在全新的 Kubernetes 环境中开发和部署应用程序的挑战是完全不同的。对于本质上全新的技术，你可以更自由地承担风险。与此同时，你会和其他人一样遇到棘手的问题。

### 你会选择商业版还是社区发行版？

Kubernetes 可作为股票开源发行版，或作为一个管理的商业产品。根据您内部 IT 团队的技能组合，您可以选择 GitHub 上的开源版本，也可以从供应商那里购买基于 Kubernetes 的商业 orchestrator，例如提供专业服务和支持的 [CoreOS](https://coreos.com/) 和 Canonical。

[cyclone slider id = " kubernetes-series-book-1-赞助商"]

### 您准备好投入时间和精力来构建自己的容器映像了吗？

容器基于预先配置的映像。这种映像通常包括基本操作系统。除非所包含的应用程序是编译的二进制文件，否则映像还可能包括库和它可能依赖的其他依赖项。您的组织可能希望投资一个私有注册表，用于存储基础映像和自定义映像。一些商业注册中心带有扫描漏洞的图像扫描和安全功能。即便如此，最近的一项研究检查了 Docker Hub 注册表上存储的图像，发现大约五分之四的图像包含至少一个记录在案的安全漏洞。因此，您可以选择从二进制文件完全编译您的映像组件，使用您的组织知道并相信是安全的库。或者，你可以考虑 CoreOS 工程师 [Brian Harrington](https://twitter.com/brianredbeard?lang=en) 建议的架构方法，称为[最小容器](https://github.com/brianredbeard/minimal_containers)——一种更简单的组装容器的方法。

### 您的存储为高性能工作负载做好准备了吗？

Kubernetes 集群可以基于分布式文件系统，如 NFS、Ceph 和 Gluster。这些文件系统可以配置在提供高吞吐量的固态存储后端。Kubernetes 中运行的有状态应用程序可以利用这些底层存储原语，这对于运行生产工作负载非常重要。

### 您预期的正常运行时间是多少？

您的客户的服务水平协议(SLA)要求将对您的 Kubernetes 部署的每个方面产生重大影响:如何配置您的环境，如何配置每个应用程序，您可以承受的复杂程度，您可以支持多少个并发部署管道…此外还有很多。所有这些变量都会影响应用程序的总成本。下面的表 4.1 解释了可用性目标中每个“9”的预期停机时间(摘自苏珊·j·福勒的书)。由您来决定您的组织要达到每个级别需要付出多少努力。

***表 4.1:*** “九”中的停机时间如何翻译成实时。

### **您是否有或计划有一个发布管理系统？**

迁移到 Kubernetes 的一个主要好处是自动化应用程序的部署。Kubernetes 中的部署支持滚动更新、修补、canary 部署和 A/B 测试。为了利用这些能力，您应该拥有一个配置良好的构建自动化和发布管理平台。Jenkins 是一个广泛部署的自动化工具的例子，它与 Kubernetes 很好地集成，通过从源代码构建容器映像，可以将这些映像推送到生产和非生产环境中。

[cyclone slider id = " kubernetes-series-book-1-赞助商"]

### 你准备好所有的日志了吗？

Kubernetes 支持基于集群的日志记录，允许工作负载在一个集中的日志记录目的地记录容器活动。创建集群后，日志记录代理(如 Fluentd)可以从每个容器的标准输出和标准错误输出通道中吸收事件。此类提供商生成的日志可能会被纳入 Elasticsearch，并使用 Kibana 进行分析。

CoreOS 和谷歌是新堆栈的赞助商。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>