# 平台工程不是关于构建花哨的 ui

> 原文：<https://thenewstack.io/platform-engineering-is-not-about-building-fancy-uis/>

如果我不得不说出一些人对平台工程的最大误解，那就是成功的平台工程努力的结果是一个闪亮的用户界面，有许多按钮可以点击，还有仪表板可以查看。

许多人将开发者门户和服务目录与[内部开发者平台](https://internaldeveloperplatform.org/) (IDPs)混为一谈，但它们并不相同。这种混乱带来了真正的后果。在最好的情况下，闪亮的用户界面只能让组织从平台工程中获得一小部分投资回报。

2022 年，我与大约 300 个平台工程团队进行了交流。这些团队中的许多人都是从构建开发者门户开始他们的平台工程之旅的。然而，对于其中 95%的人来说，其他平台化计划会对开发人员的工作效率和投资回报率产生更大的影响。不到 20%的团队看到开发人员实际采用和使用开发人员门户。

## 开发人员门户、服务目录和内部开发人员平台

2022 年，Gartner [阐明了](https://internaldeveloperplatform.org/developer-portals/)开发者门户和内部开发者平台之间的关系:

"内部开发人员门户充当界面，开发人员可以通过它发现和访问内部开发人员平台功能."

例如，[网飞](https://platformengineering.org/talks-library/netflix-platform-console-to-unify-engineering-experience)在其现有平台工具的基础上构建了一个开发者门户。

**内部开发者平台**是一个平台工程团队绑定到开发者黄金路径的所有技术、工具和流程的总和。黄金路径通过设计减少认知负荷并推动标准化。IDP 甚至不需要用户界面。从配置和基础设施管理到环境和部署管理，IDP 不仅仅是收集和显示信息。设计 IDPs 就是要倾听开发人员每天的实际需求，并构建满足这些需求的解决方案。开发人员门户可以可视化底层平台，但它不是 IDP 的必要组件。

**开发人员门户或服务目录**是一个用户界面，它从几个 API 中提取数据，并根据不同的视图整合这些数据。服务目录向您显示了可用服务的列表、它们提供的 API 以及服务的所有者。它从 GitHub、票务系统和持续集成(CI)中提取并聚合元数据。服务目录通常有一个“模板库”，这或多或少是 GitHub 模板和仪表板的花哨集合。

## 为什么组织关注开发人员门户和服务目录？

如果开发人员门户和服务目录不是必需的，为什么那么多组织首先关注构建它们？以下是我见过的一些最常见的原因:

*   **显而易见:**当组织开始他们的平台之旅时，他们倾向于按照时间顺序考虑缓解痛点。首先想到的是你首先完成的任务。对于应用程序的生命周期，这可能是创建服务。对于开发人员来说，通常是入职。许多组织选择首先从这里开始自动化。

*   **像样:**仪表盘是你可以展示给经理看的东西，尤其是如果他们没有技术背景的话。可视化比重构配置管理更容易解释和销售。但这并不意味着它更有意义。

*   **每个人对接口都有自己的看法:**虽然在平台工程领域，相对来说很少有人对如何在底层技术和配置管理等真正的痛点方面构建内部开发人员平台有深入的了解，但更多人对接口有自己的看法。因此，在开发者体验中，更多的是谈论接口，而不是真正深层的问题。

## 为什么开发人员门户和服务目录的努力经常失败？

在开发人员门户和服务目录上投入时间和资源后，许多组织对结果感到失望。原因如下:

*   开发人员讨厌“又一个界面”他们希望呆在代码中，呆在他们的 git-push 通道中，快速地、无中断地运行。你可以构建最漂亮的 UI，但这并不意味着任何人都会定期查看它。我查看了一家非常大的电子商务公司的门户网站的使用指标，发现平均来说，开发人员每年只使用一个功能(搜索)来检查他们正在构建的东西之前是否已经构建过。
*   有形的利益很低。我听到的最常见的用例是“我们希望标准化新服务的创建。”让我们假设你一年创造了疯狂的 1000 个新微服务。今天你是怎么做到的？大概就是通过克隆 GitHub 模板。因为门户本身基本上只是 UI 框架，所做的只是调用其他 API。所以如果你实现了“通过点击一个按钮来创建一个新服务”的功能，这个按钮将调用 GitHub 模板化 API 并克隆链接的样例 repo。使用最常用的开源框架构建一个门户实际上至少需要两名全职员工(fte)花费六个月的时间。但是你的影响力在哪里？每个服务的创建时间是否增加了 10 秒？哪怕一分钟？假设出于某种不可思议的原因，这是 1 分钟，我们每年支付 100，000 美元的 1，000 项服务和 2 名全职员工。那么你的投资回报率仍然高达-80%，记住这是假设我们每年创造 1，000 项服务！恭喜你，你只是在浪费时间。
*   **门户和服务目录的实现和更新也是出了名的复杂。**开发者会不断规避，一个数据错误的仪表盘很可能比没有仪表盘更糟糕。你将花费大量的资源和时间来保持最新。

## 平台即产品是一种方式

您应该优先考虑对开发人员最有利的特性，而不是专注于构建开发人员门户或服务目录。你可以通过采用[产品方法](https://thenewstack.io/platform-as-a-product-true-devops/)来找出你的组织需要哪些特性。使用产品方法，你不会从某个有影响力的人告诉你的东西或者任何显而易见的东西开始。相反，你从用户研究开始。去找你的开发者，问问他们需要什么或者想做什么。

那么你有责任优先考虑这些问题。一种方法是记录开发人员每 100 次部署完成某项任务的频率以及需要多长时间。您将得到一个类似于下图的表格。

**样本计算**

*每 100 次部署。*来源:[https://human itec . com/blog/top-10-平台工程中的谬误](https://humanitec.com/blog/top-10-fallacies-in-platform-engineering)*

您可以使用此表来计算您的内部开发人员平台的 [ROI。](https://humanitec.com/roi)

在大多数情况下，我发现两个变化会产生最大的结果。确保你真正建立了基本的 CI/CD 流程，减少了工作量，提高了效率。将您的配置管理从“静态”重组为[动态配置管理](https://humanitec.com/blog/what-is-dynamic-configuration-management)可实现设计标准化、关注点分离和低认知负荷的持续自助服务。

## 何时仍应构建门户/服务目录？

这并不是说没有建立开发者门户的好理由。如果您的开发人员正在创建数量惊人的服务和资源，并且需要对它们进行分类以便进行内部开发，那么门户是非常有益的。然而，没有多少组织拥有数以千计的服务和开发人员来获得正的投资回报。

有时，您必须构建一个开发人员门户，因为管理层告诉您这样做。你别无选择。但是，如果这些情况都不适合您，就不要浪费时间将开发人员门户作为起点。相反，从[构建您的 IDP](https://platformengineering.org/blog/what-to-build-first-the-house-or-the-front-door) 开始。你的开发者会感谢你的！

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>