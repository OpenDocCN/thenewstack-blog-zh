# 可靠性的新定义

> 原文：<https://thenewstack.io/a-new-definition-of-reliability/>

毫不奇怪，拥有软件产品的组织将可靠性作为首要特性。

在软件领域，当我们谈论“可靠性”时，我们指的是[站点可靠性工程](https://thenewstack.io/usenix-the-3-measures-of-successful-site-reliability-engineering/)。谷歌[发明了这种实践](https://thenewstack.io/google-sre-site-reliability-engineering-at-a-global-scale/)作为一种用更好的软件工程方法实现 DevOps 的方式。事实上，可靠性的意义要深远得多。

即使在工程领域，如果你让 10 个工程师来定义可靠性，你可能会得到 10 个不同的答案。尽管有各种各样的观点，我们在[无可指责](https://www.blameless.com/about)相信在可靠性的含义上达成一致是实现它的第一大步。我们很高兴提供我们认为对可靠性最有帮助的观点，这是我们通过与各种规模的客户打交道而积累的经验。

我们发现，随着组织建立他们自己的可靠性实践，这个定义是一个引导他们有影响力的优先事项和一致的结果。

## 可靠性仅仅是系统健康吗？

您首先可能会认为可靠性等同于可用性。毕竟，如果一项服务 99%的时间都在运行，这意味着用户可以在 99%的时间里依赖它，对吗？显然，这不是故事的全部，但它值得探索为什么。

首先，这些简单的系统健康指标并不真的如此“简单”从四个黄金信号开始，你会得到所有不同服务的延迟、资源饱和、错误率和正常运行时间。对于一个复杂的产品来说，这意味着一大堆数字。你如何组合和权衡所有这些指标？哪些是值得关注和优先考虑的重要问题？

判断错误和可用性也很困难。[灰色故障](https://info.blameless.com/whats-difficult-about-problem-detection-0)，或者当服务没有完全工作但也没有完全失败时，可能很难用量化指标来捕捉。你什么时候决定一个服务“足够可用”

如果您的服务完全符合预期，但与客户的期望不一致，该怎么办？您如何在您的系统健康状况图中捕捉这些信息？

显然，可靠性的定义还需要一个层次！

## 可靠性是用户对服务的主观体验

所有这些问题的答案都是“这取决于用户的幸福感。”考虑用户的期望和观点可以让你优先考虑你的许多服务指标。这里有一个经典的简单例子。假设您有两个事件:

1.  一项 99%的用户都依赖的服务速度变慢了
2.  1%的用户访问的服务偶尔会完全中断

哪一个应该首先引起你的注意？尽管事件二对系统运行状况的影响更大，但事件一会让您的客户更不满意，因此应该优先考虑。

这种新形式的可靠性，由谷歌在其 SRE 书中支持，激发了 SRE 工具的创造，如 [SLIs，SLO 和错误预算](https://www.blameless.com/the-comprehensive-guide-on-slis-slos-and-error-budgets)。这些工具允许您从系统健康指标中量化客户满意度。您根据每项指标对客户体验的重要程度来衡量它们。

了解你的可靠性并不容易。你需要真正了解你的用户:

*   *你们有哪些不同的用户群？他们如何使用每项服务，他们最依赖什么？*
*   *每组用户有多大？他们对你的底线有多大贡献？*
*   *这些用户群对现有服务的满意度如何？什么样的系统健康降级会让他们不满意？*
*   *他们对服务未来的发展有什么期望？事件如何影响他们对此期望的信心？*

这种对用户的深刻的、多方面的理解需要整体的努力来实现。这些问题的答案并不完全在您的 DevOps 或 SRE 团队的范围内。包括客户成功、营销、产品和销售团队在内的整个组织将不得不合作构建这一宏伟蓝图。

然而，我们逐渐明白的是，这张照片仍然不够大。

## 一个新的以社会为中心的可靠性定义

谷歌 SRE 的书带来了可靠性的革命，但它做出了某些假设，并不适用于每个组织。不是每个人都是谷歌——事实上，只有谷歌是！不像他们，你可能只有有限的资源来提高你的可靠性。我们认为这个限制应该是你理解什么是可靠性*的基础。*

让我们尝试两个服务的另一个简化示例

1.  99%的用户使用的服务，70%的可用性
2.  50%的用户使用的服务，80%的可用性

想象一下，你有一个团队可以花 10 个小时来提高其中一个服务的可靠性。你告诉他们优先考虑哪一个？仅仅基于客户满意度，你可能会认为服务一是最容易的选择。但是还有一个因素需要考虑:

1.  该服务有一个编码的剧本，指导随叫随到的工程师如何诊断、试验和解决常见事件。
2.  这项服务是新的，随叫随到的工程师对它不熟悉。

你的团队不仅仅是一群机器人，他们可以完美地执行任何具有完美优先级的计划。他们不会总是有他们需要的资源，你也不会总是有时间去创造那些资源。他们在处理新问题时的弹性和适应性会因其他各种情况而有很大不同。

根据你的*社会技术弹性*，思考*对客户满意度的潜在影响*，你可能希望让你的团队优先考虑服务二。这种理解也教会了你“提高可靠性”的真正含义:什么过程、工具和资源将弥补差距，并使他们在处理事件时充满信心？

## 寻找社会技术可靠性的差距

为了回答这个问题，我们把它分解成其他问题。想象一个你觉得非常可靠的服务(用户对它很满意，它经常达到他们的标准，他们容忍偶尔的失败，等等)。)要判断它的社会技术可靠性，问问自己这些关于它的问题:

*   *工程师们有应对 it 失败的计划吗？他们实践过吗？*
*   如果计划无法解决事件，工程师是否知道何时何地上报？他们知道如何判断事件的严重程度吗？
*   *工程师是否了解如何向客户/潜在客户/利益相关方推销该功能，以及这如何影响用户预期？*
*   *工程师是否了解改进服务的产品计划，该计划如何传达给潜在客户等。，以及该计划如何改变服务的健康状况？*
*   *此服务失败后还会出现哪些故障？工程师将如何应对这些巧合故障的整体图景是什么？*
*   *这项服务的待命团队有多疲惫？他们的工作负载有多平衡？他们准备处理多少失败？*
*   *这个团队对中断的容忍度如何？如果某个工程师突然缺席，他们还能处理服务中的事件吗？*
*   *您的待命团队了解服务所有权的界限吗？他们知道他们要对什么类型的事故负责吗？*

通过回答这些问题，您可以确定哪里需要额外的资源，以及它们在哪里最有效。但是你如何判断诸如“哪些团队准备得最充分？”

### 量化社会技术可靠性挑战

找到这些问题的客观答案的最佳指南是从经验中学习。与其试图直接量化“准备程度”或“对中断的容忍度”，不如看看事件是如何发生的。跟踪事件的解决效率，查看 MTTx 指标和完成每个步骤所需的时间。然后比较在为每个步骤开发不同的策略变化或资源之前和之后的统计数据，以查看它们的影响。

您可以观察特定团队成员每月被拉去值班的频率。查看特定服务在上一个季度经历 Sev0 事件的频率。您甚至可以跟踪团队完成事故后续行动的频率。这些信息给了你洞察力，让你决定什么时候该放慢脚步，解决技术债务。或者也许你可以把它作为一个警告信号，表明你的团队正在经历精疲力竭，或者处于疲惫的边缘。

当然，数字不能说明全部情况。每个事件都有减轻处罚的情节，这使得比较苹果变得困难。相反，你可以观察总体趋势，控制类似事件，看看哪里正在发生改进，哪里仍然需要改进。跟踪这些统计数据也将突出异常值，您可以在回顾中进一步调查这些异常值。

## 欢迎来到综合可靠性

本质上，这种新的可靠性是:

1.  您系统的健康状况
2.  根据客户期望和满意度进行权衡
3.  基于您当前的能力划分优先级

你看到的不仅仅是服务中的内容，或者服务前面的用户，还有服务后面的人。这是一个指导您在有限的时间和资源内以最有意义和最有影响力的方式变得更加可靠的定义。

SRE 原则和事故管理实践通过这一更完整的描述得到进一步加强。例如，在事故回顾中，我们鼓励你不要只挖掘事故的系统原因，而是事故管理过程本身。错误预算策略可以更好地考虑您的团队在不同服务领域的能力，实现有战略目标的代码冻结和 bug bashes。

可靠性的定义可以被所有团队共享，[作为一种更通用的语言](https://www.blameless.com/blog/reliability-for-non-engineering-teams)。团队可以在目标上保持一致，同时也了解能力和资源缺乏的地方。

我们希望这次对可靠性新世界的尝试能激发您在自己的组织中更深入地思考这个概念！在定义上达成一致，并开发度量和优化的实践，是提高你的第一个特性:可靠性的最好方法。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>