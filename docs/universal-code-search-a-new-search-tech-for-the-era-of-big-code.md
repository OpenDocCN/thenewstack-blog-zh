# 通用代码搜索:大代码时代的新搜索技术

> 原文：<https://thenewstack.io/universal-code-search-a-new-search-tech-for-the-era-of-big-code/>

[](https://www.linkedin.com/in/quinnslack/)

 [奎因·斯莱克

奎因·斯莱克(Quinn Slack)是 Sourcegraph 的首席执行官兼联合创始人。在 Sourcegraph 之前，Quinn 共同创立了 Blend Labs，这是一家拥有 500 多名员工的企业技术公司，致力于改善住房贷款。在 Palantir Technologies，他创建了一个技术平台，帮助美国五大银行中的两家从房地产危机中复苏。他是高中毕业后 Bleacher Report 的第一个员工和开发者。Quinn 毕业于斯坦福大学，获得计算机科学学士学位。](https://www.linkedin.com/in/quinnslack/) [](https://www.linkedin.com/in/quinnslack/)

世界创造代码的方式已经改变。我们已经进入了大代码时代。

大代码是关于代码如何增长的:

*   **量**:代码量的指数级增长。
*   **多样性**:交付软件的语言、工具和过程更加复杂。
*   **速度**:加速的交付周期意味着代码变化更快，几乎每天都在交付。
*   **价值**:通过高质量的软件重新构想商业模式和实践。

这种数字化转型对每个人都有好处，带来了无数改善我们生活的创新。但这对开发者来说很难。

问题是，面对这种日益增加的复杂性，开发人员仍然需要高效地编写和更改他们企业的代码，以满足紧迫的期限和严格的质量和安全要求。

对于任何公司来说，大代码时代的次优开发人员生产力都是一个失败的命题。开发滞后意味着延迟发布、低质量、沮丧的团队、不满意的客户和没有竞争力的产品。

谷歌和脸书是第一批解决这个问题的公司之一，他们投资了数亿美元用于内部使用的定制的专有代码搜索基础设施。

但是其他人呢？

答案是[通用代码搜索](https://about.sourcegraph.com/universal-code-search/)。像优步、Lyft、Yelp、Qualtrics 和其他人这样的数字先锋采用这项技术作为在大代码时代提高开发人员生产力的正确解决方案。

通用代码搜索使开发人员能够遍历相互依赖的代码库的复杂世界——大量不同的编程语言、代码宿主、存储库、版本控制系统、服务和 API——以找到他们在当今协作的多维开发环境中完成工作所需的代码和其他信息。

传统的开发工具，如编辑器和 ide，是为在单一存储库上工作的个人开发人员而构建的，而不是为大规模使用大型代码库的团队而构建的，因此在搜索方面受到严重限制。GitHub 在努力拓展为软件开发平台的过程中，正在提高其代码搜索能力，但单个代码主机本质上不可能是通用的、跨库的解决方案。

通用代码搜索则不同。这是一种单一的、高度可扩展的方法，可以探索、导航和分析组织的所有海量代码存储，不受系统、存储库或语言的影响，是解决 big code 的四个 V 的独特方法:

*   **Volume** :代码探索、导航、智能，以及跨整个代码库的变更管理。
*   **多样性**:相同的功能适用于每一种编程语言、代码宿主等。
*   **Velocity** :搜索所有分支、差异和提交——跨历史进行代码搜索，或者获得关于即将到来的变化的警告。
*   **价值**:提高开发人员的工作效率，为整个企业带来更多价值。

使用通用代码搜索的开发人员无需在不同的代码库中不断搜索，而是可以跨存储库发现和重用现有代码，而不是重新发明轮子，理解和调试代码，为特定任务找出正确的库或服务，并共享代码链接以帮助团队成员获得最佳实践。

API 所有者可以看到并监控谁在使用他们的代码以及如何使用，升级所有存储库中 API 消费者的调用站点，并淘汰旧的 API。

对于开发运维团队和安全团队来说，通用代码搜索可以查明错误或漏洞的来源，识别造成事故的代码更改，评估生产中特定代码行的性能，并在所有存储库中应用补丁和升级。

在大代码时代，代码搜索不仅需要成为开发人员发现和探索整个企业代码库的方式，还需要成为他们快速理解上下文代码的方式。通用代码搜索支持更好、更复杂的代码审查，是代码变更活动背后的基础技术。

通用代码搜索的核心功能包括:

*   **代码搜索**:快速找到、理解和更改他们负责的所有代码的能力——包括代码发现、代码智能和代码更改管理的活动
*   **代码导航**:通过即席查询找到特定代码的导游
*   **代码探索**:找到已知和未知的代码，代码智能提供上下文理解
*   **代码发现**:导航、探索和理解你正在寻找的代码，即使你不知道它的存在
*   **代码智能**:显示和共享关于代码的额外上下文信息
*   **代码变更管理**:对活动进行大规模的代码变更

为了有效，搜索必须在几个方面通用:

*   所有存储库
*   所有编程语言
*   所有代码更改(提交、分支和分叉)
*   所有文件格式
*   所有其他生成关于代码的元数据的开发人员工具(例如用于日志记录、跟踪和分析)

通用代码搜索满足所有要求，用户只需通过浏览器、shell 或 GitHub、GitLab、Bitbucket Server、Phabricator、Perforce 和 Subversion 等流行工具进行搜索。结果立竿见影。

受益于通用代码搜索的公司有:Lyft。2018 年，这家乘车共享巨头开始了该公司历史上最大的代码重构项目:将其 PHP 整体分解为微服务，以便 Lyft 的基础设施可以更灵活地为其 3000 万乘客服务。

如此庞大的大型代码库重构是一项精细的工作。例如，一个共享库的 API 可能需要更新以支持一个新的特性，但是这样做可能需要改变几十甚至几百个下游依赖项。由于更新一个共享依赖项，代码中必须更改的地方的数量很容易膨胀到成千上万个点，分散在不同团队拥有的不同组件中。

得益于通用代码搜索，Lyft 能够整合大量关键信息，从代码主机上的存储库到项目间的依赖关系和应用运行时信息，并确保新微服务部署期间的生产稳定性。

在线个人金融公司 SoFi (Social Finance Inc .)决定将其代码主机从 Bitbucket 转到 GitLab，但随后很快意识到他们需要一个更强大的工具来搜索他们的数百个存储库。这家金融科技公司的快速增长使得维护一份完整的已发布 API 列表变得困难，该列表显示了其服务的相互依赖性。

借助通用代码搜索，SoFi 可以确定哪个微服务被另一个微服务引用，防止因代码更改而中断生产，并避免代码重复。该技术允许 SoFi 充分了解代码更改如何影响其他微服务的范围和广度。

随着通用代码搜索技术的不断发展，它将超越搜索、导航和分析，朝着主动推荐代码修复和其他行动的方向发展——就像谷歌现在让你在搜索航班信息时，直接从搜索结果页面预订旅程一样。

通过解决当今快速发展、错综复杂的软件组织中一些最紧迫的挑战，通用代码搜索是大代码时代的正确技术。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>