# DevOps 需要网络运营

> 原文：<https://thenewstack.io/devops-demands-netops/>

构建在您自己的服务器和网络上运行的应用程序曾经意味着在被认为是开发人员的任务和留给网络团队的任务之间有一些非常明确的界限。向云平台和云抽象(甚至在您自己的硬件上)的迁移改变了这些部门所处的位置，正如网络运营团队一直在采用新的工作方式一样，这在一定程度上是为了满足开发人员的新需求，他们习惯于能够控制他们的应用环境，而不必等待对资源的访问，无论是虚拟机、存储还是连接。

在云中，你不会接触到物理网络交换机，因为像亚马逊网络服务、微软 Azure 和谷歌云平台这样的云不会让开发者接近硬件的水平。但是开发人员为他们的应用程序设置所有的网络，管理 IP 范围和创建虚拟网络，并执行他们想要自动化和操作化的网络任务。

“越来越多的云原生开发者不得不以一种前所未有的方式应对网络，”T2 木偶生态系统工程副总裁 [Nigel Kersten](https://www.linkedin.com/in/nigelkersten/) 解释道。“以前，我为自己的服务设置了一个端口，但其他一切都是其他人的责任。传统上，设置 VPC、自动扩展和进行故障转移是网络运营团队的职责；现在开发人员定期做这些，但他们不认为这是网络工作。”

他指出，事实上，由于云平台，“所有现代开发人员都在转变为分布式系统开发人员，构建分布式系统总是需要理解故障模式和网络分区。”

对于云提供商来说，这种抽象是一种深思熟虑的选择。“客户看到的是虚拟网络抽象；Azure Networking 的公司副总裁 [Yousef Khalidi](https://www.linkedin.com/in/yousefkhalidi/) 解释道。

> “越来越多的云原生开发人员不得不以一种前所未有的方式应对网络”——Nigel kers ten，Puppet。

“我们已经在网络中做了一些工作来实现这种抽象。我们使用非常简单快速的交换机，我们将所有的智能都放在主机中；这使我们能够保持网络的简单、可靠和高度冗余，虚拟网络抽象可以完成剩下的工作。我们不使用物理网络来实现虚拟网络抽象:交换机本身没有物理网络 ACL 或特定路由；它被设计成保持在 VNET 水平。物理网络进入画面的方式是尽可能远离画面。如果客户需要了解更多关于物理网络的信息，我会说我们失败了。”

Red Hat 负责网络的首席产品经理 Andrius Benokraitis 告诉新的堆栈，这些抽象对开发人员和将自己的网络与云集成的网络管理员都有效。

“在云端；服务器、网络和存储都是高度互联的。几乎看不见的界限催生了云管理员，在大多数情况下，云管理员负责确保为关键工作负载调配、配置和调整所有工作负载领域。Benokraitis 说:“以前通常在服务器或存储领域接受过培训的云管理员已经采用了能够跨越通常孤立的物理或虚拟技术孤岛的工具。

即使在企业内部，DevOps 也帮助推动网络运营团队采用更加集成的工作方式来跟上时代的步伐。

## DevOps 需要网络运营

作为私有云的一部分，企业向软件定义的网络的转变才刚刚开始，并且通常与新数据中心的部署(或现有设施的改装)相关。Benokraitis 说，结合连接和管理现有物理网络设备(SSH、NETCONF 和 open APIs)的标准以及网络操作系统虚拟实例的可用性，这为网络操作创造了环境。

“有了这些，网络专业人员现在可以在对生产基础架构进行更改之前，在虚拟环境中模拟和测试更改。在此之前，测试通常是在生产环境中进行的，这导致了更多的中断和停机。”这是管理网络以满足业务和技术需求的关键。因为它是任务关键型的，联网速度很慢，而且需要手动处理，这使得它很脆弱；这种情况必须改变。

Benokraitis 指出:“当 IT 组织在服务器和应用程序部署方面采用敏捷和 DevOps 实践时，网络灵活性的压力变得更加明显。“企业网络工程师承受着来自客户的巨大压力，他们需要根据需求提供服务，因为他们依赖于组织的其他部门。例如，当应用程序开发团队立即需要新的 VLAN 时，需要等待三到六周，这给 it 主管带来了新的挑战。”

## 网络网格

转向 Kubernetes 和微服务增加了开发人员使用网络抽象的压力。当环境不是静态的时，联网更加困难，无论是自动扩展以满足需求还是重启服务以处理故障，但服务网格和代理，如 [Istio](https://istio.io/) 和 [Envoy](https://www.envoyproxy.io/) 以及新的[网络服务网格](https://www.networkservicemesh.io/)项目通过提供抽象和构建块来简化开发。《特使》的作者 Lyft 的[马特·克莱恩](https://www.linkedin.com/in/mattklein123/)解释说:“这个想法是封装一堆像负载平衡、HTTP2 GRPC 等这样的难题，在一个地方完成，并允许与任何应用语言一起工作。”。

数据和控制平面的分离允许开发人员通过集中式策略管理来减轻加密和授权等网络问题。“开发人员不必在每个应用程序中都内置加密功能，”Linus 长期内核开发人员、 [Cilium](https://cilium.io/) 项目创始人托马斯·格拉夫说；“服务网格带来的最大元素是允许对所有流量进行集群范围的加密，而无需专门为此开发人员。”

这与考虑 IP 地址和物理网络概念非常不同，因为网络的使用与构建单一应用程序时不同。“没有人想再看到 IP 地址；他们希望看到服务名称和 pod 标签，并在不同的集群中对服务进行持久命名，”Graf 建议道。"网络正在成为一个应用程序信息总线."

这些根本性的改变需要和 DevOps 一样的文化改变。团队将需要开发人员和网络专家，拥有同样混合的技能。Kersten 指出，网络管理员需要学习脚本，并熟悉使用规则和过滤器来帮助他们处理声明性状态的工具，这是一个巨大的文化转变，与他们习惯的一步一步的程序性操作手册方法不同。“这需要分离关注点，组织需要进入持续审计网络的状态。我需要能够提取每个 VPC 的属性，并分析不合规的内容。最好的方法是为开发者(围绕网络)制定指导方针，然后信任但要核实。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>