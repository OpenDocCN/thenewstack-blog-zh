# Kubernetes 和数据库运营商如何推动数据革命

> 原文：<https://thenewstack.io/how-kubernetes-and-database-operators-drive-the-data-revolution/>

[](https://www.linkedin.com/in/chedim/)

[Dmitrii Chechetkin](https://www.linkedin.com/in/chedim/)

[Dmitrii Chechetkin 是 Couchbase 的一名高级软件工程师和开发者倡导者。Dmitrii 在制作 web 和移动应用程序方面拥有 14 年的全栈软件工程师经验，对 IT 技术有着深刻的了解。在 Couchbase 之前，Dmitrii 是 Media Trust 的软件架构师，也是 Marriott International 的 API 解决方案架构师。](https://www.linkedin.com/in/chedim/)

[](https://www.linkedin.com/in/chedim/)[](https://www.linkedin.com/in/chedim/)

对它来说，这是充满挑战的日子。我们的系统需要处理的数据量呈指数增长。随着数据的日益复杂，这一挑战变得更加严峻。信息没有它的上下文是没有用的，上下文是由不同数据点之间的关系建立的，但每个关系也需要逻辑和处理资源。结果，对我们的数据存储和检索系统及其管理复杂性的需求增加，使得手动数据库管理实践越来越不可行。

幸运的是，这不是工程师们第一次面临这样的问题。我们的历史充满了如何应对日益增长的需求的鼓舞人心的例子。从第一台风车到蒸汽机，从螺丝车床到福特的传送带——回顾工业革命，人们可以得出结论，适当和成功的自动化可以点燃生产力的新水平，促进经济增长。

## **作为车床的 Kubernetes**

自动化成功的另一个例子来自 21 世纪初。当时，我们面临着一个类似的问题，但与软件架构有关:互联网改变了用户应用程序如何工作的一切。我们最初的方法植根于应用客户机/服务器时代众所周知的集中式架构，但并不奏效。大型集中式应用程序后端无法提供从每秒数千个请求扩展到数百万个请求所需的灵活性。我们大多数人可能都记得至少有几个案例，当“单体”web 应用程序在病毒式传播后遇到了严重的性能问题。

这个问题的解决方案来自于采用一种方法，即组织将这些单片分割成运行在 [docker 容器](https://www.docker.com/resources/what-container) 上的更小的“微”服务，这些服务可以彼此独立地水平扩展，并且比单片快得多。随着每个微服务增加对开发运营的需求，然而，如果没有像 [Kubernetes](https://thenewstack.io/category/kubernetes/) 这样的容器编排框架，这个策略就不会如此成功。Kubernetes 于 2014 年公开推出，之前在谷歌内部被称为 Borg ，它迅速证明了自己是自动化部署工作流的首选，如今已成为现代开发运营的行业标准之一。

此外，作为一个开源的云原生组件，Kubernetes 将继续发展和改进。与自动化软件安装包的想法相呼应，Kubernetes 不仅抽象出特定的基础设施实现，而且自动化环境创建和部署过程。大多数使用 Kubernetes 的组织相信它能够运行至少 50%的总工作负载。

## **自主操作员**

今天，我们发现自己处于数据革命的早期。而且，就像在工业革命的黎明，世界期待我们通过自动化数据平台的管理功能来满足数据处理的需求。

当涉及到使用[数据和数据库](https://thenewstack.io/category/data/)时，自动化管理操作可以推动任何依赖数据洞察力和决策制定的组织的发展:稳定性以及通过可重复性实现的敏捷性。人类操作员虽然擅长解决问题和创新，但不擅长常规任务，很快就容易出错。操作任务，如扩展和缩减、备份、修补和日常数据库维护，都是此类活动的示例。从您的数据库管理员那里听到“哎呀，错误的命令”可能是一种令人头疼的经历。

要解决的问题是采用这些人工操作员的最佳实践，并以标准化的方式有效地自动化它们。

十年前，创建一个数据库自动化管理系统需要大量的工作，因为它必须从零开始构建。这自然导致了托管数据库即服务(DBaaS)解决方案的出现。随着 2012 年 DynamoDB 的推出，AWS 是第一家创建此类服务的大公司。在它成功之后，其他大公司也纷纷涌入这个新市场。然而，使用通用 DBaaS 有它的问题(例如，供应商锁定、特定版本的使用要求、专门工作负载的最小定制等。).

Kubernetes 演变成一把自动化的瑞士军刀，通过提供一个伟大而稳定的软件管理框架改变了这一切。这一发展中的一个特别重要的里程碑是对有状态集合和持久卷的支持，因为数据库是有状态应用程序的典型例子。

利用控制理论的元素， [操作符](https://kubernetes.io/docs/concepts/extend-kubernetes/operator/) 作为 Kubernetes 扩展/插件工作，并使用自定义资源定义(CRD)来定义和控制服务的状态。用声明性 CRDs 构建数据库环境相当容易:您键入的内容就是您得到的内容。操作员读取系统所需状态的 CRDs，不仅为您创建 CRDs，还使用内部事件监控环境，确保系统始终接近所需状态。不再需要复杂的设置脚本——您的整个数据库系统都是标准化的，用声明性语言(YAML)描述，一目了然。

[couch base Autonomous Operator](https://www.couchbase.com/products/cloud/kubernetes)是最早将该框架广泛用于数据库自动化的产品之一。Kubernetes 的许多其他社区构建的 [数据库操作符](https://operatorhub.io/?category=Database) 近年来也变得流行起来。围绕这项技术还出现了一些社区和兴趣小组，例如，[DoK](https://dok.community/)(Kubernetes 上的数据)社区。

## **新视野**

DevOps、DBaaS、Kubernetes 和 Operators 的兴起为分布式应用创造了一个引人注目的端到端平台。开发人员不需要担心他们的代码如何部署，或者不同的组件如何相互通信。相反，开发人员可以专注于数据和控制其发展的逻辑，为业务提供改进的洞察力和决策能力。最后，相同的一致工具/框架可用于管理应用程序堆栈的所有层，包括任务关键型数据库层。自动化将组织的重要资源从日常劳动密集型任务中解放出来，为创新和进一步发展创造了空间和时间。

在更广泛的行业内，未来看起来是光明的。云提供商正转向完全托管服务，以提供新的业务模式。由于大多数数据库创新都是开源的，一些云提供商增加了这些开源技术的包装器，并将其作为 DBaaS 提供。不幸的是，这一策略并非对所有人都是好消息。这极大地影响了其他数据库供应商的收入，迫使他们更换许可证。虽然不同的供应商有不同的方法，有些选择商业源许可证(BSL ),有些选择服务器端公共许可证(SSPL ),但最终目标是相同的。然而，这是一个不断发展的景观，人们希望它会稳定下来，达到一个它受益最大、原创研究和创新得到奖励的状态。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>