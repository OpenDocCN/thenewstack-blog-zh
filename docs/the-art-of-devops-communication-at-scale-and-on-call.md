# 大规模、随叫随到的开发人员沟通艺术

> 原文：<https://thenewstack.io/the-art-of-devops-communication-at-scale-and-on-call/>

由 [CloudBees](https://www.cloudbees.com/) 赞助的“云原生开发”系列文章的最新一篇。每周一查看更多帖子。

每一次 DevOps 转型都是独一无二的，就像该公司正在经历的打破藩篱、重组和文化变革一样。但是各种规模的公司都有一些相似之处。DevOps 旨在围绕个人所有权、责任和感觉每个人都与业务有利害关系来团结技术团队。您如何传达和扩展这些变化会极大地影响开发运维转型的成败。

在这篇文章中，我们采访了科技巨头微软的一个团队，该团队进行了大约一年的 DevOps 过渡，这家成立五年的初创公司从第一天起就开始进行 DevOps。无论您处于 DevOps 流程的哪个阶段，您都可以使用这些软件可靠性工程师(SREs)关于 DevOps 转换关键点沟通的建议。

## 大规模沟通的艺术

DevOps 有一定的个性特征。由于公司不断变化，就像俄罗斯方块不断尝试以新的方式组合在一起，你需要一个致力于共同愿景的团队。对于 Klaviyo 的高级现场可靠性工程师劳拉·斯通来说，这一切都归结于雇佣正确的人。

![](img/6526294403ad18b22d3d8600fd47509a.png)

Klaviyo 是一款营销自动化工具，专注于将大数据和细分应用于真正的个性化营销，已经有五年的历史，从一开始就一直在开发。当然，头两年只是创始人。但是在过去的三年里，it 不得不将他们的开发团队扩大到 150 人。这就是为什么面试过程更多的是一种文化和代码测试，而不是一个问题。

第一步是带回家的作业，或者斯通所说的在 Klaviyo 工作的模拟。候选人必须编写一个小的 CRUD(创建、读取、更新和删除)应用程序来处理天气数据，并向人们发送个性化的电子邮件。合适的候选人不一定要精通某些语言，但他们必须表现出他们渴望学习，并且他们正在考虑下一个必须使用该代码的人，包括对文档、算法、可读性和整洁性的关注。

“我喜欢人们编写测试——这表明将来使用你的代码会更容易。我认为很多人应该测试他们的代码并记录他们的代码，但他们就是不这样做，”Stone 告诉 New Stack。

DevOps 不仅仅是扩展一个公司，而是扩展一个代码库。

Stone 举了一个例子:“假设有 100 人注册了这项服务，其中 40 人在波士顿，你是为每个人进行一次 API 调用，还是创建它，使用一次并缓存它？”

> “我不看大量的简历——它们对于 SRE 的角色来说非常困难。给我看看代码。”
> —劳拉·斯通谈动手开发面试的重要性。

一旦你通过了第一个测试，你就可以参与一些协作编码。

“我们的面试过程是模拟在这里工作的情况，”斯通说。

“你负责重构。他们不需要查资料。他们可以问我们任何问题。”她继续说，这是为了了解他们如何工作，并寻找候选人“当他们不知道一些事情时的开放性。”

面试测试的下一部分是关于 DevOps 所有权的。他们告知候选人他们现在拥有该代码，并向他们提出如下问题:

*   你想让它在哪里运行？
*   如果失败，您希望如何得到通知？
*   它运行的基础设施会是什么样的？
*   您将如何适应不同的用户需求？

斯通说，他们不寻找知道所有答案的候选人，尤其是那些刚从大学毕业的人，但他们希望看到希望随时待命的迹象，并希望拥有他们从创建到维护服务的服务。

Klaviyo 的团队并不寻求精确的答案，而是寻求候选人提前思考的能力。他们应该建议在一台机器上运行他们的代码，而不是在他们的计算机上，这样他们就不会把代码捆绑到一个人和个人基础设施上。他们应该考虑自动化可以在哪些方面加快流程。

“准备好融入 DevOps 文化的人会拥有这种文化，”Stone 说。

最重要的是，他们需要看到客户感同身受的迹象，以及确保解决方案尽可能稳定的愿望。

斯通说，他们正在寻找“有学习动力、精通技术、能表现出同理心的人”。只要有合适的结构和资源，他们就能自始至终成功拥有自己的服务。”

她继续说道，“随着公司规模的扩大，我们对如何在工程团队中整理流程考虑得非常周到，因为即使是那些有积极性、技能高超、善解人意的人，如果他们没有合适的结构和资源，事情仍然不会成功。”

当斯通 18 个月前加入时，只有一个产品团队和一个 SRE 团队。现在，另外有四五个产品工程团队专注于解决方案的特定领域。他们更需要专注于“知识转移，因为工程师不再了解整个产品，并且在许多情况下，不再与团队中的其他工程师有深入的关系。”

> 扩展 DevOps 都归结到一个问题:通信如何流动，人们如何仍然拥有所有权？

他们使用的一种可扩展的知识转移形式是 [mob 编程](https://en.wikipedia.org/wiki/Mob_programming)。这就像敏捷的结对编程，但是整个团队在同一台计算机上同一时间做同一件事情。他们在采用 Terraform 实现基础设施自动化时做到了这一点。

“在我们的组织中没有人熟悉它，所以我不得不进来教 Terraform。我们做了一个 mob 编程会议，sre 充当产品团队的导师，”Stone 说。

她认为这种知识转移是有效的，因为过去如果她没有被呼叫，这是例外。现在，如果她这样做了，那就是例外。

## 事件中沟通的艺术

![](img/01420241691539e5f95becc1d4cbd6aa.png)devo PS 的一个重要方面是打破障碍，提供跨职能的培训，这样每个人都会对发布的代码感到同等的责任。对于大多数 DevOps 团队来说，这意味着简化事件响应和实行全员待命轮换。因为当你试图创造一个永不间断连续交付和集成的世界时，你需要人们愿意在白天或晚上的任何时间延长正常运行时间。

“DevOps 是一个时髦的词，所以鉴于我们搬到了 DevOps，这真的是由我们来定义这对我们的团队意味着什么，对我们来说，这意味着每个人都对基础设施负责，你随时待命，”高级站点可靠性工程师 [Nida Farrukh](https://www.linkedin.com/in/nidafarrukh) 告诉 New Stack，谈到她的个人经历，这是一年前开始的[微软社会参与和市场洞察](https://dynamics.microsoft.com/en-ie/microsoft-social-engagement/) (MSE) DevOp 之旅的一部分。

这个小而灵活的团队正在努力为成千上万的客户最大限度地减少停机时间。在最近的重组中，一些 sre 现在与开发人员共享基础设施和随叫随到的职责。

> “我们搬到了 DevOps，这实际上是由我们来定义这对我们的团队意味着什么，对我们来说，这意味着每个人都对基础架构负责，并且您可以随时待命。”——尼达·法鲁克

Farrukh 解释说:“这通常会提高您的监控系统的健康程度，因为编写代码的人正在修复它，并且也感受到了痛点。”

每个团队成员每次待命一周。首先，每个受训者都有一个影子周，作为 SRE 或另一个完全训练有素的开发人员的后备。然后，在几周之内，受训者承担起值班管理员或 AOD 的角色，而更有经验的人则充当影子。此外，还有大量的教程、文档和定期模拟断电练习来提供帮助。

Farrukh 说:“当人们第一次需要电话服务时，他们通常会非常紧张，因为他们从来没有随叫随到过任何事情。”

她继续说，这不是对产品了如指掌，而是知道在哪里可以找到你需要的东西:

*   你有工具来调试出现的新问题吗？
*   你知道在文档中哪里可以找到答案吗？
*   你知道谁可以解惑，怎么联系吗？

在 MSE 团队中，虽然可以为任务选择适当的工具，但基础设施团队努力保持整个堆栈的标准化，使用有限数量的日志记录系统、语言、库和监控系统，因此每个人都可以共享基本知识。

## 请求帮助

很多时候，新人会害怕寻求帮助，但 Farrukh 的团队努力强调每个人都可以并且应该寻求帮助，因为在 DevOps 中，整个产品是整个团队的责任。

“在 MSE 团队中，作为 AOD，你是第一响应者，而不是唯一的响应者。她说:“在事故发生时，你可以让整个团队中的任何人来帮助你。

工程领导和 sre 甚至主动要求随时响应。

“一个 AOD 人可以给任何人打电话，但存在某种心理障碍，所以这些人出来说‘请给我打电话’”，Farrukh 说。

她说软件架构师通常是 DevOps 组织内问题的第一联系人，因为如果他们不知道确切的问题，他们会知道找谁。

Farrukh 认为 aod 可以也应该委派那些分散他们主要目标——高效调试——注意力的任务。即使是寻找合适的联系人，然后给他们打电话也可能会分散注意力。

她建议两种角色来帮助限制这些干扰:桥梁管理者和通信人员。

桥接经理可以负责召集应该就该问题进行电话会议的每个人。问题越大，越多的人可能会从升级矩阵中被调用。

其他工程师、高管甚至营销和客户服务人员经常会有大量的问题会分散 aod 的工作注意力。建议的沟通角色 Farrukh 说她经常自愿参与——回答这些问题，并且是 AOD 传播信息的主要联系人。

对于较小的问题，沟通和桥梁经理可能是同一个人，甚至对于非常小的问题是 AOD 本人。实际上，在 MSE 团队中，AOD 经常有五到六名工程师帮助她解决更大的问题，包括更快部署和回滚的 SREs。

“我们倾向于了解基础架构是如何工作的，以及如何制定解决方案。我们要么为 AOD 出谋划策，要么负责具体任务，”Farrukh 解释道。

要了解有关事件响应中 DevOps 通信的更多信息，Farrukh 建议您研究主动模拟响应系统的示例，如为加利福尼亚州野火响应和美国国家运输安全委员会开发的事件指挥系统。

*本文中表达的观点和看法是受访者的观点和看法，不一定代表或反映微软的观点和看法。*

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>