# 不再有中间件:微服务在大型机上赋予 COBOL 新的生命

> 原文：<https://thenewstack.io/no-more-middleware-microservices-give-cobol-new-life-on-the-mainframe/>

[](http://www.openlegacy.com/)

[Hans Otharsson](http://www.openlegacy.com/)

[作为客户成功官，Hans 负责 OpenLegacy 的成功全球部署并确保最高水平的客户满意度。Hans 为 OpenLegacy 带来了 30 多年的遗产现代化经验。](http://www.openlegacy.com/)

[](http://www.openlegacy.com/)[](http://www.openlegacy.com/)

大型机、遗留系统和 COBOL 正受到它们不应该受到的指责。

COBOL 仍然是一种常见的面向业务的语言，与它在 JAVA、Python 和 Ruby 手中消亡的报道相反。COBOL 易于学习和阅读，并且在编译时提供高性能。

COBOL 不再时髦或流行，因为它从来就不是，也不需要。但是，事实是，它对于运行世界上大多数已建立的组织及其可靠的大型机仍然至关重要。虽然每个人都喜欢改善现状，但事实是 COBOL 50 多年来一直是现状，因为它有效。

根据来自 Tutorial Brain 的[最新统计数据](https://links93.mixmaxusercontent.com/5afc27d35077b654339628b9/l/DacjaTH1lK34FeqFg?messageId=!!!MESSAGE_ID!!!&rn=!!!RECIPIENT_NAME_ENC!!!&re=!!!EMAIL_ADDR_ENC!!!&sc=!!!IS_SENDER_COPY!!!)显示，超过 1000 亿行 COBOL 代码正在全球数千台大型机中使用。全世界 70%的 zettabytes 数据仍然存储在大型机上，全世界有 200 万人仍然用 COBOL 编码，从 COBOL 迁移过来的系统最终不得不返回到 COBOL 继续运行。

## 一个古老而美好的东西

COBOL 名声不好，因为它与大型机系统有关联。不过，大型机不是坏人。他们是大多数国际组织的主力，尤其是财富 500 强公司和管理世界经济稳定的组织。

COBOL 应用程序是为安全、稳定和高性能而编写的，不，它们不是为 web、移动、物联网或云而编写的。COBOL 到大型机——太棒了！COBOL 和大型机到 web —不太好。

由于无法链接到最新的软件，公司感到被他们的遗留系统所窒息。因此，ESB/SOA 中间件被开发来充当遗留系统和“现代”应用程序之间的中间连接器。

作为当时唯一可用的工具，中间件表现得非常出色。这里的关键词是“充分”

## 中间件——是时候继续前进了

SOA 和 ESB 中间件曾经是可用的最佳选择，但现在新的方法以一种让所有人都满意的方式将遗留系统连接到 web、移动和云的现代世界——遗留人员和负责未来的团队，如企业架构师和 DevOps 团队。

如果你看到一个水晶球，你可能会看到 ESB 和 SOA 的死亡，而不是遗留系统的死亡。

中间件的问题是，几十年来，它已经成为企业服务总线、对象请求代理、API 和其他专业硬件和软件的混合体。每次添加或修改需要与遗留系统连接的新应用程序时，中间件也需要改变。中间件的变化需要在试运行和生产阶段进行大量的代码创建、QA 和测试。这给任何现代化的尝试增加了大量的时间、复杂性、资金和资源需求。

中间件、提取层和筒仓的添加都增加了这些应用程序的脆弱性。你最终得到一个结构紧密的橡皮筋球，每个橡皮筋都需要调整才能做出改变。您和记录系统之间的每一层都降低了您的更改能力，通过增加延迟降低了性能，并引入了更多可能出错的地方。

## 合作开辟新的道路

云、移动和网络应用都很酷。大型机绝对不酷——中间件更不酷。在传统的遗留系统-中间件-现代应用基础设施中，试图用最新的应用程序快速、高效和经济地满足数字不耐烦的千禧一代消费者的需求是不可能的。

50 多年来，COBOL 一直很好地服务于大型机。它仍然在做它被创建时要做的事情——在异常稳定的大型机中管理业务流程。现代应用程序利用最新的编程语言获取这些信息，并快速、轻松地将其交付给客户。但是中间件怎么办呢？完全绕过它。

您不再需要 ESB 中间件；它在数字经济中没有提供任何附加值。甚至零售商也在改变他们的商店，从购买“东西”到购买体验——在这个过程中增加价值。如果你的公司不接受这种模式，那么你的竞争对手就会与你擦肩而过。

## 微观思考

ESB 中间件从大型机获取所有信息，并将其传递给应用程序，不管它是否需要。除了用数据“淹没”应用程序之外，它还会导致严重的安全和隐私风险。中间件也需要非常特殊的技能，这可能不容易找到；支持基础设施的资源成本增加；以及测试、QA 等的时间。限制上市速度。当然，在大型组织中，ESB/SOA 的成本每年可能高达数百万美元。

与其受制于中间件基础设施，不如考虑微服务。[微服务](https://links92.mixmaxusercontent.com/5afc27d35077b654339628b9/l/h4o2E75T5XeU5VBdy?messageId=!!!MESSAGE_ID!!!&rn=!!!RECIPIENT_NAME_ENC!!!&re=!!!EMAIL_ADDR_ENC!!!&sc=!!!IS_SENDER_COPY!!!)是给大型机的非常具体的指令，向应用程序传递非常具体的信息。例如，一个微服务可能请求用户名和密码，另一个微服务可能检索当前帐户余额。这些功能性的应用程序构建块被表示为易于使用的、集中的和安全的 API，它们可以无缝地适应编排以支持新功能的开发。

面向服务的架构没有兑现它的承诺；微服务可以实现这一承诺。

## 结论

使用微服务而不是 ESB/SOA 中间件大大加快了测试和实现，允许组织快速地向客户交付信息。微服务允许即使是最大的、建立良好的公司采用连续交付和敏捷开发——同时依靠好的、老式的 COBOL 来管理原始信息。

通过 Pixabay 的特征图像

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>