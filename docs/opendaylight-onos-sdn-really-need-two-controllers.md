# OpenDaylight 和 ONOS:SDN 真的需要两个控制器吗？

> 原文：<https://thenewstack.io/opendaylight-onos-sdn-really-need-two-controllers/>

也许互联网已经宠坏了我们:我们已经习惯了全球通信的单一标准，或者至少习惯于选择一种方式来传递某些类别的数据。Web 的主要协议是某种形式的 HTTP，并且一直如此。当我们构建 Web 服务和 Web 应用程序时，我们从 SOAP 开始，然后我们转向 JSON 来交换 API 调用。我们以前有几个标准，但我们通常一次倾向于一个。

然而，开发人员从来没有完全依赖于一种编程语言。经验丰富的开发人员历来认为，没有一种语言能够表达所有可以想象的工作量。根据定义，云原生计算平台几乎已经成为“多语言平台”——它们同时支持多种语言，并且允许您使用多种语言构建分布式应用程序。

开放源码运动的核心原则是，共享开放标准的单一论坛阻止任何供应商或商业实体获得对每个人都必要的进程的锁。近年来，这一运动蓬勃发展的理念是，多元参与比在封闭的地下室开展单一项目更快惠及所有人。

但在软件定义的网络领域，开源社区与数据中心技术人员和网络工程师合作，成功地将基于软件的控制器的重心归结为一对稳固的组合: [ONOS，由 OpenFlow 协议](https://thenewstack.io/open-source-sdn-controllers-part-vii-onos/)的一些创建者领导的一个项目，用于在电信公司的基础设施上实现可扩展的网络功能；还有 [OpenDaylight，现在主要由使用 OpenStack 托管网络功能的数据中心](https://thenewstack.io/sdn-series-part-vi-opendaylight/)使用。

## 离机

在软件定义的网络中，包含网络流量的数据与保持网络运行的数据相分离。因此，有两个平面——控制平面和数据平面。SDN 控制器是该网络中的虚拟设备，与路由器和交换机(物理和虚拟)进行所谓的南向通信，并支持网络上运行的应用程序与控制器本身之间的北向通信。这些通信使得 SDN 网络能够完成所有物理网络都无法完成的任务:重塑数据平面，以满足应用需求。

那么，为什么任何网络都需要两种独立的 SDN 控制器，而这两种控制器都可以有效地完成这些相同的基本任务呢？当我们向 ONOS 和 OpenDaylight (ODL)的领导人提出这个问题时，我们得到了各种各样的答案。但他们都有一个共同的主题:任何一个控制器都不会在短期内放弃其在聚光灯下的位置。

OpenDaylight 项目的执行董事尼拉·雅克(Neela Jacques)说:“有一个特定的群体非常想写一篇关于奥诺什/ ODL 不和的报道，然后在某个时候结束了实际的写作。”。“到星期天为止，他们已经问了我十二次这个问题了。我是说，拜托！你讨厌他们，是吗？我是说，你真的很讨厌他们！“告诉我他们有多糟糕，”

“我真正的商业答案如下:在 OpenDaylight 内部，我有多个想法不同的团队……我向你保证，爱立信和惠普对如何构建 VPN 以及 VPN 应该包含什么有不同的想法，如果我试图迫使他们在第一天[*就强行选出赢家，谁输谁就走人。在一个志愿者组织中，如果你进来说，“我想打棒球，”然后你说，“不，你要打乒乓球，”人们不会说，“好吧”，然后扔掉棒球棒。他们会找其他人一起打棒球。”*

 *Jacques 这句话的含义是，当多个供应商参与到一个开源组织中时，当其他人的想法被选择或采用时，就有失去其中一些供应商的危险。当然，这并没有直接解决为什么需要两个标准来解决基本相同的问题。但这可以解释为什么这两种努力会导致高度重叠，也许是故意的:两个组织可能都试图尽可能地通融。事实上，这是他们实际上相互竞争的一种方式:比对方更随和，更少轻蔑。

## 阿古恩多

“出于多种原因，我认为多样性有足够的空间。其中之一是，即使在开源领域，竞争也是有益的，”开放网络研究中心的执行主任、ONOS 工作的领导者、OpenFlow 协议的共同创建者 Guru Parulkar 教授说，今天，虚拟和物理网络设备通过 OpenFlow 协议相互通信。

Parulkar 教授继续说道:“奥诺士的人非常警觉，因为他们听说了 ODL 正在做的事情，每当他们取得成功时，就会向奥诺士发起挑战。”。“每当 ONOS 在这一层面取得成功时，这都是一件好事。另一件事是建筑，奥诺士和 ODL 是非常不同的。真的，我不认为今天，虽然我相信 ONOS，但在架构上我可以说，'你知道，这是明显的赢家。这是做事的唯一方法。"

Parulkar 指出，在开源运动开始之前，网络领域的每个供应商都同时维护多个专有平台。这是早期锁定供应商的努力，因为市场根本无法支持这样的原则:全球范围内的通信不能是维持边界和垄断供需。

因此，从他的角度来看，供应商现在要求 SDN 控制器的单一标准似乎有点虚伪，而在开源之前，他们可能已经对多达 100 个标准非常满意了。

但是大多数理想的竞争，无论是技术的、政治的还是纯粹哲学的，都是为了达成共识。如果按照设计，终局是同意不同意，那么这个游戏的规则如何演变？在理想的竞技场和技术的市场上，当我们允许人们达成共识时，难道他们中的大多数人不选择一种工作方式，一种概念，一种方法吗？更重要的是，如果奥诺士不和 ODL 竞争胜利，反之亦然，那么他们为什么要竞争？

“就 ONOS 而言，谁是我们的客户？这些是服务提供商，”古鲁·帕鲁尔卡回应道。“服务提供商，他们中的大多数都是千亿美元级的企业。他们有非常有技术能力的人。如果他们告诉我，‘天哪，我不能做决定，我在等待市场为我做决定’，我认为供应商有一个更严重的问题:他们拿不定主意。”

他继续说，因为 ONOS 和 ODL 都是开源项目，任何潜在客户下载和试用都没有障碍。“如果你找不到一两个软件工程师花几周时间来完成这个练习，并得出他们自己的[*结论*]，那么你应该得到你所得到的。”

开源控制器开发的最新趋势之一是 OpenDaylight 和 ONOS 以及该领域的其他参与者都在努力实现一种架构，将尽可能多的逻辑*移出控制器*。这有利于减小控制器的尺寸和范围，使它们更容易实现。它还有一个明显的副作用，就是减少了控制器执行的功能。

## 目的

这意味着，不可避免地，OpenDaylight 和 ONOS 之间的重叠，至少是绝对的，会增加。我问 OpenDaylight 的 Neela Jacques，为什么不在这一点上合并？

“如果你回去看看视频，Guru 和我就舞台上的事情有过一些激烈的争论，”在我们谈话的早些时候，评论科技媒体如何夸大他们的分歧的那个人回应道。

在最近的 OpenDaylight 峰会小组会议上，Jacques related 指出了良好治理在开源项目中的重要性，Parulkar 回应称，开源项目有多种模式，衡量成功的一个关键指标应该是其产品对市场的影响。雅克称这次讨论为“巨大的争论”，小组视频的观众可能会认为就像称冰壶比赛为“炽热的比赛”

![160315 Neela Jacques](img/20100c2f781f5f7022bb5a38a6fc5a2a.png)在那次小组讨论中，Parulkar 确实承认治理对于一个开源组织来说很重要，但是更重要的可能是其合作的最终产品。雅克称这次让步是一次重大胜利。

雅克提到的另一个最近的趋势是采用意图的概念。在 SDN 市场中，意图驱动的平台从其客户端获取 API 调用，解释这些调用的意图，并动态确定响应它们的最佳策略，而不是期望客户端应用程序直接请求特定的网络资源。(关于基于容器的网络中的资源编排，这是一个非常有趣的讨论，今天它涉及请求特定网络覆盖资源的命令——与意图驱动的平台相反)。雅克说，意图的哲学意义，是他与帕鲁尔卡持续争论的问题之一。

“不变的美妙之处在于，我们不仅可以从彼此身上获得灵感，而且当他说，' [YANG NETCONF](http://www.tail-f.com/education/what-is-yang/) 很有用'时，他不仅可以采用并实现它，还可以查看我们的代码和实现。如果他愿意，他可以获取我们的代码并运行性能测试；他不必盲目地去做，就像 IBM 与甲骨文竞争时，必须尝试逆向工程，然后去做。”

就 ONOS 的 Guru Parulkar 而言，他的团队和 ODL 之间的争论点涉及基础设施和底层架构的问题——无论如何，这两个团队的合作伙伴，尤其是服务提供商和电信公司，不再考虑任何差异化价值。换句话说，如果 ODL 和奥诺仕合并，或者一方被宣布为皇家市场战的“胜利者”，谁会在乎呢？

Parulkar 说:“如果基础设施的建设能够帮助他们更有效地与 OTT[*over-the-top*]提供商竞争，他们将会受益匪浅。“然后，他们可以将精力集中在顶层服务上，并不断发明新的服务。

“在这一点上，我的意思是，老实说，你真的认为，即使他们在电视上做广告，当你在威瑞森和美国电话电报公司之间获得 100 兆比特的连接时，每秒比特数或任何东西，或分组丢失，会有什么不同吗？我觉得没什么区别。我认为，整个连接基础设施以及所有网络设备都没有太大的差异。”他以视频服务市场为例，称其规模大约是云连接市场的 20 倍。

“如果这种连接部分，如果这些服务提供商能够走到一起，找出如何非常有效地做到这一点，并将其转变为一个平台，他们可以在这个平台上创建新的服务，这符合他们的利益。”

在历史的聚光灯下，它可能会以无事生非而告终。SDN 网络中的两个派别之间可能会有巨大的——但不是*巨大的*巨大的——争论。也许它们的重要性足以证明它们彼此分离的合理性，而它们的无关紧要性足以证明它们值得继续相互讨论和反对。当然，尼拉·雅克发现了他们在哲学上的价值差异。有人会觉得，如果市场、技术进步、兴趣浓厚或缺乏兴趣让他们的小辩论过早结束，他和帕鲁尔卡大师会怀念他们的小辩论。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>*