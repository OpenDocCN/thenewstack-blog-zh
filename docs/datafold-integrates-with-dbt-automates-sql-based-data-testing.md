# Datafold 与 dbt 集成，自动化基于 SQL 的数据测试

> 原文：<https://thenewstack.io/datafold-integrates-with-dbt-automates-sql-based-data-testing/>

一旦数据质量问题已经在生产中显现出来，大多数数据质量平台就会关注数据质量问题，这可能会在业务方面产生连锁反应。例如，部署不良数据可能会导致人们查看不准确的仪表板，并在发现任何数据质量问题之前做出糟糕的业务决策。监控很重要，但是在生产中使用数据之前检测和修复数据质量问题是更好的解决方案。在造成损害之前解决问题更快、更容易，而且最具成本效益。

[Datafold](https://www.datafold.com/) 成立于 2020 年，专注于帮助开发者和数据工程师克服生产数据质量问题。该公司通过自动化数据测试，构建工具来解决开发阶段的数据质量问题。自动化至关重要；用手工编写的测试覆盖任何有意义的数据部分是不可能的。该公司表示，它是唯一一家专注于开发人员工作流程中测试数据自动化的公司。

## 艰苦奋斗的学校

[Datafold 的创始人兼首席执行官 Gleb Mezhanskiy](https://www.linkedin.com/in/glebmezh) 表示，他在 Lyft 担任数据工程师时面临的挑战导致了 data fold 的成立。他解释了在一个案例中，一个部署的热修复程序如何危及整个数据管道，破坏仪表板和机器学习功能集，使一天的工作效率陷入停滞。

这样的经历给了 Mezhanskiy 一个灵感，让他可以开发工具来防止这种类型的生产数据事故。Mezhanskiy 说:“在 Lyft，我意识到数据工程师的工具可以帮助自动化许多围绕数据测试、数据管理、数据可观察性和血统的手动任务，这真的很有帮助。”

## 向左移动

Datafold 最近[宣布](https://www.datafold.com/blog/datafold-dbt-ship-better-data)与领先的开源数据转换工具 dbt 的制造商 [dbt Labs](https://www.getdbt.com/) 合作。这种合作关系将软件工程中的可靠性工程基础(如版本控制、阶段环境、CI/CD 和可靠的变更管理)引入了数据社区。该公司表示，它还通过提供测试自动化和列级沿袭，将这些实践提升到了一个新的水平。

通过新的集成，Datafold 和 dbt 一起确保每个代码更改都获得完整的测试覆盖，这将测试关于数据的最重要的断言或假设。他们为 dbt 提供[列级沿袭](https://www.datafold.com/column-level-lineage)、[数据差异](https://www.datafold.com/data-diff)(ETL 的回归测试)，以及可共享的影响报告。这提高了数据团队的生产力，帮助他们节省了手动测试的时间，因此，让他们更专注于构建更好的产品。

## 它是如何工作的

只需进入 [dbt 云](https://docs.getdbt.com/docs/dbt-cloud)，获取 API 密钥并将其插入数据文件夹，新的集成就可以嵌入到工作流程中。然后，用户可以为 Datafold 安装 Github 应用程序，以获得与 dbt Cloud 和 Github 配合良好的自动化测试。与 Github 的集成有助于用户在部署到生产之前看到他们的更改对数据的影响。当 Datafold 与 Github 结合使用时，只要打开一个 pull 请求，它就会运行 Data Diff，这样用户就可以看到源代码中的变化将如何影响数据。这种影响是从行数、模式、主键和列差异方面进行分析的。

用户可以构建一个 Datafold 应用程序来查看他们想要的更改的影响的详细解释。还可以在分布级别可视化和探索变化的影响，因此，例如，可以在偏斜或特征漂移妨碍机器学习模型性能之前防止其发生。此外，Datafold 的列级沿袭功能提供了有关数据如何在列之间流动的信息。这使用户能够看到对上游表所做的更改如何影响下游表。

总的来说，Datafold 使用户能够测试数据中难以手工解决的问题。所有新集成的主要目标是在变化生效之前预防问题。这使得拉请求成为一个重要的起点，因为这是开发人员协作进行更改的时候。

## 发现未来

Datafold 通过回归测试实现了变更管理流程的自动化，使得使用列级沿袭来检测数据质量问题成为可能，这使其在跟踪和检测异常时具有优势，同时还能显示异常所在的位置。

数据血统以及对如此多有价值的元数据的访问，也使 Datafold 处于一个独特的位置，可以改进数据发现，提供有关数据如何相关的信息，并在工具之间交换元数据，以实现内聚的体验。Datafold 计划在已经提供的基础上继续建立更多的自动化。虽然该公司并不打算将其平台变成一个成熟的数据发现工具，但 Datafold 希望它成为数据工作流的一部分。

## 一起更好

数据产品生态系统仍然是分散的，可以说像 Datafold 这样的平台增加了一些复杂性。然而，公司正在逐步联合起来，这种伙伴关系确实简化了事情，降低了采用来自多个供应商的解决方案的复杂性，并有助于克服不同产品之间的集成问题。

Datafold 的新整合有一个值得称赞的目标:改善数据工程工作流程，帮助公司更可靠地扩展他们的分析

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>