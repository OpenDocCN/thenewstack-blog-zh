<html>
<head>
<title>HashiCorp Revamps Vagrant and Retools for Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">哈希公司为微服务改造了流浪者和装备</h1>
<blockquote>原文：<a href="https://thenewstack.io/hashicorp-revamps-vagrant-and-retools-for-microservices/#0001-01-01">https://thenewstack.io/hashicorp-revamps-vagrant-and-retools-for-microservices/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">HashiCorp首席执行官Mitchell Hashimoto周一在俄勒冈州波特兰市举行的他年轻公司的首次开发者大会上发表了坦率而富有启发性的主题演讲，他宣布他的公司赖以建立的基础产品已经过时，过时并且太难使用。承认他的vagger部署自动化工具在如何跨多个项目重复软件部署方面给用户带来了太多负担，并承认客户可能帮助他实现了这一启示，桥本大胆地宣布了vagger的替代品，<a href="https://ottoproject.io/" target="_blank" class="ext-link" rel="external ">今天正式发布</a>。</p>
<p class="translated">Otto被称为“vagger的继任者”，它将包含vagger的基本自动化引擎，但将在此基础上构建一个新的平台，根据每次部署的网络的状态、架构和容量，确定所需应用部署状态的最佳配置。这样，桥本告诉他的第一批与会者，配置文件不会很快成为在遥远的过去如何最好地部署应用程序的档案记录。</p>
<div id="attachment_668691" class="wp-caption alignright"><a href="https://thenewstack.io/wp-content/uploads/2015/09/150928-HashiConf-01.jpg" class="local-link"><img aria-describedby="caption-attachment-668691" decoding="async" loading="lazy" class="wp-image-668691 size-medium" src="../Images/2993d712703cea5fa91e3d0bc48e9c5c.png" alt="HashiCorp CEO Mitchell Hashimoto addressing HashiConf 2015" data-original-src="https://thenewstack.io/wp-content/uploads/2015/09/150928-HashiConf-01-300x291.jpg"/></a><p id="caption-attachment-668691" class="wp-caption-text translated">HashiCorp首席执行官Mitchell Hashimoto在2015年HashiConf大会上致辞</p></div>
<p class="translated">“这就是奥托背后的美；这是一个关键的设计架构不同于流浪者，”首席执行官告诉他的观众。“这是编码和石化的概念。如果你有一个五年前写的文件，今天你运行<code>vagrant up</code>[它的关键部署命令]，它仍然可以工作，但是你要做的是调出五年前你是如何配置那个环境的…但是对于应用程序部署来说，它并不总是你想要的。</p>
<p class="translated">“奥托所做的是编纂，”他继续说道。“流浪者所做的被称为石化。这使它成为化石；它给它打上印记，拍下快照，它不会因为历史而改变。”</p>
<h2 class="translated">不像你死的时候想的那样</h2>
<p class="translated">CircleCI创始人保罗·比格(Paul Biggar)去年6月发表了一篇名为“<a href="http://blog.circleci.com/its-the-future/" target="_blank" class="ext-link" rel="external ">这是未来</a>”的博客文章，纪念开发技术如此古老，以至于以年而不是周来衡量其寿命的观点应该被宣布“死亡”在一个假设的对话中，作者向一位连续参加会议的专家咨询如何简单地部署一个应用程序。专家回答说，用Docker，就像LXC，除了LXC像chroot，有点像Docker。</p>
<p class="translated">“哦，太像流浪汉了，”作者说。“不，流浪者已经死了，”专家回答。“现在一切都将集装箱化，这是未来的趋势。”</p>
<p class="translated">如果游民的王位继承人已经被游民自己的创造者有效加冕，那么游民真的死了吗？“不尽然，”桥本在周一上台前给新书库的一份说明中说。</p>
<p class="translated">“流浪者是一项成熟的、久经沙场的技术，”桥本写道。“它已经被数百万用户使用了很多年。我们不想重新发明轮子，所以我们已经取得了最好的部分，并在Otto中使用它们来为用户自动管理开发环境。</p>
<p class="translated">“Otto建立在Vagrant之上，使SSH等操作只需几毫秒，自动分配地址，等等，”这位首席执行官继续说道。“除了所有的开发环境特性之外，Otto还做了很多工作来支持部署。这就是我们所说的Otto建立在流浪者之上的含义:它使用了工具的成熟和它在过去五年中获得的智慧。但是我们在它的基础上增加了很多。奥托的用户不需要知道如何使用流浪者，奥托为你做到了这一点。”</p>
<p class="translated"><a href="https://thenewstack.io/wp-content/uploads/2015/09/150928-HashiConf-03.jpg" class="local-link"><img decoding="async" loading="lazy" class="aligncenter wp-image-668692 size-full" src="../Images/57adb72ea93d8e5c6ec86715b9b24657.png" alt="Example HashiCorp Otto appfile" data-original-src="https://thenewstack.io/wp-content/uploads/2015/09/150928-HashiConf-03.jpg"/>T2】</a></p>
<p class="translated">Otto可以利用appfile来声明应用程序的期望配置状态，但这不是必须的。即使在没有appfile的情况下，Otto也会根据当时运行应用程序的系统的约束条件，为正在部署的应用程序确定最佳配置。但是这种决心被有效地注入了继续在幕后工作的《流浪》。</p>
<p class="translated">桥本在他的就职演说中解释道:“编码是这样一种想法，即我们有足够高层次的知识集中在Otto中，而不是配置文件。我们把每个人和社区的知识集中起来。随着奥托的成长，奥托会学到更多。因此，如果你今天使用一个appfile，五年后运行Otto，它不会以同样的方式运行。它不会以同样的方式部署它。但从现在起的五年内，它将以正确的方式部署它。”</p>
<h2 class="translated">我是流浪者。我是完美的。</h2>
<p class="translated">今天发布的HashiCorp产品线中的另一个新组件将增强Otto实时解释环境状态的能力，尽管这一次没有取得任何成功。Nomad是该公司的新实时调度程序，其目标是找到支持任何给定工作负载的最佳基础架构。正如HashiCorp首席技术官兼联合创始人阿蒙·达德加尔(Armon Dadgar)周一早上告诉观众的那样，Nomad将把来自数万台机器的多种资源汇集到一个更易于管理的虚拟集群中。(HashiCorp当然不是在发明轮子，尽管有人可能会说Nomad的出现对HashiCorp保持竞争力至关重要。)</p>
<div id="attachment_668693" class="wp-caption alignleft"><a href="https://thenewstack.io/wp-content/uploads/2015/09/150928-HashiConf-02.jpg" class="local-link"><img aria-describedby="caption-attachment-668693" decoding="async" loading="lazy" class="wp-image-668693 size-medium" src="../Images/f7037705d39720afebd8b8b49cef46ac.png" alt="HashiCorp CTO Armon Dadgar addressing HashiConf 2015" data-original-src="https://thenewstack.io/wp-content/uploads/2015/09/150928-HashiConf-02-300x234.jpg"/></a><p id="caption-attachment-668693" class="wp-caption-text translated">HashiCorp首席技术官Armon Dadgar在HashiConf 2015大会上致辞</p></div>
<p class="translated">“随着我们的基础设施变得越来越大，随着我们的应用程序变得越来越多样化，在其上部署东西变得越来越具有挑战性，”Dadgar解释道。“使用调度程序为我们提供了某种检查点，使我们能够说，‘有没有一种方法可以包装这种复杂性，包装这种多样性，并构建一个同质的层，以便我们可以继续构建更高级别的工具，并沿着抽象链向上移动？"</p>
<p class="translated">正如Hashimoto向新堆栈解释的那样，Nomad对工作负载的理解是有意不可知的。“Nomad有一个我们称之为任务驱动的独特功能，”他告诉我们。该领域中的其他调度器主要集中于调度码头集装箱。</p>
<p class="translated">“任务驱动给了Nomad一个支持其他执行类型的可插拔模型，”他继续说道。“这使得Nomad可以运行不在容器中或者不能从容器中获益的东西。例如，Nomad可以直接调度静态二进制文件。静态二进制文件是完全自包含的应用程序，除了操作系统之外没有任何依赖关系。Nomad运行这个程序，并自动将它放入一个容器中。Nomad独有的另一个例子是它也可以调度虚拟机。对于具有高安全性要求的应用程序(如Vault)，这允许Nomad在虚拟机中执行这些任务。这些虚拟机可以与Docker容器和其他执行类型并行运行。对于企业来说，这意味着如果他们有容器，我们可以部署它们。但如果他们不这样做，我们也有很多其他选择，让他们更容易接受。”</p>
<h2 class="translated">超越剪切和粘贴</h2>
<p class="translated">在今年我们看到的最令人耳目一新的诚实的主题演讲中，桥本向他的观众展示了谷歌搜索“如何部署Rails应用程序”的结果。谷歌检索到的第二个结果是<a href="https://www.digitalocean.com/community/tutorials/how-to-deploy-a-rails-app-with-passenger-and-apache-on-ubuntu-14-04" target="_blank" class="ext-link" rel="external ">一篇似乎符合要求的文章</a>。digital ocean(hashi corp的平台合作伙伴之一)发表的这篇文章指导读者如何将必要的指令一个接一个地剪切和粘贴到命令行中。</p>
<p class="translated">“这在十五年前可不是最佳做法！”首席执行官宣布。"那么，为什么它至今仍是热门歌曲呢？"</p>
<p class="translated">当然，剪切粘贴的过程很简单，因为它不需要大学学位或软件认证。这个简单的过程没有考虑开发人员如何首先实现他们自己的公共和私有子网。当然，Hashimoto说，HashiCorp已经生产了七种工具，帮助开发人员或DevOps专业人员应对这些特定需求。</p>
<p class="translated">但是他说，对这七个工具强加的学习曲线有多陡峭的认识，最终成为开发者首先诉诸使用谷歌搜索的原因，以及他们最终剪切和粘贴的原因。如果一个过程可以被剪切和粘贴，由于无数的原因，如果它是自动化的，那就更好了。</p>
<p class="translated">此外，桥本意识到，新的微服务架构在组件之间引入了巨大的依赖性，这很可能无法跟踪静态配置文件的使用。对于Otto，一阶依赖关系可以在appfile中显式地声明，但是那些依赖关系本身所依赖的组件或者由那些二阶依赖关系的文件来声明，或者动态地确定。</p>
<p class="translated">桥本告诉我们，尽管HashiCorp的忠实贡献者是开源社区的成员，但Otto和Nomad都是内部开发的。他们的代码今天第一次向社区发布。</p>
<p class="translated">“我们喜欢发布完整的解决方案，以便我们的社区可以立即开始使用它，”这位首席执行官写道。“这对HashiCorp的‘粉丝’也有一个有趣的影响:他们知道我们正在研究一些东西，但在大揭露之前不会看到它。”</p>
<p class="attribution translated">Docker是新堆栈的赞助商。</p>
<p class="attribution translated">专题图片:<a href="https://www.flickr.com/photos/jurassicblueberries/" target="_blank" class="ext-link" rel="external ">侏罗纪蓝莓</a>的《<a href="https://www.flickr.com/photos/jurassicblueberries/15600863879/in/photolist-pLAviH-3dtpqR-3dxRSL-eEnEVw-bvU75i-bvU2Jc-pRCCz2-uNAZwb-bvU4XB-pXdUD8-rywDFh-aiDCHb-aoBgrD-bxWdCn-sJeCev-btWmQz-bYwNHE-briV1M-brjUbD-bps7fj-bodSch-9jvcNG-9jrY1x-briVhv-bodUuW-9jv71G-brjUg2-brju4n-7MbXKY-bvsW8m-brjA5c-9jvaML-9js6Vi-x1Tu5F-9jv9j9-briVwK-brk89p-4kHHMY-ejhTvD-bqfias-4fxNdr-4kDGsD-pkhhYg-4kHJ9o-8qYBfQ-akaMzK-a6mSW5-6saBb9-akbryz-a6mT5m" target="_blank" class="ext-link" rel="external ">热岩浆中的蓝宝石——2014</a>》由<a href="https://creativecommons.org/licenses/by/2.0/" target="_blank" class="ext-link" rel="external ">CC 2.0</a>授权。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>