# 微服务:将难题与解决方案对应起来

> 原文：<https://thenewstack.io/microservices-align-the-pain-with-the-solution/>

[](https://www.linkedin.com/in/baileyedward/)

 [Ed Bailey

Ed 是一位热情的工程倡导者，在为各种应用、操作系统和硬件提供操作和安全观察方面拥有 20 多年的经验。](https://www.linkedin.com/in/baileyedward/) [](https://www.linkedin.com/in/baileyedward/)

微服务是一种面向服务的架构(SOA)。更具体地说，微服务是一种架构风格，其中应用程序被分解为松散耦合的服务。通过细粒度服务和轻量级协议，微服务提供了更高的模块化，使应用程序更容易开发、测试、部署，最重要的是，更容易更改和维护。

微服务“在理论上”具有诱人的吸引力。实际上，结果差别很大。一些组织喜欢它们，一些组织在成本、开销和错过的截止日期的重压下沉沦。微服务不仅仅意味着模块化，更容易开发、测试和部署。它们还可能意味着复杂性、依赖性和成本的大幅增加。

那么你如何决定微服务是否是你的组织的正确方向呢？

## **反面教材**

最近，一位朋友向我表示难以置信，他在几个月内使用免费和现成的软件开发的稳定、有效、低成本的医疗保健数据管理解决方案，正在被重新开发为基于微服务的定制解决方案，并且需要五名开发人员一年才能完成。围绕受保护的健康信息(PHI)数据的问题在开发计划中没有得到解决，因此他感觉缺乏数据治理也会破坏项目。此外，这一年的开发和 AWS 成本超过了 100 万美元。更不用说长期开销了，因为整个软件开发组织只有大约 100 名开发人员。

> 我会一直这么说……如果人们不能恰当地建造独石，微服务也无济于事。

——西蒙布朗[@西蒙布朗](https://twitter.com/simonbrown/status/573072777147777024)

当他问为什么会出现这种情况时，他的经理告诉他，未来他们所有的软件都将基于最先进的微服务，并利用 AWS 服务。他的经理最近刚刚进入这个职位，拥有脸书、亚马逊、苹果、网飞和谷歌(FAANG)的工程背景。这将是新的标准。当他向经理询问该项目的成本时，经理拒绝了这个问题，并引用他的 FAANG 背景和经验作为该项目的长期价值指标。

## **什么时候使用微服务才有意义？**

微服务有意义的界限可以从支持软件组织的规模中看出。一个在沟通和/或协调方面有困难的足够大的软件工程组织当然可以使用微服务。像脸书和苹果这样的公司雇佣了数万名工程师，他们拥有大量资源，因此微服务可以减少团队之间的依赖，并支持规模扩大。这就是微服务开销值得大规模额外投资的地方。

但是所有的中小型软件工程组织呢？这就是用例的细节和上下文的重要性。中小型工程组织也有类似的关注点:创建可靠的应用程序，高效地交付商业价值，尤其是考虑到工程资源是有限的。工程时间会影响每一项决策，并有助于确定微服务投资是否值得。根据我的观察，离开大型工程组织到较小组织的工程师往往缺乏理解拥有 100 或更少工程师的组织的约束的能力。

采用微服务会转移复杂性，但不会消除它。在某些地方，这种转变是值得的。但是如果你的系统资源太少，你的工程时间就太有限了。另外，如果您面临的问题不是来自大型团队的协调和沟通，那么将您的应用程序分割成许多部分可能会造成更多的麻烦，得不偿失。

## **什么时候考虑微服务有意义？**

对于中小型工程组织来说，采用微服务的一些原则是有意义的。做到这一点的一个方法是将您感受到的痛苦与类似微服务的移动相匹配。比如，你的痛苦是不是一个有着成千上万行 C 的单片应用程序每次更新都需要向神血祭的结果？

另一个例子:你的痛苦来自于你的应用程序捆绑了大量不相关的特性吗？如果是这样，那么就把你的应用程序分解成更小的整体，而不是把每个功能完全分解成一个更小的服务。将你的特性分解成你的团队可以长期支持的东西——让大型工程最佳实践见鬼去吧。

## **底线**

对于中小型开发经理和架构师，请将解决方案与困难相匹配，并确保解决方案是您现有团队可以支持的。时尚和追随潮流在时尚行业行得通，但对软件团队来说就没那么管用了。通过做出明智、深思熟虑的决策，您可以保护团队并为您的业务提供价值。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>