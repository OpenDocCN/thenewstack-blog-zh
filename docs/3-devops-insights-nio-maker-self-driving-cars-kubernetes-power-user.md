# 3 来自自动驾驶汽车制造商 NIO、DC/OS 和 Kubernetes Power User 的 DevOps 见解

> 原文：<https://thenewstack.io/3-devops-insights-nio-maker-self-driving-cars-kubernetes-power-user/>

[](http://www.portworx.com)

 [苟饶，Portworx

苟饶，Portworx 联合创始人兼首席技术官，曾任戴尔数据保护部门和思杰系统 ASG 公司首席技术官；Ocarina Networks 和 Net6 的联合创始人兼首席技术官；也是英特尔和洛克希德·马丁公司的主要架构师。他拥有计算机科学学士(班加罗尔大学)和硕士(宾夕法尼亚大学)学位。](http://www.portworx.com) [](http://www.portworx.com)

在初创公司工作的好处之一是与客户建立非常深厚的关系。作为首席技术官，我喜欢与我们的每一位客户共事。他们激励我和我们的团队每天去工作，去创新。我也从他们身上学到了很多。由于我们为容器化应用开发了[云原生存储](https://portworx.com/cloud-native-storage/)解决方案，我们的客户无疑处于技术前沿。今天的帖子是关于我从曾经合作过的最酷的公司之一学到的行业和技术见解: [NIO](https://www.nio.io/) 。

很难列出 NIO 的酷属性，但这里有一些我最喜欢的。

我们最近采访了 NIO 自动驾驶汽车云负责人 Satya Komala，讨论了他们在容器、中间层 DC/OS 和 Kubernetes 上运行平台时必须克服的一些更高层次的问题。以下是我从与 NIO 的讨论中学到的三件事。

## 物联网正在产生大量数据，我们需要考虑系统，而不是云。

当我们想到物联网(IoT)时，我们会想到联网的烤面包机、冰箱和恒温器。可能有很多这样的设备，但它们不会产生很多数据。物联网的更大部分将是工业设备，如自动驾驶汽车。正如我提到的，NIO 的每辆自动驾驶汽车每天产生高达 24TB 的数据。仅仅十辆车就是 240TB。出于规划目的，NIO 希望今年拥有 120PB 的数据。这是一个巨大的数据量，完全改变了他们构建基础架构的方式。

拥有一个产生如此多数据的车队在许多方面证实了著名风险投资公司 Andreessen Horowitz 的合伙人 Peter Levine 的预测。在云计算的[端，Levine 的观点很简单:在一个实时处理超过网络传输大型数据集的能力的世界里，集中式数据存储和处理没有意义。](https://a16z.com/2016/12/16/the-end-of-cloud-computing/)

NIOs 的经历证实了这一点，正如科马拉告诉我的，“当我开始[在 NIO]工作时，我来自特斯拉，正如我之前提到的，特斯拉有一辆[2 级(半自动)汽车](http://www.thedrive.com/sheetmetal/15724/what-are-these-levels-of-autonomy-anyway)。由于特斯拉使用云，我开始评估云提供商，但我很快意识到，4 级车辆(完全自动驾驶车辆)是完全不同的游戏。在开发模式下，一辆汽车每天产生 12 到 24tb 的数据。10 辆车相当于每天 240 万亿字节，我无法将任何数据放入云中。所以问题陈述完全变了。”

NIO 关注的不是数据和应用程序，而是基础设施和系统。这包括直接在裸机服务器上运行 Docker，而不是依赖虚拟机，以限制边缘位置不必要的性能开销和环境复杂性。

## 快速数据和大数据应用的广泛组合推动了洞察，需要灵活的运营平台

从如此大量的数据中争论和获得洞察力需要专门的工具。如果有人怀疑我们已经从基于 Oracle 的世界中走了出来，那就是它。NIO 使用一系列工具来传输、存储和处理来自其车队的数据。这里的主要观点是，对于每个专门化的任务，他们使用专门化的服务。

例如，每辆车产生的数据几乎都是来自车上 12 个摄像头的高质量、1080p 图像和视频。出于监管原因，所有这些数据必须首先从汽车中流出并长期存储，还要进行分析。

流媒体利用了[卡夫卡](https://kafka.apache.org/)。批处理工作负载利用运行在 [Hadoop HDFS](https://hadoop.apache.org/) 之上的 [Spark](https://spark.apache.org/) 。在 [Spark ML](https://spark.apache.org/docs/1.2.2/ml-guide.html) 和 [TensorFlow](https://www.tensorflow.org/) 上训练机器学习。

由于使用了这么多不同的服务，NIO 很难成为操作每一个服务的深度专家，就像数据库管理员过去是操作单个“宠物”数据库的专家一样。这就是像中间层 DC/OS 和 Kubernetes 这样的平台的用武之地。它们提供了一种一致的方式来部署、升级、备份和迁移任何运行在 Linux 上的有状态服务。有了这样一个一致的平台，NIO 可以自由地创新和试验许多不同的数据服务，而不必担心必须雇用专门的运营团队来管理它们。

## 不是所有的问题都已经解决了，选择几个合作伙伴进行深入研究，并进行创新

世界上从来没有一辆汽车每天产生 24TB 的数据，所以从定义上来说，不存在现成的解决方案来运行这种规模的平台。这些都是全新的问题，需要新的技术。这令人兴奋，但也令人生畏。Komala 的一个关键观点是，你应该专注于你的堆栈中的少数关键领域，并找到合适的合作伙伴来解决这些问题，并在这些领域进行创新。

例如，NIO 给我讲了一个关于大型交换网络 T1 的精彩故事。NIO 面临的挑战是让覆盖网络在 Kubernetes 上大规模运行。IP 空间管理是一个巨大的挑战，特别是由于与每个容器集群相关联的 IP 数量巨大。该公司想要一个与 CNCF 集装箱网络接口(CNI)标准相集成的软件定义的网络，以便拥有一个更扁平的网络架构，并自动化 IP 空间管理和网络空间管理。问题是这并不存在。发现问题后，NIO 与 Big Switch 合作，扩展了对 CNI 接口的支持，从而在其平台上形成了一个稳定的网络解决方案。

## 下一步是什么？

在这样一个新的空间里，你不能指望所有的问题都会马上得到解决。与正确的合作伙伴一起选择正确的挑战是在不断发展的空间中挑战极限的关键。在我们自己的互联网领域，我们很高兴能与 NIO 这样的客户合作，推进[DC/操作系统存储](https://portworx.com/use-case/persistent-storage-dcos/)和 [Kubernetes 存储](https://portworx.com/use-case/kubernetes-storage/)的边界。总有东西要建造，总有东西要学习。

波特沃克斯赞助了这个故事。

CNCF 和中间层是新堆栈的赞助商。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>