# “反向 ETL”可以帮助公司操作数据仓库

> 原文：<https://thenewstack.io/reverse-etl-can-help-companies-operationalize-data-lakes/>

构建数据湖和数据仓库的企业已经转向第三方供应商来引入数据。构建像 Salesforce 这样的应用程序的连接器是乏味的，并且需要数据工程专业知识。另外，SaaS 平台改变了它们的数据模式和 API 细节。

这些数据管道供应商从源系统中提取数据，并将数据加载到仓库中。他们还将在数据到达仓库之前或之后，清理或同步不同系统之间的数据。

如今，越来越多的公司选择后者。

[凯捷](https://www.capgemini.com/us-en/)北美公司人工智能工程副总裁 [Goutham Belliappa](https://www.linkedin.com/in/gouthambelliappa/) 说:【第一种方法，在你到达仓库之前转换数据，你失去了可追溯性。

“当人们想了解一个在飞行中转换的指标的有效性时，没有办法审计它并确定数据的进展，”他说。但是当转化发生后，就有更多的控制了。“这一时刻可以重现，或者替代算法和公式可以很容易地模拟出来，”他说。“此外，业务分析师可以自由验证数据和算法，并有能力进行调整或修改。”

如果数据转换步骤发生在数据到达仓库之前，该技术称为 ETL —提取、转换、加载。如果转换发生在数据仓库本身，它被称为 ELT —提取、加载、转换。

不管是哪种情况，公司最终都会有一个集中存储数据的地方。

[星座研究](https://www.constellationr.com/)副总裁兼首席分析师道格·亨舍恩说:“原始数据的加载和存储让你一次摄取数据，然后分享它，并将其分发到许多用途，而不必回到源应用程序。

现在，企业可以鸟瞰所有数据，汇总运营或财务指标，或全方位了解客户。

## Zeplin 使用反向 ETL

一家建立了这样一个数据仓库的公司是 Zeplin，这是一个拥有数百万用户的 UI 设计师和前端开发者的在线协作平台。

它使用一个[雪花](https://www.snowflake.com/)仓库来收集运营数据，如最终用户如何与其产品互动，以及来自 SaaS 平台的第三方数据，如用于客户关系管理的 Salesforce 和用于客户支持的 Intercom。

“我们通过传统的 ETL 解决方案收集所有这些数据，并将其集中在一个数据仓库中，”泽普林的高级增长营销经理[冯厚华](https://www.linkedin.com/in/jfeng92/)说。“现在我们在 Snowflake 中有了所有关于用户在做什么、团队在做什么的信息。但问题是，让这些数据对公司其他部门有用很难。”

为了获得视图，企业通常让数据科学家使用商业智能平台运行分析。数据科学家然后生成报告。这通常是一个缓慢而耗时的过程，并且不能在员工需要时将数据送到他们手中。

“例如，当有人从免费用户转为付费用户时，我们希望通知销售团队，”冯说。

为了解决这个问题，一些企业正在建立新的数据管道，将报告发送回员工实际使用的系统。

“但那很难，”冯说。“你需要一个数据工程师来做这件事，你需要维护它。每次有什么变化，你都需要让数据工程师进行更新。”

他说，在他之前工作的公司，员工中有数据工程师来手动构建这些数据管道。

但是 Zeplin 只有不到 100 名员工，没有多余的工程师。

相反，当冯半年前加入该公司时，他率先部署了一个第三方“反向 ETL”工具。

反向 ETL 从数据仓库获取信息，并将其发送到 Salesforce 或其他目的地，在那里销售团队可以实时或接近实时地获得这些信息。

他寻找一家能够与 Zeplin 的雪花仓库及其所有 SaaS 平台集成的供应商，并且当它们不能开箱即用时，还能够支持定制集成。

最后，该公司选择的供应商 Hightouch 没有要求数据脱离 Zeplin 的控制。

“这对数据安全来说真是太棒了，”他说。

整个过程需要大约两周的兼职工作，Zeplin 方面有两名员工参与，供应商方面也提供支持。

“我们能够在没有数据团队的情况下完成这项工作，”冯说。“随着我们规模的扩大，未来我们可能会雇佣一个数据团队。但对于像我们这样斗志旺盛的团队来说，这是一个很好的解决方案。”

现在，Zeplin 正在添加更多的集成，并为更多的业务流程使用反向 ETL 数据馈送。

他说，管道已经建立并运行了大约三个月，它改变了销售和营销团队的工作方式。

“我们可以在销售方面做出我们以前无法做到的产品知情行动，”他说。“我们可以接触到非常活跃的客户，或者拥有一定数量付费席位的客户。”

他说，这有助于业务增长。“我喜欢。这比构建自定义数据管道要容易得多。它让我能够在营销活动中使用产品数据，并开启了营销人员传统上在没有工程支持的情况下无法完成的许多事情。”

但是，对数据馈送进行更改确实需要一些 SQL 知识。

“你用一个 SQL 查询，它给出不同的输出，然后有一个点击-拖动界面，”他说。“您将数据列映射到 SaaS 工具中的不同字段，并设置同步计划。也许每隔 15 分钟，或者每小时。”

他说，由于发送到 Salesforce 的数据只是增加了现有的记录，而不是取代它们，因此不存在数据冲突问题，但随着公司的发展和更多用例的部署，他会密切关注这一点。

## 为什么逆向 ETL 很难做到

反向 ETL 管道工程师必须处理不断变化的数据模式和 API 配置、上传限制、数据冲突问题、审计和合规性要求等等。

逆向 ETL 公司 [Hightouch](https://www.hightouch.io/) 的联合创始人 [Tejas Manohar](https://www.linkedin.com/in/tejasmanohar/) 说:“将数据放入系统比取出数据更具挑战性。例如，如果 SaaS 系统中的数据与仓库中的数据不同，可能是因为它刚刚被更新，或者因为仓库数据已经被清理，需要有一个调节步骤。

“每个公司都是不同的——你必须给这些公司很大的灵活性，”他说。“这绝对是一个具有挑战性的设计问题。您可以说，只有当一个值在原始系统中的字段中不存在时，您才能覆盖该字段，或者您可以说，如果它不同，我们就覆盖它。它不像 ETL 那样是一个一刀切的问题。”

Hightouch 目前支持 40 个系统，并为客户提供了构建自己的内部系统连接器或尚不支持的 SaaS 平台连接器的能力。

协调需求也意味着逆向 ETL 供应商必须在数据流经管道时以某种方式查看数据，以便决定如何处理数据。

Hightouch 通过混合架构解决了这一问题，在混合架构中，数据存储在客户自己的基础架构中，而 Hightouch 只是传输管道。

马诺哈尔说:“这一切都是端到端加密的，对 Hightouch 团队来说是不可见的。”“Hightouch 不会存储任何数据。这使我们能够与金融和医疗保健公司合作。”

另一个反向 ETL 供应商， [Grouparoo，](https://www.grouparoo.com/)用一个自托管的开源产品解决了这个问题。Grouparoo 首席执行官 [Brian Leonard](https://twitter.com/bleonard) 说:“像医疗公司这样的合规公司真的得到了控制，他们正在这样做。

但 Grouparoo 也支持 SaaS 式的交付模式和混合模式。

伦纳德说，该公司的开源方法意味着第三方开发者可以贡献集成。

“我已经和巴西和越南的开发商谈过了，”他说。"总部设在美国的 SaaS 公司一般不会与巴西邮船公司建立联系."

他说，Grouparoo 连接了大约 20 个应用程序，如 Salesforce、Mailchimp、Intercom 和 Zendesk，以及大多数数据仓库和数据库，包括 Snowflake、Redshift、SQL 和 Mongo。

他说，与传统数据库的连接尤其重要，因为一些公司还没有转移到中央数据仓库。

“我们在顾客所在的地方与他们见面，”他说。“没有多少公司已经实施了未来的现代数据堆栈，一切都在雪花中，他们准备好进行同步。大多数公司到处都是东西，乱七八糟，我们认为在那个地方遇到他们很有价值。”

## 行业格局

Constellation Research 的 Henschen 说，反向 ETl 与传统的 ELT 或 ETL 非常不同。

“不要把它和英语教学混淆，”他说。“这是关于应用集成的。”

反向 ETL 供应商 [Polytomic](https://www.polytomic.com/) 的联合创始人兼首席执行官[迦利布·苏莱曼](https://www.linkedin.com/in/ghalibs/)说。

“但是现在有供应商替你做了，”他说。“以前，您必须手动编写或使用笨重的企业工具，这需要数周的时间来设置。”

他说，新一波工具可以让公司在几分钟内建立反向 ETL 管道。

这很重要，因为员工的要求越来越高。

“就人们对公司内部的期望而言，标准已经提高了很多，”苏莱曼说。“五年前，销售团队不了解客户如何使用产品是可以的。已经不行了。”

结果，反向 ETL 供应商在过去几年里开始大展拳脚。

“现在，情况发生了变化，”RudderStack 的首席执行官 Soumyadeb Mitra 说。“我们有合适的市场条件。”

传统的 ELT 和 ETL 供应商在很大程度上还没有提供反向 ETL，因为这是一个不同的、更具挑战性的问题，将这个领域留给了初创公司。

企业可以选择等待他们的 ELT 或 ETL 供应商添加功能，选择一个新的反向 ETL 初创公司来完成反向 ETL 部分，或者，如果他们正在建立一个新的数据基础架构，或者希望更换供应商，那么就使用一个处理数据移动工作两方面的供应商。

例如，RudderStack 支持传统的 ETL、反向 ETL 以及实时数据流。RudderStack 目前支持 70 个集成，以及自定义集成。该公司还根据隐私和安全要求，提供部署模式选择，要么在客户自己的基础架构中部署，要么作为服务部署。

但他补充说，对于那些在部署数据仓库和分析方面进展缓慢的公司来说，反向 ETL 可能还没有意义。

一些专家预计，随着传统 ETL 供应商收购逆向 ETL 初创公司，该行业将出现一些整合。

“我确信这是会发生的事情，”米特拉说。

其他类型的公司也可以加入这个游戏。例如，分析供应商 ThoughtSpot 上个月收购了反向 ETL 供应商 SeekWell。

另一家反向 ETL 供应商 [Census](https://www.getcensus.com/) 的首席执行官 Boris Jabes 说，最近也有很多风险资本对反向 ETL 感兴趣。

“风险市场在这方面相当激进，”他说。"我们刚刚进行了一轮竞争激烈的首轮融资."

人口普查[在 2 月份完成了一轮 1600 万美元的种子期，由红杉资本(Sequoia Capital)牵头，安德森·霍洛维茨(Andreessen Horowitz)也参与其中，使融资总额超过 2000 万美元。](https://blog.getcensus.com/announcing-our-series-a-from-sequoia/)

他说，市场机会很大。

“大约有 3，000 个雪花客户，可能有 50，000 个云数据仓库客户。他们中的每一个人都在数据基础设施方面进行了投资——但投资的产出主要是图表和人工智能实验。有了像我们这样的工具，您可以进行投资，并将其应用到业务的各个方面。”

## 反向 ETL 的主要用例

### **符合性**

许多数据隐私制度，包括欧洲的一般数据保护法规和加州刚刚通过的隐私权利法案，个人消费者有权询问公司收集了哪些关于他们的数据，并要求删除这些数据。

如果一家公司有一个提供客户完整视图的数据仓库，那么第一部分相对简单。

但是从数据所在的源系统中删除所有数据是一个更棘手的问题。

Hightouch 的 Manohar 说:“反向 ETL 解决方案支持删除，并将它们传播到所有解决方案。“从仓库中删除后，您可以将删除内容发送到整个公司的所有系统。对许多企业来说，这是一场巨大的斗争。”

Mitra 说，合规是启发 RudderStack 推出的因素之一。

“我们的产品处理用户抑制，”他说。“如果有人说，‘不要跟踪我的数据’，我们就停止跟踪他们系统中的数据。所有通过方向舵堆栈发生的跟踪，我们都可以阻止它。”

他说，这是一个难题，因为一些 SaaS 平台让删除记录变得很容易，但另一些平台却让它变得非常困难。“据我所知，从 Salesforce 中删除真的很痛苦，”他说。“在像 Salesforce 这样的客户关系管理系统中，它不仅仅是一条记录。你也有他们打开的所有票和他们做的所有活动—这都是被跟踪的。你必须从所有有记录的地方删除。”

“如果你有一个数据库，它被备份到一个备份系统中，我们甚至无法访问那些系统，”他补充说。

### **取代点对点集成**

一些 SaaS 平台试图让与他人的整合变得容易。例如，邮件列表管理供应商 Mailchimp 提供了与 Salesforce 的集成。

但是企业可以有几十个，或者几百个他们正在使用的 SaaS 平台。点对点连接可能会很快失控。

“你不应该有点对点的集成，”Mitra 说。“你应该把所有东西带到仓库，然后把它们推到目的地。这是应该的。”

### **销售和市场**

Zeplin 并不是唯一一家使用反向 ETL 来帮助改善销售和营销的公司。

红点风险投资公司(Redpoint Ventures)的风险投资人[阿斯塔西亚·迈尔斯(Astasia Myers](https://www.linkedin.com/in/astasiamyers/) )表示:“这有助于建立统一的客户视图，对销售、营销和分析团队产生积极影响。"反向 ETL 有助于防止数据仓库变成数据孤岛，并有助于使数据可用."

她最常听说的是，人们使用逆向 ETL 来增强销售、营销、支持和运营团队在工作中最常使用的工具。例如，将数据仓库中的销售线索得分输入 Salesforce 中的自定义字段，或者获取客户计划信息并将其推入 Zendesk 以帮助确定票证的优先级

或者，比方说，一个客户没有使用公司的产品。

Polytomic 的 Suleiman 说，如果销售团队意识到了这个问题，他们可以联系客户，找出问题所在。

“如果他们能在合同结束日期前拦截客户，他们可能会挽救合同续签，”他说。

当在数据仓库中使用分析工具来生成建议，将这些建议注入销售和营销工作流时，反向 ETL 特别有用。

被 ThoughtSpot 收购的逆向 ETL 供应商 SeekWell 的首席执行官[迈克尔·里奇](https://www.linkedin.com/in/michaeljritchie/)说:“假设你计算了一个领先分数。“您的数据仓库中有 100 万潜在客户，您希望挑选出最好的 1，000 名客户，并向这 1，000 名客户发送报价。这很有挑战性，需要很多不同的团队做不同的事情。”

使用逆向 ETL，分析师可以设置查询来查找数据，进行映射，然后设置它每小时运行一次。

现在，销售人员可以在 Salesforce 中看到结果。

他说:“采用现代分析堆栈并拥有 360 度客户视角的公司可以从反向 ETL 中看到直接和巨大的价值。”

但他补充说，对于那些在部署数据仓库和分析方面进展缓慢的公司来说，反向 ETL 可能还没有意义。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>