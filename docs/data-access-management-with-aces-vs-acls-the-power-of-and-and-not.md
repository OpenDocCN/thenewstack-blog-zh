# ace 与 ACL 的数据访问管理:“与”和“非”的力量

> 原文：<https://thenewstack.io/data-access-management-with-aces-vs-acls-the-power-of-and-and-not/>

[](https://www.linkedin.com/in/ellen-friedman-a93743/)

 [艾伦·弗里德曼

艾伦是 HPE 埃兹迈拉公司的首席技术专家，专注于大规模分析和人工智能。她也是 Apache Drill 和 Apache Mahout 的委员。Ellen 拥有生物化学博士学位，是一名国际演说家，也是多本书的合著者。](https://www.linkedin.com/in/ellen-friedman-a93743/) [](https://www.linkedin.com/in/ellen-friedman-a93743/)

你离开家两个星期，所以你小心地锁上门以保证你家的安全。你犹豫了一下。你锁上所有的窗户了吗？当水管工和木工来改造你的浴室时，你有没有给他们留一条通道？在你的旅途中，你的儿子宣布他会顺道拜访几天——现在你需要授权他进入你的家。

现在想象一下，你的房子有数以百万计的窗户锁在数以千计的房间里，许多不同的群体只被允许进入某些房间。这就是管理[大规模数据分析和 AI/ML 系统](https://www.cio.com/article/3586845/conquering-hidden-challenges-of-scale.html)的安全性的感觉。

您可以通过各种方式管理谁有权访问数据，谁被拒绝访问数据。然而，随着系统规模的扩大、复杂性的增加，您的数据访问管理方法是否可行？最重要的是，它是否能让您轻松适应新的情况？否则，数据保护和对数据访问的控制可能会变得不充分，因为它太麻烦和不一致。

## 表达能力使数据安全更容易

一种有用的方法是使用高度的表现力。为了解释为什么会有所不同，让我们比较一下[数据访问管理](https://docs.datafabric.hpe.com/62/SecurityGuide/ACEs.html?hl=managing%2Caccess%2Ccontrol%2Cexpressions)使用相对简单但表达能力较差的访问控制列表(ACL)和表达能力较强的访问控制表达式(ace)方法。

使用文件系统 ACL，通常会将具有相关权限的用户和组列表附加到系统中的每个对象，如文件或目录。这些权限控制直接指定或通过组中的成员资格指定的用户可以对数据对象进行哪些操作。这相当简单。然而，ACL 方法有一些限制，特别是在大规模和复杂的情况下，或者当您需要进行更改时。

此外，使用 ACL，您有权授予访问和特定操作的权限，但您无权明确拒绝权限。仅仅通过从 ACL 中省略用户来设置排除是不够的，因为该用户可能是 ACL 中列出的组的成员。

考虑这在您的数据管理方法中可能会如何表现。假设您向财务人员和欺诈分析师团队授予对特定数据的访问和读/写操作，如表 1 所示。

***表 1*** **:** *不同的群体有不同的数据访问需求，这些需求可以用 ACL 来表达，但排除很难用 ACL 显式表达。*

现在假设你带来一些实习生作为不同小组的成员。您不希望他们读取任何薪水，也不希望他们能够写入除数据科学组的实习生之外的任何文件。如果不为相应的组实习生复制每个组的大部分权限，就不容易做出这种改变，这将违反 [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself) 原则。不过，这只是一个玩具的情况。想象一下，在一个拥有数百万或数十亿个文件的复杂系统中，持续的更改和更新是多么困难。简单来说，ACL 有些缺乏表现力。

相反，控制访问的另一种方法是使用访问控制表达式*。*使用 ACEs，您可以将上表中每一列的模式表示为用户和组的布尔表达式。事实上，ACL 是 ace 的一个特例，因为任何 ACL 都可以写成只使用“或”(金融或欺诈)的表达式。ace 也允许我们表达排斥。例如，对事务的读取权限可能写为(财务或欺诈)，而不是实习生。这种能力来自于在这些表达式中使用“与”和“非”运算的能力。

当我们希望允许安全团队在文件系统的整个部分上指定高级访问约束时，ACEs 的这种额外表达能力特别有用。我们还希望允许运营团队指定他们自己对特定文件和目录的权限。有了 ACEs，这两个部分可以用一个“与”操作组合起来。这样做，我们可以确保安全团队的约束将适用于任何地方。例如，安全团队可能使用诸如 TOP_SECRET_CLEARANCE 和 FULL_TIME_EMPLOYEE 之类的 ACE，而应用程序团队可能指定数据工程师和数据科学家可以做什么。ace 可以很容易地表达这一点，但 ACL 不能。

## 小心你如何使用‘Not’

使用“不”的表达是强大的，但必须小心，否则你可能不会以你想要的方式拒绝访问。独立于排除约束设置包含权限是一个好的做法*。*请这样想:A 和 C 是组，您想要拒绝子组 b 的某个用户的权限。请记住,“and”比“or”具有更高的优先级如果您将权限定义为

a 或 C 而不是 B

当 B 是 C 的子集时，您拒绝了对 B 的权限，但是如果该用户或子组是 a 的成员，B 仍然拥有权限。

最好这样设置 ACE:

(A 或 C)而不是(B)

在第二种情况下，您授予了 A 组和 C 组的权限，拒绝了 B 组的权限，而不管 B 组属于哪个组。括号不是绝对必要的，但是可以方便地标记表达式的排除部分。

## 不同级别的数据访问控制

使用 ACEs 的系统的一个例子是 [HPE 埃兹迈拉数据结构](https://www.hpe.com/us/en/software/data-fabric.html)。在这个数据基础设施中，ace 可以设置在多个级别上，这些[ace](https://docs.datafabric.hpe.com/62/SecurityGuide/ACEs.html)隐式地与一个“and”组合在一起例如，总体安全约束可以在[数据结构卷](https://community.hpe.com/t5/HPE-Ezmeral-Uncut/What-s-your-superpower-for-data-management/ba-p/7100920#.YKLSdOlKhE4)级别表达，操作约束可以在目录、文件或 NoSQL 数据库表级别表达，而对屏蔽或未屏蔽数据的特定访问可以在表内的列级别控制。这种控制范围允许对访问进行整体或细节控制，或者在两者之间的任何级别进行控制。

要了解有关 ACEs 和使用 data fabric 作为数据平台的数据管理和数据存储的其他方面的更多信息，请阅读技术报告 [HPE Ezmeral Data Fabric:数据存储和管理的现代基础设施](https://psnow.ext.hpe.com/doc/a00110846enw)。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>