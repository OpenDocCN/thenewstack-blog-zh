# 屏蔽元数据能提高开源的安全性和多样性吗？

> 原文：<https://thenewstack.io/can-masking-metadata-boost-open-source-security-diversity/>

无论你称之为特洛伊木马还是[恶意代码注入](https://owasp.org/www-community/attacks/Code_Injection)，黑客不仅获得对你代码的访问权，而且让你相信他们是一个已知的、有价值的贡献者，这种风险比以往任何时候都大。

事实上，[超过一半的违规事件](https://purplesec.us/wp-content/uploads/2022/05/PurpleSec-Cyber-Security-Ingest-May-31.pdf)都与恶意的局外人有关。2021 年，针对开源供应商的网络攻击增加了 [650%。](https://www.sonatype.com/resources/state-of-the-software-supply-chain-2021)

这种风险在大规模开源社区中会成倍增加，这些社区不仅有成千上万的贡献者，而且依赖于其他开源项目。由于 [99%的栈](https://www.synopsys.com/software-integrity/resources/analyst-reports/open-source-security-risk-analysis.html?cmp=pr-sig)至少有一些开源组件，根据 [Synopsys 的四月报告，](https://www.synopsys.com/software-integrity.html?utm_content=inline-mention)这不仅仅是一个开源问题。这是一个全球性的技术问题。

幸运的是，这个安全问题有一个简单的技术解决方案:在考虑拉请求之前屏蔽元数据。

Sonatype 的开源开发者倡导者 Sal Kimmich 向 New Stack 讲述了一个新的趋势，即使用这种实践不仅可以提高代码质量和安全性，还可以提高开源世界的多样性。

Kimmich 将于 9 月 15 日在都柏林举行的欧洲开源峰会上展示这个现实世界问题的解决方案。

## 确认偏差将您的代码置于风险之中

GitHub 是目前最受欢迎的开源代码库。从屏蔽元数据中获得的经验可以应用于其他存储库，尽管技术途径可能不同。

目前，当一个项目的贡献者提出修改代码或 ReadMe 文档的请求时，维护者会检查代码的质量并决定是否批准。

“这是一个非常简单的过程，看看它是否对特征地图有意义，如果它是你确实想要包括的东西，”Kimmich 说。“其次，代码的质量是否足够高，能够有效地合并，在它进入时不会破坏系统？”

代码的生存能力或“合并能力”大部分是自动化的。但 GitHub 通过识别元数据(个人资料照片、姓名和手柄)增加了一个社交价值指标，Kimmich 说，这是“在决策点提供额外的信息，而这些信息并不需要在那里。”

如果你在维护一个开源项目，自然会有你的最爱，你最信任的贡献者。这甚至是一个成功的开源社区的标志。然而，这种偏爱可能会产生光环效应或信号处理问题，这在最好的情况下会忽略潜在的更好的贡献，在最坏的情况下，会使您的项目——以及与之集成的所有其他项目——面临恶意攻击的风险。

> “开源是一项深入人心的活动。我们只是想设计它来减少随之而来的偏见。”

Sal Kimmich，Sonatype 开源开发者倡导者

“这些被称为对开源项目的恶意注入，他们通常旨在获得某个已知积极贡献者的电子邮件和 GitHub 句柄，或者——如果他们可以获得的话——某个已知的维护者，并通过这些接管项目，”Kimmich 说。

根据 Kimmich 的说法，这是因为确认偏差使我们更容易信任我们的合作者，也许我们没有彻底检查已知的、有价值的贡献者或维护者的代码。维护者可以养成在这个社会指标层面验证的习惯。如果它没有断裂就合并了，那就足够了，对吗？

不完全是。他们说，这干扰了你寻找最佳代码的信号过程。你怎么能确定这真的是你最喜欢的贡献者之一呢？

“你仍然希望有足够高的审查来问这个问题:如果它是一个已知的贡献者，这真的是他们吗？”金米奇说。“现在，如果不掩盖这些行为，我们会让开源社区对这些社会攻击媒介敞开大门。”

编码是一种创造性应用的语言，因此 GitHub 及其同类产品的个人用户的提交包括自然识别特征、评论和表情符号的使用。Kimmich 观察到黑客变得越来越老练，当他们试图窃取另一个用户的身份时，他们甚至会模仿那些语言选择。

通常，危险的用户不会提交明显恶意的代码。他们经常为一个项目解决一个真正的问题——但是，在好的代码中，他们包含了不容易被发现的恶意代码。

屏蔽元数据的新兴安全最佳实践阻止了这种优先处理，并降低了成功注入恶意代码的可能性。

## 屏蔽的拉取请求可以增加多样性

在拉请求审查过程开始时屏蔽标识元数据应该会显著降低恶意注入的风险因素之一。它还被证明有可能提高已批准的拉式请求的质量，并改善多样性、平等性和包容性——[开源社区在](https://thenewstack.io/open-source-communities-need-more-safe-spaces-and-codes-of-conducts-now/)甚至比整个技术行业都要糟糕得多。

2017 年[一项被广泛引用的研究](https://peerj.com/preprints/1733/)调查了近 300 万用户的开源 GitHub pull 请求。它观察到，当他们的个人资料模糊了他们的性别时，女性的拉请求的接受率比男性高 4%。但当他们的性别很明显时，他们的接受率比男性低 9 个百分点。

这项研究表明，女性代码的质量更高，在合并前更少需要重构，但男性维护者主要依靠[亲和力偏见](https://thenewstack.io/strategies-to-beat-affinity-bias-for-more-open-source-diversity-and-inclusion/)来模糊他们的判断。

考虑到这项研究，在指导 50 多名女性识别开源新手时，Kimmich 反复建议他们的学员保持 GitHub 句柄的性别中立。但是，对他们来说，在平等之前，屏蔽数据是一个关于质量和安全的明智解决方案。

回顾 2017 年的研究，Kimmich 指出，“在这种情况下，我们消除了获得最高质量开源承诺的可能性。所以，对我来说，这甚至不是一个性别问题。这就是:我们真的获得了最高质量的信息吗？

“如果我们没有收到提供的最高质量的信息，是不是系统中有什么东西扭曲了信息？”他们问道，再次指向造成光环效应的多余元数据。

这项研究支持这样一种观点，即如果性别识别特征在拉取请求级别被屏蔽，代码质量就会提高。此外，它将有助于防止不公平的待遇和偏见，这种不公平的待遇和偏见成为妇女和其他少数性别为开源做出贡献的几个障碍之一。

2021 年，Linux 基金会调查了 85%的男性说他们同意“我在开源中感到受欢迎”的说法，而只有 74%的受访女性这么说。对于北美的女性来说，只有 65%的人说她们觉得开源软件是受欢迎的。对于全世界认为自己不是第二性、第三性或其他性别的受访者，这个数字是 62%。

## 尽管元数据被屏蔽，但仍在构建社区

Kimmich 说，屏蔽代码贡献的识别元数据是有时间和地点的。这可能不适合私人或企业项目——大多数组织希望看到他们员工的工作。

在一个只有几百人的小型开源社区中，由于识别编码风格，这也是徒劳的。屏蔽元数据非常适合拥有成千上万贡献者的高度分布式社区，如 Kubernetes 和 Prometheus，它们的维护者和项目可能分布在世界各地。

“当我们分发时，这就是他们恶意注入的那种项目，”Kimmich 说。“在这种项目中，你一天会收到如此多的 PRs，你很可能会依赖于你的内部偏见，而不是你验证代码的能力。在那些项目上，这种最佳实践应该到位。”

这些也是开放源码项目，当它们出现安全漏洞时，会产生最大的全球影响。

元数据屏蔽的全面应用也会给开源社区的社区部分带来风险。你肯定希望能够欢迎新的贡献者，并对重复的贡献者给予赞扬和感谢。

事实上，成为社区一员的愿望推动了大多数开源贡献。[最近提交给](https://arxiv.org/abs/2101.10291) [IEEE](https://www.ieee.org/) 国际软件工程会议的一篇论文发现了人们为开源项目做贡献的以下动机:

*   91%是为了好玩
*   89%的人喜欢帮助别人
*   85%要回馈
*   80%用于亲属关系
*   68%寻求声誉

很明显，社区和认可对于开源的可持续发展至关重要。

开源还有一个[强大的师徒臂](https://thenewstack.io/how-to-find-a-mentor-and-get-started-in-open-source/)。你需要知道谁在做出贡献，以便[提供建设性的反馈](https://thenewstack.io/how-to-give-and-receive-technical-help-in-open-source-communities/)。为了招募新的积极的贡献者，并为重要的项目提高新的维护者的技能。同样重要的是跟踪人口统计数据，以了解和衡量任何多元化和包容性努力的成功与否。

Kimmich 说，出于这些原因，他们并没有试图让屏蔽元数据成为 GitHub 中的一个强制性功能，而是一个可以打开和关闭的功能。

他们主张在收到初始拉请求时打开它。一旦维护者选择接受/拒绝或仅根据贡献的质量参与代码，元数据就应该被揭露。这允许维护者在社交层面上参与他们的贡献者社区，并提供更加个性化的反馈。

此外，Kimmich 希望元数据屏蔽被灌输到[云本地计算基金会的安全最佳实践](https://github.com/cncf/tag-security/tree/main/supply-chain-security)中，因为它“改进了围绕恶意注入[和]社会偏见的信息处理，并且我们为开源系统贡献了一个良好的最佳实践。”

*更新:自从发表这篇文章后，我们有机会与 GitHub 的多元化、包容性和归属感战略高级主管 [德米特里斯·奇塔姆](https://www.linkedin.com/in/dwcheatham/) 进行了交谈。虽然她认为屏蔽元数据的安全角度很有趣，但她回应说，出于多样性和包容性的目的，她“个人并不喜欢盲目拉请求或简历。我想让你看看我。看到我，欣赏我带来的可能与众不同的经验和观点。”*

*开源不仅仅是关于 Cheatham 的代码，还有构建它的人和观点。“如果你收到某人的拉动请求，并且你知道你有一个别人实际带来的视角。”她作为第一代大学生的经历与她的职业成就一样重要，她在北卡罗来纳州最贫困的地区长大，毕业于哈佛商学院。“更多样化的团队有更多的创新和创造力，”她指出，部分原因是不同的视角会影响产品，就像一个人推迟发布以修复某些东西一样。*

*这就是为什么 Cheatham 的团队正在将 nuance 构建到 GitHub 的 [All In](https://allinopensource.org/) 实习项目中。当疫情拉开帷幕，世界突然联网时，校园、图书馆和麦当劳都关闭了，这阻止了那些无法上网的人获得梦寐以求的科技实习机会。她说，“很多学生被落下了。这些学生没有实习机会，现在也找不到工作。”*

她说，“实际上，我想开始强调这些差异”，而不是模糊它们。仅考虑数据屏蔽的 DEI 潜力，Cheatham 说，“我们必须确保解决方案不是掩盖没有得到解决的事情的权宜之计，[比如]通常是股权问题。”对于 DEI 问题，没有简单的解决方法——必须投入工作。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>