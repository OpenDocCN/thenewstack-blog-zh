# 无状态重新思考现代网络

> 原文：<https://thenewstack.io/stateless-rethinks-modern-networking/>

科罗拉多州博尔德的一家公司 [Stateless](https://www.stateless.net/) 一直在重新思考网络，该公司表示，网络有望通过最新的架构实现一个全新的领域。

它已经开始简化网络管理，提供一个可以随着需求变化而发展的平台，并可以随着其客户(主机托管运营商和网络服务提供商)应对 5G、物联网和云等挑战而扩展。

其最新的冒险是与英特尔合作，将其 [Barefoot Tofino](https://www.barefootnetworks.com/products/brief-tofino/) P4 以太网交换机与无状态 Luxon 软件相结合，为交换机提供更深层次的可编程性。去年 6 月，英特尔收购了 Barefoot Networks，它是网络设备和 Tofino 系列以太网交换机 ASICs 的独立于协议的 [P4](https://p4.org/) 编程语言的创造者。

“为了保持竞争优势，企业需要快速、轻松地连接到云，支持大量互连，并能够快速部署各种新应用。联合创始人兼首席执行官 [Murad Kablan](https://www.linkedin.com/in/muradkablan/) 表示:“如今，部署一款云应用通常需要复杂的工程和新硬件，并且需要数月时间。无状态旨在改变这一切。

其客户希望提供多租户和多层多租户—成千上万的用户都在同一个集群上。DevOps 商店可能希望启动网络和连接，然后在几个小时内将其移除，而不是等待 it 部门六周来设置。客户需要灵活的弹性容量，即能够按需消耗资源，并且能够与旧技术协同运行而无需淘汰和更换的云体验。

451 Research 高级分析师 Craig Matsumoto[表示:“在云时代，企业已经习惯于通过软件控制基础设施，但网络却相对缓慢地赶上了这一趋势。“Stateless Inc .将 P4 可编程交换机技术添加到其 Luxon 平台的举措提供了高级网络控制，并允许用户更容易地构建软件可配置的网络。"](https://451research.com/analyst-team/analyst/Craig+Matsumoto)

### 灵活性和可见性

Kablan 和 Eric Keller 基于他们在科罗拉多大学[电气、计算机和能源工程系](https://www.colorado.edu/ecee/)的研究，于 2016 年推出了 Stateless。

利用其软件定义的互连(SD-IX), Stateless 使托管服务提供商和数据中心运营商能够通过软件向网络互连点动态交付路由、安全和自动化服务。它使他们能够通过 API 控制和连接每个端点，包括组合数据中心、租户站点和超大规模云。

无状态与 P4 交换机和 Luxon 软件一起运行在商用 x86 服务器上。

在网络中实现硬件和软件的平衡是很棘手的。据无状态公司的产品管理总监[西蒙·惠勒](https://www.linkedin.com/in/simonphwheeler)说，传统的网络设备依赖硬件来提高速度，尽管它不够灵活。同时，软件定义的网络提供了灵活性，但速度较慢。网络功能虚拟化(NFV)是像硬件设备一样构建的软件，具有所有相关的限制。他说，虽然它可以在商用 x86 服务器上运行，但需要对特定类型的硬件进行严格控制。

“我们使用微服务环境采用了云原生应用程序方法。为了做到这一点，我们必须采用横向扩展集群或水平可扩展集群，”Wheeler 说。

这将计算、存储和 RAM 资源汇集在一起。他说，资源的集中和灵活使用有助于缓解软件的缓慢并提高速度。

然而，使用 [OpenFlow](https://noviflow.com/the-basics-of-sdn-and-the-openflow-network-architecture/) 的 SDN 交换机仍然存在硬件依赖性，OpenFlow 是由[开放网络基金会](https://www.opennetworking.org/) (ONF)定义的多厂商标准。

“我们意识到，我们必须对 OpenFlow 进行全程编程，真正深入到 ASIC，而我们无法做到这一点。以及我们所需要的灵活性，都不存在，”他说。它的许多主机托管提供商客户都对 VLAN 和 VX 局域网作为传输协议感兴趣，而 OpenFlow 不支持 VX 局域网。

Tofino 开关使专用集成电路(ASIC)本身可编程。转发逻辑驻留在加载到芯片上的 P4 程序中。芯片中没有植入任何协议。当需要新的协议时，操作员可以简单地将新的逻辑添加到 P4 程序中。

“它通过软件为我们提供了更大的能力和灵活性，可以添加新功能，删除未使用的协议，而且对网络行业至关重要，可以在流量通过交换机时提供更大的可见性，”Wheeler 说。

通过 Luxon，它能够标记数据包，例如，当它们通过这个交换机时，提供增强的可见性和执行服务质量限制的能力，“这是闻所未闻的，特别是对主机托管提供商来说，”他说。

“通过 P4，无状态可以对数据包流进行非常细粒度的控制，包括跨网络功能和跨网络租户的负载平衡和 QoS，”他在一篇博客文章中写道。

“P4 和托菲诺为无状态公司提供了我们所需要的工具，从最底层重新发明网络功能，包括网络功能架构以及控制和数据平面调整，以充分利用现代软件设计的能力。”

### 从状态解耦

Stateless 拥有一项更高效的包路由专利，该专利涉及四个关键元素:用于快速读/写包的高速网络接口控制器，用于快速状态查找的分布式存储技术 [RAM Cloud](https://ramcloud.atlassian.net/wiki/spaces/RAM/overview) ，用于状态查找的批量并行处理；和多个服务器中的多个位置的分布式状态存储。

与状态分离是无状态方法的核心。它使用分布式数据存储，通过微服务架构向无状态网络功能提供信息，而不是每个网络功能都必须跟踪所有流量。然后，可以将这些功能分解成单独的组件，这些组件可以通过编排来操作。这使客户能够提供一个平台，让租户可以定义他们的定制网络，同时启动和管理互连的工作在幕后自动进行。

用户可以创建任意数量的独立网络服务，用于安全服务、数据加密、路由等的互连或组合。

在去年 9 月的 GA 上，该公司宣布了互连服务链，使客户能够混合和匹配任何服务功能，包括安全服务，如包过滤或加密或不同版本的路由。

Barefoot Networks 产品线经理 Arkadiy Shapiro 表示:“新兴网络应用和功能驱动的新互连要求正在导致网络在设计、构建和运营方式上发生重大转变。“Stateless 将软件定义的互连平台的强大功能与 Barefoot Tofino 的 P4 可编程性的灵活性相结合，提升了网络功能，并为用户提供了一个现代化的、完全可编程的网络功能平台。”

图片由来自 Pixabay 的 Gerd Altmann 提供。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>