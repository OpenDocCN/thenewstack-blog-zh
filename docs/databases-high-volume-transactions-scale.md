# 大规模数据库第一部分:实时内存游戏

> 原文：<https://thenewstack.io/databases-high-volume-transactions-scale/>

这个由三部分组成的系列文章着眼于实时事务数据库可伸缩性的最新进展。第一部分重点介绍新一代数据库服务，这些服务正在大规模提供实时事务处理。

[Part Two](https://thenewstack.io/databases-high-volume-transactions-scale-part-two/)

回顾显示大规模事务处理如何在高容量级别继续获得优势的行业基准。

[Part Three](https://thenewstack.io/databases-high-volume-transactions-scale-part-three/)

将重点关注企业可以采取哪些步骤来管理早期可扩展性，同时构建可以管理增长轨迹的未来基础架构。

行业越来越多地转向能够管理内存中数据的混合事务/分析处理数据库。这些数据库是架构堆栈的一部分，推动了企业应用的兴起，并促进了超本地移动产品的发展——在超本地移动产品中，个人偏好、客户的当前位置、天气和时间等外部因素以及企业的供应链都可以实时交互，以便实现购买或提供服务。

现在，企业发现随着规模的扩大，他们开始依赖其数据库架构的容量来保持数据集同步，并实现微秒级处理，这不会中断最终用户体验，但可以执行幕后分析，以确保实时评估和解释风险。

最近几周，数据库之间出现了一场新的竞争，他们渴望证明自己有能力满足市场对低延迟、高容量事务性数据库功能不断增长的需求。

## 芭蕉

RiakCS 和 Riak Enterprise 的制造商 Basho 的首席执行官亚当·雷(Adam Wray)认为，主要的数据库竞争是在他们自己、[、MongoDB](https://thenewstack.io/mongodb-grabs-wiredtiger-and-its-talent/ "MongoDB on The New Stack") 、 [Cassandra](https://thenewstack.io/armed-with-additional-106-million-datastax-to-keep-pushing-cassandra-to-enterprises/ "Cassandra on The New Stack") 和 [Couchbase](http://www.couchbase.com) 之间进行的。“这是仅有的四家有规模的公司，”Wray 说:指着数千万的收入，风险投资的规模，以及使用他们的可扩展数据库架构的客户类型。

“如果你考虑整个市场，我们有三个非结构化数据的主要驱动因素，”Wray 说，解释了分布式数据库架构提供商的巨大增长。“大数据—现在已经成为中端企业和财富 500 强企业的领域；地理多样性的分布式工作流；以及具有机器对机器通信的物联网。这三个因素支撑着我们的业务。”

[亚当·瑞，巴肖列克](https://thenewstack.simplecast.com/episodes/adam-wray-basho-on-riak)

在企业生产层面，Wray 认为，Basho 的年增长率达到 88%，并在本周吸引了 2500 万美元的 G 轮融资，这是因为大型企业客户正在选择生产层面的一个用例，一旦他们开始看到 Riak 分布式数据库架构的简单性和强大功能，他们可以大规模利用非结构化交易数据的场景数量就会增加。例如，英国国家医疗服务系统就是这种情况，它开始使用 Riak 来管理个人资料和处方系统。现在，该数据库平台管理着 8000 万英国医疗保健患者的数据，并在他们在 20，000 多个 NHS 附属医疗保健服务之间移动时，保持他们的护理和治疗历史的同步。

“客户的类型不仅仅是传统的游戏或媒体类型的公司，还包括政府、卫生和医疗机构。客户一直在关注这一点，在过去的 18 个月里，他们开始重视生产支持。我们认为这是一个机会:我们的客户越来越重视生产水平。我们处于“土地和扩张”模式的核心。我们的合同从平均一年到两年不等，从几十万到几百万不等。“这一切都与延迟、可用性和性能有关，”Wray 说。

## Redis 实验室发布新的分片技术

管理应用程序数据的最流行的大型数据库之一是开源的 Redis。“Redis 是一个关键的价值数据库，同时它也经常被认为是一个数据结构化引擎，”Redis 实验室的首席执行官 Ofer Bengal 说。

“就 Redis 的早期采用者而言，Twitter 和 Stackoverflow 等公司已经使用 Redis 有一段时间了:例如，Twitter 有几个数据中心，每个数据中心在 Redis 中都有数百万亿字节的数据。

“当你看到 Redis 的垂直市场时，它们来自云、金融、游戏、广告、在线旅游、电子商务，在使用案例方面，我们看到 Redis 用于作业调度、预订管理和交易处理。”

Redis Labs 目前提供一种数据库即服务产品，其免费增值模式可存储高达 25 GB 的数据，然后根据客户的使用情况每小时计量一次。他们目前正在开发他们的第二个产品:“可以下载并存储在任何服务器或公共云上的企业软件，因此客户可以操作数据库。Bengal 说，他预计这个月会有一个发布日期。

Chargify、the Bleacher Report、HotelTonight 和 Docker 都采用了付费的 Redis Labs DBaaS 来管理其数据架构的各个方面。

Redis 实验室实现大容量数据交易的关键是创建一种分片技术。对于他们的 DBaaS 客户，Redis 实验室最近发布了新功能，有助于将事务处理速度提高到每秒约 120 万次操作。

Bengal 说，在过去，分片并没有给数据库管理员和应用程序开发人员足够的控制权来控制如何分割数据库。新特性允许用户使用正则表达式来定义数据库碎片。

Redis 实验室引入分片技术的首要任务是满足不断增长的客户需求。企业越来越多地转向 Redis 等内存数据库服务来管理大型数据库，他们每天需要管理来自世界各地的数百万次交易。

Bengal 解释说，所有数据库的基本伸缩难题是，一旦数据库变得比单台机器大，“那么任何跨机器的操作都会成为问题”。

## NuoDB:支持混合事务处理的分布式数据库架构

[NuoDB](http://www.nuodb.com/ "NuoDB") 是一款数据库软件，用于在多台机器上部署，以创建分布式数据库架构，无论是在本地运行，还是在私有或公共云服务器上运行。他们宣布了作为 NuoDB Swifts 版的一部分的新功能，以实现“低延迟混合交易/分析处理(HTAP)能力”。

NuoDB 的 CTO Seth Proctor 发现，越来越多的客户需要内存数据库提供更强的事务处理能力。“对于我们的客户来说，关键是快速回答系统中正在发生的事情，而不需要在单独的服务中维护数据的多个复制副本来获得洞察力，”Proctor 说，这是关键的驱动因素。

Proctor 表示，当处理无法包含在单台机器中的大规模数据集时，挑战就出现了:“正是这种分布式架构让 NuoDB 在不增加延迟的情况下解决了处理大量和混合工作负载的传统挑战。当您需要扩展操作事务的数量或增加分析的复杂性时，您可以添加更多内存中的对等体来承担这项工作。这些内存中的对等点将根据工作负载的类型形成缓存，以便有效地管理资源。”

然而，NuoDB 的解决方案提供了一种数据库分片的替代方案:

“根据定义，分片意味着将单个数据库分割成多个互不关联的数据库。因此，您限制了任何单个事务的范围，失去了全局一致性，并且需要管理相互脱节的服务，以及需要维护和备份的存储点。面对失败，很难理解系统的整体状态。您肯定不能对整个数据集运行事务一致性分析。

“使用 NuoDB，您可以横向扩展，同时仍然维护单个逻辑数据库。对事务可以做什么没有限制，也不要求开发人员在应用程序逻辑中编码操作假设。因此，当您需要更改部署模型时，这是一个简单的操作决策。管理持久状态比管理故障模型简单得多。由于这些因素，开发时间更短，成本更低，配置和管理更容易，并且可以在很少或不做任何更改的情况下使用现有应用程序并进行迁移。”

## 内存数据库架构:一个重要的增长领域

能够在全球范围内处理实时事务的数据库架构仍处于起步阶段，并且只是引入了一些使其能够在内部和云中的混合配置中保持可靠的功能。

随着物联网的扩展，API 经济的膨胀，以及更多的企业采用移动优先的方法来设计应用程序，对能够管理交易速度同时保持数据完整性的数据架构的需求将成为一种业务规范。

新堆栈的第二部分概述了大规模的新数据库平台，介绍了一些最新的行业基准，显示了高容量、低延迟的事务处理速度。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>