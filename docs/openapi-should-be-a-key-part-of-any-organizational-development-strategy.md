# OpenAPI 应该是任何组织发展战略的关键部分

> 原文：<https://thenewstack.io/openapi-should-be-a-key-part-of-any-organizational-development-strategy/>

[](https://github.com/johncfeeney)

 [约翰·费尼

约翰·费尼是 Liferay 的高级销售工程师，他帮助客户了解 Liferay 技术的价值。在 Liferay 之前，John 在 New Relic 担任技术客户经理，在金融分析公司 FINCAD 担任解决方案架构师。](https://github.com/johncfeeney) [](https://github.com/johncfeeney)

在马克·安德森写下“软件正在吞噬世界”的八年后，各种组织已经意识到他们的生存取决于他们如何将技术集成到他们的业务中。由于软件和技术在日常生活中无处不在，消费者对与之交互的业务应用程序有很高的期望。为了应对这种情况，这些应用程序经历了爆炸式增长，它们的支持系统也变得越来越复杂。

如今，单个 web 或移动交易，如购买产品或注册应用程序，平均要跨越 35 个不同的技术系统或组件，而五年前只有 22 个。由于这种复杂性，API 在过去十年中已经从相对默默无闻转变为数字粘合剂，使开发人员能够创建新的软件应用程序、合作伙伴关系甚至新的业务。

## 生产原料药

成为 API 生产商可以在增长和收入方面提供巨大的红利。对于真正采用 API 优先策略的企业来说，他们创造了一个新的走向市场的渠道，从推荐和使用费中获得可观的收入。

以 Stripe 和 Twilio 为例。这里有两家公司，它们是 API 驱动的缩影。通过 Stripe，它的愿景是简化电子商务支付处理——这是几乎每个公司都需要完成的任务——并且它开始构建自己的 API 来实现这一目标。去年，超过 80%的美国人以某种形式使用 Stripe 进行了购买，该公司今天的市值为 225 亿美元。以 Twilio 为例，它始于 2008 年，当时只有一个简单的打电话的 API。现在，它提供了一个全面的云通信平台即服务(CPaaS)，开发人员可以轻松地将语音、视频和即时消息功能集成到其 web 和移动应用程序中。去年，Twillio 的全年总收入为 10 亿美元，比 2017 年增长 63%。

Salesforce 是 API 优先策略重要性的另一个很好的例子。去年它获得了 130 亿美元的收入，普遍估计其中 50-60%来自 API 调用。API 战略如此重要，以至于他们在一年前以高达 65 亿美元的价格收购了 MuleSoft。Salesforce 希望通过将 Mulesoft 的 API/数据集成功能嵌入 Salesforce 平台，从而帮助解决其客户不断增长的数据集成需求，加速其增长并产生更大的财务回报。到目前为止，迹象非常好。

## 消费 API

另一方面，消费 API 也会带来巨大的好处。可以获得许多技术和操作优势，其中主要是:

*   **系统的解耦**:解耦你的应用程序使它们更有弹性——彼此独立地维护代码和更新你的应用程序组件变得更容易。
*   **消除数据孤岛:**REST 等 API 规范使得打开以前难以访问的数据之门变得前所未有的容易。
*   **避免供应商锁定:**在你的应用中利用 API 可以产生更灵活的软件，例如，用一种电子邮件营销服务替换另一种服务，将对你的代码库产生最小的干扰。
*   遵循最佳实践:API 是引入模块化的理想跳板，通过抽象隐藏了复杂性，并创建了备受追捧的关注点分离。

有许多明显的好处，但是对于许多公司来说，API 驱动策略的主要驱动力是减少开发工作量和上市时间。今天的开发人员意识到，他们需要构建到应用程序中的许多功能是多余的，并且已经存在于其他地方。他们学会了不要把宝贵的时间和资源花在重新发明轮子上，而是依赖于来自第三方平台的具有成本效益的 API。

一些常见的例子包括:

*   入站/出站电子邮件:Mailgun、SendGrid 等
*   支付处理:PayPal，Stripe
*   地图:谷歌地图 API
*   语音/视频/即时消息:Twilio
*   存储:亚马逊 S3
*   监控和分析:Datadog、Dynatrace 和 Splunk

利用 API 使开发人员能够专注于交付其应用程序的独特功能，并以更快、更低的成本将越来越重要的初始产品推向市场。有很多公司采用这种方法并获得回报的例子。Instacart 就是一个这样的例子，该公司成立于 2012 年，由于其快速创新，现在的市值为 20 亿美元。如果 Instacart 在五年前成立，它可能会是一个完全不同的故事，因为编写该公司最终推向市场的 100%的功能需要时间和费用。

## 选择 API 规范

一旦一个公司决定采用 API 驱动的策略，为了成功，他们需要像对待皇冠上的宝石一样对待它的 API。为此，其 API 应该是:

*   **易于使用:**一个合适的 API 规范应该能够满足自助式消费——允许开发人员在编写任何代码之前检查 API 操作并测试 API 如何响应。
*   **完全文档化:**文档应该基于 API 定义自动生成，并覆盖整个 API，列出所有方法、参数和响应。良好的人类文档是至关重要的，这样开发人员就可以理解调用 API 的业务逻辑。
*   **定义良好:**您的 API 契约应该是您构建应用程序的基础。通过遵循 API 优先的方法，您允许团队在开发过程中更快地开始交互。
*   与语言无关:规范应该没有语言偏好，应该通过使用最少的指令跨任何语言工作来消除障碍。

## OpenAPI 规范

针对以上所有问题的一个很好的解决方案是 [OpenAPI 规范](https://swagger.io/specification/) (OAS)。OpenAPI 的前身是 Swagger，由 SmartBear、Google、IBM 和微软等公司创建，并迅速成为当今设计、构建、记录和使用 RESTful APIs 的最大框架。OpenAPI 规范是语言和平台不可知的，很大程度上是因为这一点，已经被 API 驱动的公司广泛采用，如 Atlassian、MuleSoft、网飞和 PayPal。

至关重要的是，OpenAPI 使得开发人员创建和使用 API 变得轻而易举。该框架提供了很好的工具，不仅可以生成客户机和服务器代码，还可以自动生成人类和机器可读的文档。这些工具包括:

*   **Swagger 编辑器:**帮助开发者快速入门基于 OpenAPI 的 API 的开源编辑器。
*   **SwaggerUI:** 一个直观的工具，允许检查和测试 API，而不需要任何适当的实现逻辑。
*   **Swagger Codegen:** 服务器存根和客户端 SDK 的自动生成器，允许开发人员专注于业务逻辑实现。

好的设计是任何成功软件项目的第一步。OpenAPI 强制采用 API 优先(也称为契约优先)的方法来构建 API。一旦你建立了你的契约，你就开发了支持这些交互的逻辑。内部开发可以在 API 契约背后进行，而不会干扰那些计划使用它的人的工作。

最后，虽然 OpenAPI 有助于减少开发时间和工作，但更大的好处是它还促进了开放性和透明度。许多公司决定将其 OAS API 配置文件发布到 Github，允许开发人员将这些文件导入交互式 REST 客户端，如 Postman 或失眠症。例如，Stripe 和 Adyen 等公司通过接受这种透明的精神，表明了在增加其产品或服务的采用方面的回报是巨大的。

## 展望未来

随着 API 经济规模的持续增长，未来会怎样？

电影、电视和娱乐领域的一个发展趋势是“超媒体 API”的使用越来越多。这些 API 以非线性方式提供丰富的数据，包括图形、音频、视频和纯文本。API 消费者会看到超链接，他们可以通过这些超链接浏览数据，就像某人在网上冲浪一样。这为 API 消费者建立了更有意义和交互性的体验。举个活生生的例子，就拿 [TVMaze](http://api.tvmaze.com) 来说，你可以从里面按节目、剧集或者演员表来浏览它的整个档期。

另一个感兴趣的领域是机器学习。它渗透到我们的日常生活中——从我们手机上的照片到如何过滤我们的电子邮件——并将变得更加重要和广泛。然而，并不是每个企业都有能力从头开始实施人工智能或机器学习，因此将越来越依赖 API 驱动的第三方解决方案。IBM Watson、TensorFlow 和各种 Google Cloud APIs 等机器学习服务的爆炸式增长反映了这一点，同时也代表了新的可能性和商机。

## 结论

作为消费者，新的互联设备类别(如家庭自动化、可穿戴设备、智能汽车)的出现凸显了 API 在我们日常生活中日益增长的重要性。

从商业角度来看，API 对公司来说是一个有吸引力的机会。正如 API 经济的急剧增长所表明的那样，做得好的公司将从开发新的收入流或大幅降低开发成本和产品及服务的上市时间中获得丰厚的收益。

支撑所有这些的是在 API 实现方面必须考虑的技术问题。正如我们在本文中所探讨的，OpenAPI 规范已经成为世界上最大和最赚钱的 API 驱动公司的事实上的标准。通过采用 OpenAPI，公司将赢得开发者的心，并根据其商业模式，要么享受降低的开发成本，要么有可能转化为增加的收入和增长。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>