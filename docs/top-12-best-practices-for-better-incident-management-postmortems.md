# 更好事故管理的 12 大最佳实践

> 原文：<https://thenewstack.io/top-12-best-practices-for-better-incident-management-postmortems/>

对 IT 事故实施不良的事后分析对每个相关人员来说都是痛苦的；它们要花钱，更糟糕的是，它们可能无法解决问题的根源。在本帖中，我们将讨论一些尸检的陷阱，并介绍几个有助于使尸检过程顺利进行的最佳实践——包括选择正确的人员，创造问责文化，以及进行“无可指责的”尸检。简而言之，我们将向所有相关人员解释你需要做些什么来改善尸检过程。

## 什么是验尸？

 [史蒂夫·特德韦尔

Steve 在技术行业工作了二十多年，从事过从最终用户支持到扩展全球数据接收和分析平台的各种工作，为网络上一些最大的流媒体事件处理数据分析。他曾为多家公司工作，帮助他们改善运营和自动化基础设施。](https://www.linkedin.com/in/stevenjtidwell/) 

根据[韦氏词典](https://www.merriam-webster.com/dictionary/postmortem)的说法，事后分析是“一个事件结束后的分析或讨论”在技术领域，事后总结会议是事件管理整体流程的一个关键组成部分，在出现不良结果后召开，目的是确定哪里出错了，为什么出错，以及将来如何避免出错。

尸检不仅限于技术领域。许多行业和组织利用这一过程来创建一个允许持续改进的反馈回路。然而，不管是哪个行业，尸检几乎总是遵循相同的基本格式:

1.  预期的结果是什么？
2.  到底发生了什么？
3.  为什么会这样？
4.  以后怎么避免？

## **回顾与反思**

回顾与敏捷回顾的相似之处在于它们有相似的意图，但是有一些关键的区别。尸检通常在事件或事故发生后尽快进行。回顾通常定期举行，作为更广泛的敏捷策略的一部分，包括冲刺计划、每日会议和回顾(通常在冲刺结束时举行)。

尽管有不同的方法来实现回顾，它们通常看起来像这样:

1.  在项目、冲刺或前期阶段，什么进展顺利？
2.  什么不太顺利？
3.  未来我们希望看到什么？

## 在验尸过程中应该避免什么

那么尸检会出错吗？事实证明非常容易。在一个没有适当问责制或精心规划的事后分析过程的组织中，最常见的问题通常是相互指责——或者有时被称为“[责备游戏](https://en.wikipedia.org/wiki/Buck_passing)”

许多人可能会联想到这个场景。一个糟糕的事后讨论应该是这样的:

1.  问题:“预期的结果是什么？”
    回答:“成功地将新代码和特性部署到产品中。”
2.  问题:“到底发生了什么？”
    回答:“网站在定期部署期间关闭。”
3.  问题:“为什么会这样？”
    开发人员可能会回答:“QA 签核。他们没有适当的测试策略，让一个 bug 溜进了生产。”
    QA 可能会回答:“Ops 没有正确配置生产环境。要不是这样，我们早就在它熄灭之前抓住它了。”
    运营部可能会回答:“如果代码写得正确，应用程序一开始就不会崩溃。”
4.  问题:“以后怎么避免？”开发人员可能会回答:“QA 需要在未来做得更好！”QA 可能会回答:“Ops 将来需要做得更好！”运营部可能会回答:“开发人员需要在未来做得更好！”
    管理层:“唉……”

## **无可指责的尸检**

[谷歌的《SRE》一书](https://sre.google/sre-book/table-of-contents/)在标题为“[死后文化:从失败中学习](https://sre.google/sre-book/postmortem-culture/)”的章节中有一个极好的死后策略它讨论了为什么事后分析需要客观地进行(提示:人们天生喜欢指责别人)，以及为什么合作是更好的方法(因为大多数人都想从他们的错误中吸取教训，让事情对其他人也更好)。

一个无可指责的死后检查的实际实现应该是这样的:

1.  问题:“预期的结果是什么？”
    回答:“成功地将新代码和特性部署到产品中。”
2.  问题:“到底发生了什么？”
    回答:“网站在定期部署期间关闭。”
3.  问题:“为什么会这样？”
    回答:“试运行和生产环境不同。一个在生产环境中没有表现出来的 bug。这导致应用程序崩溃。”
4.  问题:“以后怎么避免？”
    回答:“我们应该在代码中包含额外的检查，以提高我们捕捉错误条件的能力，防止应用程序崩溃。我们应该确保试运行和生产环境是相同的。如果这不可能，我们应该使用[金丝雀](https://sre.google/workbook/canarying-releases/)部署(或其他手段)来实现额外的测试，以便在错误被完全部署到生产之前捕捉它们。”

最后一步还应该包括一个可操作项目的列表，并为每个项目指定一个所有者。还应进行例行跟进，以确保这些行动项目实际上及时完成。

请注意，在我们无可指责的死后场景中，没有任何人试图指责另一组人。相反，他们对事件进行了客观的分析。该流程还将包括适当的[根本原因分析](https://en.wikipedia.org/wiki/Root_cause_analysis)，以及一系列可能的补救措施。你也可以通过主动避免团队中一些常见的沟通错误来避免责备。

## **潜在的死后陷阱**

试图在组织中灌输一种负责但无可指责的文化的问题是，正如我们前面提到的，人类倾向于指责他人——无论是对自己还是对他人。

关于如何避免“责备游戏”的一个例子，看看“[无可指责的验尸是行不通的。这就是我们要做的。”](https://techbeacon.com/app-dev-testing/blameless-postmortems-dont-work-heres-what-does)简而言之，你要确保你的流程是可靠的，你要让人们遵守流程，你要时刻牢记你是在与人打交道，你要“有责任意识”，你要与你的团队合作，帮助他们理解更健康的互动和改进方式。

## **事后最佳实践**

以下是一些最佳实践和技巧，可以帮助你更好地完成尸检过程:

1.  **获得管理层的认同**，从底层一直到高层。如果你的过程背后没有某种权威，它很可能会一事无成。
2.  **分配一个流程负责人**。此人将负责所有后续工作，包括安排会议。
3.  **保持整个过程简单**。复杂的过程使得获得认可更加困难。缺乏接受会导致不遵从。
4.  **在您的票务系统中创建一个项目**，专门用于跟踪事故工作流程。
5.  **保持票证工作流程简单**。
    *   例如，一个简单的工作流可能是这样的:
        1.  事件正在进行中
        2.  事件已解决
        3.  根本原因分析
        4.  事件跟进
        5.  事件已结束
6.  **尽量减少门票所需的信息量**。如果票证中的字段较少，人们将更容易识别有助于流程的信息。这也将增加正确填写票据的可能性。
    *   极简票证可能如下所示:
        1.  标题
        2.  行动纲要
        3.  参与解决事件的人员列表
        4.  票证(事件所有者)
        5.  事故日期
        6.  事件的开始和结束时间。(如果您的组织跨越多个时区，我们建议您使用 UTC。这也将有助于在查看服务器或聊天日志时保持时间线更准确，因为当不需要转换时，关联更容易。)
        7.  事故时间表
        8.  发生了什么事？
        9.  为什么会发生(即:RCA)？
        10.  附件、链接、图表、日志或其他信息
        11.  带有建议跟进操作的子票证
        12.  跟进的截止日期
7.  **发生重大事故时强制创建票证**。这可以由响应事件的个人或团队完成，也可以由[事件协调员](http://smcc.emory.edu/itsm_process/incident/incident_roles_and_responsibilities.html#Incident_Coordinator)完成。
8.  **事件结束后，将门票转让给失主**。负责人将负责跟进根本原因分析，并确保完成在事后讨论中创建的行动项目。
9.  **任命流程负责人**以确保事故项目中的票据在工作流程中移动。此外，流程负责人应负责根据需要安排会议。
10.  **当你有了**时，你应该开始验尸:
    1.  影响最终用户的重大停机
    2.  失败的部署
    3.  安全漏洞
    4.  数据丢失
    5.  错过最后期限
    6.  重复或未解决的事件
11.  **当你有**时，你应该避免尸检:
    1.  小问题
    2.  主动维护以防止更大的问题
    3.  预定工作(除非工作本身导致事故)
12.  **最后，尽可能杜绝相互指责**，努力营造一种“责备意识”和合作的文化。

这篇文章将为您指出进行事后分析的正确方向，但是组织需要评估许多变量，以确定什么最适合他们。请记住，事后过程本身应该随着时间的推移重新评估，以便考虑需求的变化，并确保它仍然是您的组织的最佳选择。

有许多优秀的文章描述了不同的公司是如何实现他们的“无可指责的事后分析”的。具体来说，参见[无可指责的事后分析和公正的文化](https://codeascraft.com/2012/05/22/blameless-postmortems/)，以及[如何进行无可指责的事后分析](https://www.atlassian.com/incident-management/postmortem/blameless)，以及[调整无可指责的事后分析](https://medium.com/swlh/tuning-blameless-postmortems-37a949c152b)。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>