# 要警惕的 5 个 DevOps 陷阱

> 原文：<https://thenewstack.io/5-devops-pitfalls-to-watch-out-for/>

[](https://www.linkedin.com/in/rahulvarshneya/)

 [拉胡尔·瓦什内亚

拉胡尔·瓦什内亚是 Arkenea 的联合创始人兼总裁。Rahul 在众多媒体频道中被誉为技术思想领袖，如彭博电视台、福布斯、赫芬顿邮报等。](https://www.linkedin.com/in/rahulvarshneya/) [](https://www.linkedin.com/in/rahulvarshneya/)

DevOps 已经从一种消除瓶颈的方法发展成为一种可靠的加速部署策略。然而,[devo PS State 报告](https://dzone.com/articles/the-2018-state-of-devops-reports)注意到了一个有趣的统计数据，当他们将最佳行业参与者与行业中的低表现者进行比较时:

*   他们的代码部署速度快了 100 倍
*   他们的代码失败次数少了三倍
*   当它失败时，他们恢复的速度快了 24 倍。

一方面，DevOps 的采用在全球范围内得到提倡。另一方面，DevOps 的最佳和最差表现之间存在巨大差距。

这表明，虽然许多公司意识到了 DevOps 的优势，但他们在实施中失败了。

## 开发之旅中要避免的错误

DevOps 的根源在于协作文化。不可能从第一天开始就让一切都完美运行。

当公司努力解决 DevOps 的难题时，成功就像通往持续集成和交付状态的漫长道路上的一课。

在从孤立的部署流程到良好集成的部署连续体的过程中，您的组织可以避免哪些错误？

### 1.决定自动化错误的过程

通常，在试图充分利用开发运维资源时，团队会将开发运维做得太过，最终导致不需要自动化的流程过度自动化。他们试图复制像脸书或网飞这样的巨头用他们的配置管理工具所做的事情。

此外，还有一些基本流程被排除在自动化工作流程之外的情况。当团队在没有所有过程和子过程如何联系在一起的大图的情况下开始自动化时，很难找到需要自动化的过程。

首先，不要在每个流程上逐字应用自动化，而是将每个流程分解成组成的子流程。然后检查每个进程，看看该进程是否按预期工作。最简单的方法是将标准输入和预期输出与其当前值进行比较。这将突出当前流程中的偏差及其原因，以便您可以设计一种方法来修复它们。

这个过程在两个方面帮助开发团队:

*   它提供了每个过程的完整画面，并确保没有过程被忽略
*   它强制对所有过程进行彻底的分析，这样就不会出现错误的自动化过程

拥有跨职能和领导技能的 DevOps 架构师，也可以帮助你在 DevOps 自动化的深水和不确定水域中航行。

### 2.使用应用发布自动化(ARA)工具代替配置管理(CM)工具

配置管理(CM)和应用发布自动化(ARA)是自动化工具的类型。然而，这两种类型的工具有不同的用途。

CM 工具最适合运行在与服务器无关的模型上的无状态应用程序。因此，云原生应用可以在 CM 工具的帮助下轻松管理，这些工具以相同的方式处理应用和服务器。

他们从一个或多个配置文件中获得所需的服务器状态，这些配置文件是使用 GitHub 或 SVN 这样的源代码控制系统存储的。

ARA 工具适用于更复杂的应用程序，在这些应用程序中，服务器具有紧密耦合的依赖性，因此它们需要协调任务。

如果您的应用程序发布过程涉及同构应用程序堆栈上的大部分配置任务，那么 ARA 工具不适合这样的设置。在这里使用 ARA 工具就像把涂了黄油的烤面包给一个喜欢涂了果酱的烤面包的人，这个人就是你的应用程序，服务器 CM 工具就是这个比喻中的果酱。

从实践的角度来看，您将不得不编写许多小脚本来使用 ARA 工具自动化服务器配置。编写静态值(如堆大小或应用程序池大小的变化)需要编写代码。这是因为这些工具不是为自动化服务器配置而构建的；他们自动化协调和移交过程。

使用专门为 server CM 构建的工具，任何配置更改都像更改几个文件中的一些值一样简单。因此，很容易回滚配置并持续管理配置。

### 3.使用持续集成(CI)或持续交付(CD)工具，而不是配置管理工具

CI/CD 工具是为开发和测试团队准备的，对他们来说非常有用。像 Jenkins 这样的开源工具节省了成本，并提供了即时反馈。

部署工具负责应用程序基础设施需求的长期维护。他们管理应用程序的生产发布，以及 UAT 结束后很长时间的持续配置管理。

CI/CD 工具对部署团队没有直接的好处，因为这些工具没有为发布和发布后阶段提供直接的可见性和协调能力。这些功能只能由现代服务器配置管理工具提供。

### 4.选择错误的度量标准来衡量项目的成功

虽然 DevOps 承诺加快交付速度，但是团队必须保持警惕，否则速度可能会对应用程序质量产生负面影响。一组明确定义的、对象化的 DevOps 度量标准可以帮助跟踪项目的进度和质量。

DevOps 在为每个组织定制方面非常灵活。没有正式的框架来指导您的度量标准选择过程。

因此，首先要定义你想用 DevOps 解决什么问题，以及你公司的 DevOps 转型会是什么样子。之后，确定您的组织在 DevOps 方面的潜在挑战，并使用它们来确定您的度量标准。[正确的发展指标](https://hub.packtpub.com/7-crucial-devops-metrics-that-you-need-to-track/)将帮助你了解你的成功。

除了技术指标之外，您还需要选择 DevOps 的业务指标，以便您可以向主要的利益相关者传达您的工作的 ROI。为此，您需要确保您选择的指标是基于结果的，并且与业务优先级一致。例如，如果 DevOps 的一个主要业务目标是提高您的流程的效率，那么关注成本的指标将会更合适。

### 5.对开发人员来说，安全性不够重要

在美国，医疗保健安全漏洞是根据 HIPAA 和 HITECH 法律中最严格的规则来处理的。非医疗保健领域的违规行为也无法得到遏制。数百万美元已经被用于罚款和修复随后的公关灾难。

高水平的开发运维开发人员在早期定义安全优先级，并能够将它们正确地整合到他们的开发运维计划中。

DevSecOps 是 DevOps 的一个面向安全性的版本，它将安全性和合规性测试绑定到单独的 DevOps 阶段，而不是同时进行它们。这些至关重要的流程发生在周期的早期(安全性和合规性检查的“左移”)，并融入到您的开发运维流程中。

这至少有几个优点:

*   开发团队不必花费大量的时间来解决安全性和遵从性问题。当发现这些错误时，现有系统会逐步检测并报告这些错误。这些问题成为开发团队常规反馈循环的一部分，因此可以立即修复。
*   随着团队不再依赖独立的阶段来增强应用程序的安全性，整个开发时间也加快了。
*   您的应用程序的安全性成倍提高，您可以保护您的组织免受未来的破坏。

## 最后的话

使用开发运维作为竞争杠杆的组织最终会过度自动化他们的流程，从而影响关键的开发运维指标。没有尽职调查就选择的工具(或者不适合您的特定过程)也会减慢您的 DevOps 进度。通常，开发运维中松懈的安全措施会导致违规和后续罚款。

纠正这些错误需要你计划并让所有主要利益相关者都有信心来计划和交流对策。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>