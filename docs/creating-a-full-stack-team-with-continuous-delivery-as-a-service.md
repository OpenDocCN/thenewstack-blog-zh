# 创建一个全栈团队，持续交付服务

> 原文：<https://thenewstack.io/creating-a-full-stack-team-with-continuous-delivery-as-a-service/>

毫无疑问，Kubernetes orchestration 现在非常火。同样毫无疑问的是，当你从单一架构的单一来源到高度分布式的系统，应用程序交付变得更加困难——尤其是对开发人员来说。不再有全栈开发者这样的东西，因为新的云原生栈有这么多层。相反，现代组织需要采用由专家组成的全栈团队。

连续交付即服务(CDaaS)是一种新兴的解决方案，适用于希望利用微服务和容器来支持面向客户的应用程序快速扩展，但又希望将软件交付背后的复杂性隐藏在面向开发人员和开发运维工程师的简单用户体验中的组织。这个想法是，作为一个有创造力的软件工作者，你应该只担心你所拥有的部分——你所擅长的部分。

CDaaS 对于寻求实现持续集成、交付和自动化而无需构建和维护自己的管道的中型企业尤其有用。

持续集成和持续交付(CI/CD)自然是确定性的。您可以配置它应该做什么，使工作流更容易自动化。组织不再需要依赖部署后编写的手册来记录下一次会发生什么。现在，开发人员可以编写代码中会发生什么。

> “现在，有了 CI/CD，一旦你弄清楚它应该如何工作，你就可以确保它每次都能工作。当它出现故障时，它会以可控的方式出现故障，并解释它是如何出现故障的，您可以更改配置，然后它就会正常工作。”— Tom Petrocelli，汞合金洞察

在这篇文章中，我们了解了什么是 CD 即服务，它面向谁，以及为什么 CloudBees 刚刚宣布推出由 Jenkins X 支持的 [CloudBees CI/CD。](https://www.previous.cloudbees.com/blog/introducing-preview-experience-cloudbees-cicd-powered-jenkins-x)

## 什么是光盘即服务(什么不是)

![](img/c76ed2da4556e5768874fe5c8dae9c27.png)[Tom Petrocelli](https://twitter.com/tompetrocelli)[汞合金洞察](https://amalgaminsights.com/product/market-landscape-the-2020-guide-to-continuous-integration-and-continuous-delivery-process-projects-and-products/)的研究员将 CDaaS 定义为简单地将你的连续交付管道带到云端。

Petrocelli 的研究重点是推动系统从整体服务向微服务迁移的“为什么”。他关注 CI/CD 从非常简单的工作流程到某种企业 DIY 阶段，再到现在完全集成的管道和端到端解决方案。

他说，公司不再想承担维护自己的 CI/CD 渠道的成本和时间负担，这是公平的。他也理解对整个 CI/CD 渠道的端到端企业支持的需求。“光盘即服务”涵盖了这两个方面。

但他警告称，存在供应商锁定的风险。尤其是对大多数混合企业而言。他对 AWS CI/CD pipeline 和 Google Cloud 的 CI/CD 等云提供商 CD 解决方案持谨慎态度，因为他认为他们的目标是更多的按需付费云资源消耗，而不是改善 UX。

Petrocelli 认为 CDaaS 的成功归结于可以跨不同部门和用例进行翻译的东西。他将[连续交付基金会的开源 Tekton 项目](https://cloud.google.com/tekton/)作为一种简单易用、非常可视化、类似乐高的方式来构建 CI/CD 管道，许多产品都是基于该管道构建的。

更广阔的市场现在要求开箱即用的简单性，而不是定制。而金融服务公司和政府机构的典型环境更加规范和复杂，仍然需要灵活性和定制化。甚至这些行业更多地利用云和 CI/CD 软件即服务。

![](img/71e0bd03cb8ff3ff9d0c93c6c6764388.png)对于[杰米·布利斯](http://lumami.biz/)来说，持续交付即服务集成了一个现有的配置管理工具——或者几个——并使得将数据从你的 Git 源代码转移到配置管理系统变得更加容易。它还简化了多环境和混合环境的处理。

而且必须有开发者真正想用的用户体验。

Bliss 说:“对于一个专注于工具的角色来说，使用 CDaaS 将我的代码仓库连接到我的服务器上，减少了设置、运行、维护和保持在线的工作。”。“另一方面，这也是一个我无法控制的约束，所以如果我公司的系统变得太大或太复杂，服务无法处理，我们就必须进行迁移。”

布利斯并不担心这会让她失业，这只是意味着她可以专注于更有趣的工作和更少的维护。

“使用像 CDaaS 这样的服务意味着你不需要在这项任务上花费工程时间——金钱，你可以专注于其他事情，”Bliss 说。“基本上，你在问题上砸钱，让它消失，这样你的团队就可以专注于你真正想解决的问题——你的产品——而不是元问题和元元问题。”

Bliss 继续说，使用 CDaaS 甚至为开发人员专业化开辟了更多的空间。

她说，“我认为对于专注于 UX、算法、数据库、运营等领域的应用程序开发人员来说，有很大的空间。拥有一个这样的多学科团队是件好事，即使他们都有开发人员或软件工程师的头衔，而且他们不是全职工作。”

Bliss 自称是一个利基 CDaaS 开发者。她在 Web、DevOps 和系统领域有 15 年的工作经验，曾与 Travis CI、Appveyor、CircleCI、Cirrus CI 和 GitLab CI 合作。她解释说，开箱即用的默认设置非常有限或没有，所以你必须为他们提供脚本，告诉他们该做什么。

她说，其他自主和付费的选择也是如此。

“你可以教他们如何运行部署，但这需要大量的工作和到处复制粘贴代码，而且，如果出现问题，调试可能会很痛苦，”Bliss 解释道。

她继续说，她认为 CI/CD 专业服务有很大的空间。这些是“粘合服务”，不太灵活，但是“覆盖了 80%的用例，比让一般的 CI 来做更简单。”

## CD 即服务面向谁？

Petrocelli 认为，CI/CD 的核心问题是，它的大部分仍然是 DIY。这导致企业雇佣工程师，他们的主要工作是实现和维护 CI/CD 平台，管理更新和测试。

“光盘即服务”应该可以解决所有这些问题，所以您不必这么做。

> “您是愿意将您的 IT 资金用于构建应用程序以帮助您的组织实现其目标，还是希望构建基础架构？它应该是增加收入或降低成本。”— Tom Petrocelli，汞合金洞察

布利斯认为，在那些不想拥有自己的硬件或服务器，但有足够资金负担这些服务的公司中，CDaaS 是一个天然的第一市场。在这些初创公司中，“如果你比工程师或时间更有钱，那么使用 CDaaS 这样的东西来加速你的时间和引导是有意义的。”

她认为，CDaaS 将被用作这些资金充足的初创公司启动和运行所需的基线绿地基础设施的一部分，此外还有 Git 存储库、项目设置、部署管道和运营故事。她称这种结合是自动化服务的好方法，因此你的工程师可以专注于实际问题。

她说，如果你有理由不使用 Heroku，比如你在经营自己的 Kubernetes 或拥有自己的金属，CDaaS 也很有吸引力。或者，如果您希望在公共云中更好地控制您的计费。或者，如果你只是因为有一个沉重的面向服务的架构而被 Heroku 淘汰出局。

> “我永远不会评判一家公司在 CI/CD 工具领域的选择，因为在这个领域选择你的架构是一个非常复杂的决定。每个故事都很不一样。”—杰米·布利斯，Lumami 软件公司

Bliss 重申了她希望从任何 CDaaS 工具中获得的一些共同好处，包括强大的环境管理、与现有配置管理工具的集成以及可靠性。

总的来说，CD 即服务似乎有一个中端市场定位。

> “现在我们有了供应商支持的端到端解决方案，它将更多的人引入了 CI/CD 领域。”— Tom Petrocelli，汞合金洞察

随着集装箱和 CI/CD 市场的迅猛发展，CDaaS 正在迅速崛起。事实上，帕特塞利认为，二者不可兼得。

事实上，Kubernetes 和 CI/CD 有一种共生关系，容器架构支持持续部署，CI/CD 解决流程和组织需求。CI/CD 和 CDaaS 有助于缓解组织首次开始实施 Kubernetes 流程编排时出现的速度变慢的情况。

Petrocelli 继续说，即使是“对于更传统的应用程序，你仍然需要自动化，因为在任何中型企业中手动部署软件都是一件痛苦的事情。”

手动部署通常发生在晚上和周末，会导致开发人员精疲力竭。雇佣一批维护人员仍然非常昂贵。

## CD 即服务是治愈 Kubernetes 焦虑的良方吗？

CloudBees 的云副总裁 Moritz Plassnig 见证了行业向 Kubernetes 的重大转变，但他说这并不容易。组织经常震惊地发现，过渡到数千个微服务，然后在生产中运行 Kubernetes 是多么困难。

> “Kubernetes 正变得非常受欢迎——它是该领域的领先技术——但许多公司确实在这个新世界中苦苦挣扎。”— Moritz Plassnig，CloudBees。

他澄清说，对于那些每天与 Kubernetes 一起工作的少数专家来说，这实际上并不是很难，但这只是一个小群体。挑战在于成千上万的开发者必须与它互动，而成为 Kubernetes 专家并不是他们的工作。

“开发人员应该专注于编写代码，为客户创造价值。当他们与 Kubernetes 互动时，因为它可以做这么多事情，所以很容易做错事情，”Plassnig 说。

而且开发者根本不需要了解 Kubernetes 生态系统的一切和更新。当您处理如此复杂的系统时，这就变成了一个安全风险。如此多的工具、环境和数据集使这种复杂性成倍增加。

对于一个在一定程度上抽象 Kubernetes 的产品有一个重要的需求，允许这些开发人员利用 Kubernetes 来满足他们的需要。他们甚至不需要知道他们利用的是 Kubernetes。

> “真正重要的是，您要频繁、持续地部署。”— Moritz Plassnig，CloudBees。

### CloudBees 为企业推出由 Jenkins X 支持的 CloudBees CI/CD

Plassnig 表示，Jenkins 是世界上采用最多的开源持续集成项目，CloudBees 是其最大的企业赞助商，雇佣了整个产品组织，其使命是为 Jenkins 做出贡献并维护它。Plassnig 说，CloudBees 提供了一个企业自我管理的 CI 解决方案 CloudBees Core，它利用 Jenkins 作为我们的商业产品之一。它最初是一个围绕 Jenkins CI/CD 工具构建的企业工具。现在他说，它仍然继续与 CI，但该行业也要求连续交付，最好是在生产环境中。

CloudBees 套件现在可以帮助客户持续测试和部署，其中包括开源项目 [Jenkins X](https://jenkins.io/projects/jenkins-x/) ，这是一个基于 Kubernetes 构建的云应用的 CI/CD 解决方案。Jenkins X 由 CloudBees 制造，于 2018 年捐赠给持续交付基金会(CDF)。CDF 还管理着 Jenkins 项目。Plassnig 称这是向 Jenkins 学习 15 年的产物，但表示它不与 Jenkins 共享任何代码。

Plassnig 相信会有很多创新，它会实现的，但是现在 CD 和 Kubernetes 有点言过其实。他风趣地说，你会发现财富 100 强公司中很少有人为他们所有的现有应用程序部署了全球性的企业级 Kubernetes。采用像 Kubernetes 这样的新技术只是需要时间，而迁移传统工作负载需要很多年。如果没有一个集中的 Kubernetes 战略，应用程序就会中断生产，开发人员需要随时待命。

Jenkins X 旨在简化这一点，这样任何拥有安全访问权限的人都可以在 Kubernetes 的基础上进行构建。

例如，开发人员对代码进行了更改。她会把它交给 GitHub。Jenkins X 将让它自动出现在 Kubernetes 集群中这个特定代码更改的预览环境中。然后它发布 URL，以 GitHub pull 请求的形式查看这一更改。那么反馈也会在该 URL 中共享。然后，一旦每个人都同意这一更改，这就是对试运行环境的单一命令。最后，只需点击一下鼠标，即可进入生产环境。

所有这些功能都是 Jenkins X 自带的，开发人员永远不用考虑 Kubernetes。

对于公司内的 Kubernetes 专家来说，它与其他开源持续交付基金会项目(如 Jenkins X、egacid 和 Tekton)的高度集成是很有帮助的。

本周在里斯本的 DevOps World 上，Jenkins X 作为一个名为 CloudBees CI/CD 的 CDaaS 发布，由 Jenkins 提供支持。这是一个合乎逻辑的演变，因为正如普拉斯尼格所说，除了拥有自己金属的最大公司，“人们希望消费詹金斯 X，而不是运行它。”

CloudBees 将继续开源对一个开发人员或小型原型团队有益的一切，由 Jenkins X 支持的 CloudBees CI/CD 将包含面向必须优先考虑安全性和治理的财富 50 强公司的专有功能。

由 Jenkins X 提供支持的 CloudBees CI/CD 面向在 Kubernetes 上开发全新云原生应用的公司。尽管迄今为止最大的用户群来自 Jenkins 社区，但它是为那些可能也是 Jenkins 新手的用户设计的。这种解决方案是固执己见的，或者在所谓的护栏上，有许多现成的管道自动采用现代 CD 最佳实践，这使得它从一开始就易于使用。

也可以一键回滚。自动回滚在产品路线图中。

Plassnig 强调，CloudBees 最独特的部分是，它在一个工具的视图和使用中完成所有这些工作。

“有许多解决方案专注于 Jenkins X 正在检查的问题的子集。CloudBees 是一家企业公司。我们意识到，我们可以在开发人员喜欢的单一产品中解决这些问题，”Plassnig 说，就像拥有 40，000 名 IT 专业人员的银行巨头客户汇丰银行一样。

“独特的优势是提供企业信任和开发者喜爱的产品，”他继续说道。

Plassnig 说，Jenkins X 在某种程度上是对如今软件购买方式的改变的回应。过去是首席信息官为整个公司决定、采购和部署。如今，最终用户开发人员将产品带入公司——这就是 Slack 获得关注的原因。

Plassnig 继续说“拥有一个开发者真正喜欢的产品是很重要的。但是，当我们看看我们这个领域的其他创业公司时，仅仅是最终用户喜欢的产品是不够的——如果你在为一家银行工作，如果首席信息官、合规官或安全团队不喜欢该产品，并且它没有做他们想要的事情，“你将永远不会获得牵引力。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>