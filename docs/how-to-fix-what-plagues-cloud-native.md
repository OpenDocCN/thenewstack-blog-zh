# 如何解决困扰云原生的问题

> 原文：<https://thenewstack.io/how-to-fix-what-plagues-cloud-native/>

[旗语](https://semaphoreci.com/)赞助本帖，代表[旗语 CI/CD](https://semaphoreci.com/) 平台。

 [沃伊泰克·奇乔

沃伊泰克正在 Semaphore 把营销和客户关系联系起来。在职业上，他喜欢与现代技术的创造者和动摇者密切合作。在业余时间，他写并表演口语诗。](https://semaphoreci.com/) 

Red Hat 开发者倡导者[Michael Hausenblas](https://twitter.com/mhausenblas)70%的时间都在路上——但他还是设法抽出时间与 [Semaphore](https://semaphoreci.com/) 的客户营销经理[Wojtek cicho;](https://twitter.com/wojtekidd)谈论了什么样的问题会影响本地云以及如何应对。提示:将开发人员与组织内部的运营人员结合起来，可以在解决许多部署问题方面大有帮助。

**你是 Red Hat 的开发者拥护者，也是云原生大使。您还写了几本关于 Kubernetes/DevOps 实践的书，并且您拥有计算机科学博士学位。你如何将活动中的知识分享和社区关注部分与工作中的实践/技术方面结合起来？**

归根结底，这一切都归结于交流良好实践。鉴于我们在云计算领域仍处于早期阶段，这通常意味着建立或获取它们。最重要的部分是非常积极和认真地倾听并试图理解人们面临的问题。这是因为有人以不应该使用的方式使用技术吗？也许有人试图继续应用过去在旧式整体设置中有效的方法，但这对于容器化的微服务没有意义？或者可能技术本身有一个开发者体验(DX)问题，甚至可能是一个 bug。

有时，考虑到我们在一个快速发展的空间中运营，这并不奇怪，这只是关于提高对工具或良好实践的认识。虽然我确实在 StackOverflow、Slack 等网站上花费了一定的时间(可能每天一到两个小时)来一对一地帮助人们，但我真的试图专注于可扩展的事情:一篇博客帖子、一个视频演示或 GitHub 上一个记录良好的演示。这些事情通常会让很多人受益，而且从长远来看会更有效率。

然而，与最终用户的直接互动是至关重要的，我大部分时间是在旅行中获得的，这占了我 70%的时间，无论是在会议上还是在现场与客户交流。为什么这很重要？因为只有当接触到用户面临的具体现实问题，并有机会讨论与这些问题相关的挑战和潜在动机时，我才能向工程和产品管理团队提供有用的反馈。

你已经为那些对开发工作的现代方式感兴趣的人创建了许多宣传页面，其中一个似乎很突出(不仅仅是因为有趣的网址)。[“无聊很酷”网站](https://boringis.cool)基本上是一个关于如何在组织内部引入开发运维最佳实践的快速指南。你提到技术部分实际上是流程中“简单的东西”,真正困难的是让组织内部的人为转变做好准备。

**对开发者、软件运营专业人员和企业本身来说，什么是最好的激励？这一切都是为了速度和灵活性，还是为了更平衡、更快乐的“一切照旧”？**

首先，我要说我不相信最佳实践，只相信好的实践。我们的领域太年轻，发展太快，任何人都不能宣称有一个最好的做事方法。然而，用文档记录在特定情况下具有特定需求和约束的有效方法是有意义的。

回到你关于激励的问题:我和 Courtney Eckhardt 在一起，她在 2016 年的演讲 [“我们应该如何运营”](https://www.usenix.org/conference/lisa16/conference-program/presentation/eckhardt) 中提出，如果你的开发人员和运营人员的激励不一致，那么世界上所有的工具都不会帮助你。简而言之，开发人员被激励产生特性:也就是说，改变事物，而运营人员保持事物运行——也就是说，阻止改变。如果你没有找到一种方法让这两个群体朝着同一个方向工作，最新的云原生工具集不会解决这个问题。这始于对各自角色的相互认识、理解和欣赏。虽然许多运营人员已经自学了如何编程，但我认为直到最近随着 Kubernetes 的兴起，开发人员才接触到并(在一定程度上)被迫学习和处理“传统的”运营主题。他们必须了解一些 Kubernetes 原语，如部署和服务，这正是运营人员对推出新版本应用或负载平衡流量的想法。

**在同一网站上，你提到运输的基本要求之一通常是“拥有 CI/CD 渠道并知道如何使用它”以及自动化你的 CI/CD 实践。我们还看到各种行业报告和调查证明，在以软件为中心的公司中广泛采用 CI/CD 工具仍处于早期阶段。这可能是什么原因造成的？**

我认为这个问题比这更深刻。我遇到的一些传统组织面临着更基本的问题:例如，源代码在哪里管理？仅仅因为我们中的许多人使用 Git 并围绕它管理服务，这并不意味着人们应该惊讶地发现一家实体公司在数字化转型运动中仍然将他们的源代码保留在 SharePoint 上。

这就是为什么，当我和顾客在一起时，我总是建议先把无聊的杂务做完。这包括在 DVCS(如 Git)中拥有所有的源代码和基础设施配置，自动化所有的测试和集成基础设施，并为应该部署的工件提供一个安全和高性能的位置。

我完全知道这不是令人兴奋的部分；这就像建议一个对以每小时 220 英里的速度开车感兴趣的人，先专注于建设一条适当的、足够宽的街道。然而，生活中的一个事实是，在狭窄且维护不良的道路上快速(安全)驾驶是非常危险的，如果不是完全不可能的话。

**你的工作很大一部分是与最新技术保持同步，以及它们如何影响开发人员和 DevOps 专业人员的日常工作。趋势之一是走向无服务器，它提出的两个最常见的问题是，“我们什么时候应该走向无服务器？”以及“当服务中断时，谁来负责？”**

**你对第二个问题有什么看法，你观察到的解决这个问题的行业趋势是什么？**

有许多产品可以考虑不使用服务器，Subbu Allamaraju 有一篇关于这个主题的很棒的文章。在回答您的问题时，我将重点关注功能即服务(FaaS)，如 AWS Lambda 等。首先，我要说的是，许多观察结果同样适用于容器化的微服务。所以，总的来说，问题是，谁带着呼机？写函数运行代码的人？如果不是，还有谁？

归根结底，在平台(FaaS 或 Kubernetes 集群)由组织外部的远程人员管理的环境中，您必须决定由谁来负责运行代码。一个策略可以是开发人员自己随叫随到，负责处理应用程序级别的第二天操作。其他选择，如谷歌网站可靠性工程( [SRE](https://landing.google.com/sre/) )模型所倡导的，引入了额外的专门角色来支持和指导开发人员处理运营问题。

要点是，随着传统管理员角色(负责基础架构调配以及操作您的应用)的变化，组织需要重新思考开发人员的角色。我一直在推广术语 [appops](http://news.appops.info) ，这个术语最初是由布莱恩·李尔斯创造的，试图表明在开发人员团队中至少需要有一种运营意识，在更极端的情况下，开发人员需要实际上对第二天的运营负责。

好消息是，无服务器环境专门为开发人员提供了许多优秀的工具，从可观察性(度量、跟踪)到控制发布和流量。然而，底线是，采用无服务器(和容器类似)的组织需要在责任方面承认这种转变，并且必须提出明确的指导。从长远来看，仅仅将一个角色重新命名为包含术语 DevOps 的角色是没有用的。

**作为一名开发者倡导者，你会学到很多关于开发者体验(DX)的东西。你认为一个开发者工具/框架需要在高度竞争的环境中取得成功的关键因素是什么？是速度、UX、周围的社区，还是所有这些因素的综合？**

是的，DX 是超级重要的，而且也不容易弄对。如果你观察任何给定的工具——比如说一个 CLI，比如“kubectl”——开发工具的人必须应对两个挑战:意识到并应用各自领域中最先进的范例(例如，参见 CLIs 的优秀实践[指南)，以及他们自己对工具在哪里或如何被使用的偏见和假设。](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46)

一个基本但真实的例子证明了这一点:虽然 Go 是开发跨平台工具的一种很好的语言，但在某些方面，比如说， [*nix systems](https://stackoverflow.com/questions/4715374/what-is-the-meaning-of-nix) 和 Windows 之间有着根本的不同，比如对环境变量的处理。现在，如果我是一名 CLI 工具开发人员，并且只在我的开发环境(比如说 macOS)中使用和测试我的工具，我可能无法感受到其他平台上的用户可能会经历的痛苦。

在开源开发环境中，这可能会更进一步，可能会挫伤贡献者的积极性，甚至阻止他们使用你的软件。我不得不在我自己的一个项目中[艰难地](https://github.com/mhausenblas/burry.sh/issues/13)了解这个事实，这是团队中技术多样性大有作为的地方。

**你的一个项目是 cl0udn41v3(云天真)Twitch stream，它着眼于“关于*nix、容器、Kubernetes 和无服务器计算的所有信息安全”，并且受到了 [Bruce Schneier 的书《点击这里杀死所有人》的启发](https://www.youtube.com/watch?v=GkJCI3_jbtg)**

**云原生安全是一个令人着迷，同时又让人害怕的话题。虽然 Schneier 在他的书中呼吁政府机构出台更多政策，但你相信“我们可以一起应对互联网+的威胁。”你能详细说明一下吗？开源社区和云原生厂商手中有多少责任？**

很大一部分肯定是意识。我不是布鲁斯·施奈尔，所以我只能鼓励人们去读这本书，他在书中提出了很好的观点。鉴于我们目前的系统(笔记本电脑、手机等。)已经是我们大多数人在安全方面的一个挑战，现在看看我们越来越多地使用和依赖的智能设备(从温度计到个人助理到冰箱到汽车)的数量，情况只会越来越糟。

这些设备中的每一台都是联网的计算机，对于最终用户来说，评估在其上运行什么、谁可以访问它以及它产生的数据甚至更不透明。所以，关于这个问题的教育是第一步。然后，由于受过教育的消费者要求安全性，开源社区可以支持保持系统透明的努力，云原生厂商也受到激励来提供必要的功能。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>