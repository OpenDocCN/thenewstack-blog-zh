# 互联网并不可靠，但是为它做好规划可以拯救你

> 原文：<https://thenewstack.io/the-internet-is-not-reliable-but-planning-for-it-can-save-you/>

互联网最初是国防部的一个项目，旨在应对断电和服务中断。然而，有时候甚至连加载一张猫的 GIF 图片都很困难。这是因为互联网不可靠。或者说，它最常用的方式不够可靠。但是有了多云和离线优先的方法，您可以做好准备。

想想主要的云提供商:AWS、Azure 和 Google Cloud。全球数十个专用云中心由拥有大量专业知识和资源的公司创建和运营，世界上大量的网站和移动应用程序都建立在这些中心之上。然而，即使他们也有严重的[中断](https://thenewstack.io/6-scary-outage-stories-from-ctos/)或服务中断([亚马逊网络服务(AWS)](https://aws.amazon.com/premiumsupport/technology/pes/) 、[谷歌云](https://status.cloud.google.com/summary)和 [Azure](https://status.azure.com/status/history/) 都公开列出了他们的一些重大中断)。

想想手机服务提供商:T-Mobile，美国电话电报公司，威瑞森。一场飓风(就像最近的一场，伊恩·T9)可以让手机信号中断几天。严重的分布式拒绝服务(DDoS)攻击会妨碍或破坏服务。手机服务是无线的，但手机信号塔使用的电缆不时会被意外切断。

考虑家庭互联网服务提供商:康卡斯特，频谱，考克斯。暴风雨、电缆断裂、磨损或设备故障都可能导致断电。[例如，Comcast](https://istheservicedown.com/problems/comcast-xfinity) 的停机报告每天都在发生。

最后，考虑一下现实世界中的互联网死区——手机和 WiFi 信号非常不可靠或完全不可用的地方:机场、飞机、偏远地区(农村地区、山区、大洋中的[船上](https://thenewstack.io/starlink-and-couchbase-accelerating-innovation-to-the-stars/))。我仍然经历着地下停车场的死亡地带，还有最近在购物中心的商店后面。

## 多云方法如何有所帮助

作为消费者，我们生活在这些问题中，并解决暂时的不便。然而，对于大规模操作来说，即使很小的中断也会导致巨大的后果。例如，沃尔玛计算出 100 毫秒的延迟会导致 1%的收入下降。

但是我们能做些什么呢？假设它会发生，并做好准备。例如，当我的家庭网络中断时，我可以使用手机数据服务(反之亦然)。

当 AWS 服务关闭时，您能做什么？切换到 Azure(反之亦然)。

这就是多云的意义所在:准备。当然，所有的[云提供商](https://thenewstack.io/kubernetes-credited-saving-spire-service-s3-outage/)都提供许多专有服务，这些服务不容易转换(供应商锁定)。因此，为了让多云方法发挥作用，您需要寻找所有云提供商都提供的开放标准，并尽可能在这些标准的基础上构建。

Kubernetes 是一种所有主要云提供商都提供的技术。对于数据库，寻找能够在云提供商之间尽可能接近实时地高效同步数据的技术(尽可能不费力)。这些工具还允许您运行自己的数据中心(如果有必要的话)，作为灾难恢复的权宜之计。

您还将获得其他多云优势:价格谈判优势和更多数据区域选项，等等。是的，这是有代价的:如果没有精心设计的抽象层，那些专有的云服务将更难使用或者无法使用。

移动应用呢？当智能手机应用程序的后端 API 关闭或无法访问时，该怎么办？尽可能让最终用户获得无缝体验。这可以通过将数据本地保存到设备并将新数据保存到本地数据库直到连接恢复来实现。

这是“离线优先”方法的关键。在本地存储和处理数据，并在互联网连接允许的情况下将其同步回您的数据中心。以对用户透明的方式来做这件事。如果他们在购物中心后面的网络盲区盘点存货，那也没关系。他们保持生产力，业务继续。

互联网会失败。云服务将会下降。手机信号会中断。但是如果你的组织对此有所期待和计划，那么当你的竞争对手争先恐后的时候，你的组织将会成为客户的首选。

## 用 Couchbase 强调可靠性

互联网的不可靠性是 Couchbase 提供的产品和服务的指导原则之一。Couchbase 提供 XDCR:跨数据中心复制，在数据中心之间实时复制对数据的更改，无论它们是 AWS、谷歌云、你总部的数据中心还是这三个数据中心。Couchbase 还提供了 Couchbase Mobile，它提供了一个具有自动同步功能的离线优先嵌入式数据库。这些都可以通过 [Couchbase 五车二](https://www.couchbase.com/products/capella)获得，这是一种云数据库服务，你现在可以免费试用。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>