# 保护您的服务网络:13 项清单

> 原文：<https://thenewstack.io/secure-your-service-mesh-a-13-item-checklist/>

[](https://www.linkedin.com/in/nikrouda/)

[Nikki Rouda](https://www.linkedin.com/in/nikrouda/)

[Nikki 负责 Solo.io 的产品营销。此前，他曾在 AWS、Cloudera、Enterprise Strategy Group、Riverbed、NetApp 和 Veritas 工作。他拥有剑桥大学的 MBA 学位和布朗大学的 ScB。](https://www.linkedin.com/in/nikrouda/)

[](https://www.linkedin.com/in/nikrouda/)[](https://www.linkedin.com/in/nikrouda/)

世界各地的组织都在争先恐后地更新他们的应用程序，使其运行在 Kubernetes-云中的编排容器中。在这一现代化过程中，这些公司必须计划保护其应用程序连接。当应用程序被重新平台化和重新架构成分布式微服务时，新的连接模式就会出现，这些模式通常会促使构建一个或多个服务网格。

健壮的服务网格可以处理南北连接(从边缘进入基于 Kubernetes 的应用程序)和东西连接(同一集群上的服务之间或不同集群之间)。)但是，这些流量模式都需要全面的安全性。

实现服务网格安全的最佳方式是采用零信任模型，这意味着每个连接，无论其来源如何，都必须得到验证和保护。为了帮助您评估服务网格技术并实现零信任安全，我们提供了 13 个必备功能来确保您的应用程序连接安全。这是清单:

1.  **传输层安全性(TLS & mTLS)** 提供端到端加密，以保护任何一对端点之间的移动数据。这可能是最基本的组件，但令人惊讶的是，并不是所有的服务网格都完全支持相互 TLS。
2.  **内置 web 应用程序防火墙(WAF)** 筛选入站流量中的威胁，阻止攻击渗透您的边界。对于任何向互联网公开的边缘网关来说，这对于传入的用户和应用程序连接请求都是必不可少的。
3.  **数据丢失防护(DLP)** 监控数据泄露或泄漏，以防止数据丢失和数据泄漏。如果您的应用程序由于某种原因遭到破坏，您不希望数据从您的边界泄漏出去。
4.  **与 Kubernetes 的 secrets management** 集成，后者管理敏感凭证，如密码、安全令牌和加密密钥。您会对这些信息仍然被硬编码到应用程序中或以纯文本形式存储的频率感到震惊。
5.  **证书管理**从中央平台控制和执行 SSL 证书，以认证连接。证书轮换可能是一个痛苦的管理步骤，应该妥善处理。这应该是可扩展的，以支持外部机构，这意味着它将与您已经使用的企业身份和访问管理解决方案一起工作。
6.  **授权**，例如使用开放策略代理(OPA)，它将服务 API 策略定义为代码。授权是身份验证的另一面，一旦您验证了谁的身份，它就可以控制谁可以访问哪些资源。
7.  **联合信任域**跨环境安全认证用户和应用，将认证策略一致地扩展到任何地方。如果没有这一点，您将花费大量精力来保持各种角色的更新和同步，并且可能会犯一些错误。
8.  **联合的基于角色的访问控制(RBAC)和委托**授予用户与其职责相应的权限，并同样在任何地方一致地应用。对于管理服务网格的运营商以及构建在网格中运行的应用程序的开发人员来说，可以在不同的级别应用这些控制。
9.  **多租户和隔离**让服务网格中的用户和应用安全地共享资源。一旦有了 RBAC，您就可以安全地定义谁可以接触什么，并有效地为不同的角色创建隔离的工作空间。Istio 的授权策略还可以用来阻止不需要的流量到达您的应用程序。
10.  **漏洞扫描和发布**发现、解决系统中的任何弱点并发出警报。安全性取决于其最薄弱的环节，因此检查您的防御中的任何漏洞非常重要。
11.  **多集群访问可观察性**提供整个系统中所有活动的完整日志聚合和可审计性。这对于事件发生后的实时监控和取证都很有用。对于分布式应用程序，有必要获得一个整体视图。许多人使用像 Prometheus 和 Grafana 这样的开源工具来观察。
12.  **联邦信息处理标准(FIPs) 140-2** 意味着您的服务网格技术已经过验证，符合美国政府制定的特定严格安全标准。有许多政府法规和行业最佳实践，但 FIPS 是确定您的安全基准的一种常见方法。
13.  **集群中继的安全拉模式**在整个系统中安全地共享配置。这是非常微妙的，但是您希望确保任何配置更改在被请求时被分发到边缘，并且只在被请求时分发。

虽然严格来说不是服务网格的安全特性，但一个额外的考虑是企业支持的可用性和响应的定义的服务级别协议(SLA)。开源软件本身并不一定满足生产部署的要求，所以您可能希望有一个随时待命的供应商来帮助您。不可避免地会出现问题，当发现 CVE(常见漏洞和暴露)事件时，知道有人可以快速修补您的代码，甚至在您没有跟上新版本的快速步伐时将修复移植到旧版本是令人放心的。

关于其他背景信息，[云本地计算基金会](https://www.cncf.io/)安全兴趣小组(CNCF SIG)发布了一份关于安全建议的[整体白皮书](https://github.com/cncf/tag-security/blob/main/security-whitepaper/CNCF_cloud-native-security-whitepaper-Nov2020.pdf)，该白皮书是任何从事应用程序现代化项目的人的推荐读物。

安全性是开源 Istio 的核心原则之一，这是 Kubernetes 目前最流行的服务网格。一些供应商甚至进一步增强了 Istio 的安全能力。然而，很少有人能真正提供上述所有功能。我们强烈建议您在自己的部署中使用上述清单对技术和策略进行基准测试，最好是在规划服务网格时，尤其是在生产环境中。注意安全！

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>