# 代码的长期成本是什么？

> 原文：<https://thenewstack.io/what-is-the-long-term-cost-of-code/>

称之为侦察规则或机会主义重构，随着开发人员对代码拥有越来越多的所有权，我们也有责任一路清理代码。这与成为你的软件的更好的管家的趋势相一致，把你的选择的原因留给未来的开发者去理解(当事情变好或变坏时)。)这是关于[为你的用户建立同理心](/empathy-secret-sauce-good-software-development/)——甚至为[你的软件不可避免的贬值做准备](/day-software-dies/)。

但是我们多久考虑一次我们正在创建的代码的真实成本呢？不仅仅是价格标签，还有维护成本、社会成本和环境成本。

这是[迪伦·贝蒂](https://twitter.com/DylanBeattie)在伦敦最新的技术超越会议[上试图回答的问题，该会议致力于探索我们的行业对我们社区的影响。今天我们将开始回答这个问题。](https://skillsmatter.com/conferences/11735-beyondtech-2019#program)

## 我们应该对软件收费吗？

我们的行业有一个共同的说法，如果你不付钱，你就是产品。当我们开始理解我们个人数字身份的价值时，这一点似乎更加真实。

当然，贝蒂指出，软件一开始是免费的——在我们开始制造和销售计算机之前，每个人都只是共享代码。

到底什么是自由软件？它的核心是用户创建和分享它的地方。

贝蒂举了 WordPress 作为一个很好的例子。这是一个自由软件，你可以自由地使用、改编和修改它。从一开始，你就可以通过 WordPress 咨询免费出售它。你不能说是你发明的。

因为没有人拥有它，所以当事情出了差错，比如当一个客户安装了一些插件，而另一个人利用了自由软件中的一个漏洞时，不清楚该责怪谁。从自由软件中获利的顾问可能在咨询关系结束后很久还要负责修复它。

当检查你是否应该走开源或专有的路线时，贝蒂说，“老板不会说‘它保护你的自由了吗？’他们问‘这要花多少钱？’"

他认为最好的“自由”代码是:

*   自由，如在演讲中，
*   免费的，就像啤酒一样——不花钱，
*   免费，就像在你的周末——“不用担心 WordPress 的 bug 和安全漏洞以及焦虑。”

自由必须伴随着信任。这是最难衡量的，也是最重要的部分，因为你不再孤立地做任何事情。贝蒂说，这种情况在 90 年代中期就结束了，那时像超级马里奥开发者这样的团队可以了解计算机系统的一切。

“那些日子已经一去不复返了，”他说。

当然，对于医疗保健、航空航天、安全和军事等行业，不使用任何第三方并在可信硬件上运行在技术上仍然是可能的。但即便如此，一个部分能有多好地洞察其他部分呢？

这就是 Eric Raymond 的 Linus 定律的用武之地:如果有足够多的眼球，所有的 bug 都是肤浅的，或者有足够多的 beta 测试人员，你所有的问题都会很快被发现。

流行的开源软件应该在数量上有优势。但是随后[发生了令人心痛的](https://en.wikipedia.org/wiki/Heartbleed)。发现这个重要的安全漏洞确实花了两年时间，但开源社区能够保持信任，因为它创建了一个引人注目的名称和徽标，所以主流媒体很快增加了对它及其修复的认识。

贝蒂说，还有他所谓的“开源权利复合体”的风险。许多操作系统软件是由热情的志愿者创造的，他说这些志愿者冒着成为“授权用户”的风险，他们可能不想在某些问题上工作。

“有时这是一个真正的错误，但并不重要。或者有时候是用户说你的项目不对。或者项目维护人员退出，”他在谈到操作系统出现问题时说道。

“你永远不会完全孤立无援——但除非你有一个处理代码的计划，否则你会迷失方向，”贝蒂说。

## 那么，专有代码更好吗？

在许多情况下，专有代码并不比开源/自由软件更好。除非你自己构建它——这伴随着它自己的麻烦和责任——专有软件会带来它自己的一系列问题。

使用付费软件，你可以提交错误报告，并且会有一个包含你的错误修正的更新版本。他们很容易对特别的安全缺陷做出更快的反应。

但是，如果付费软件公司倒闭了，你的延长保修期被打破了，会发生什么呢？

“供应商没有继任计划，你有支持合同，但他们不知道你的代码，”贝蒂说。

这就是为什么许多组织选择构建他们自己的内部代码，但是一旦代码被“完善”和发布，他们就解雇开发团队。

不要忘记，我们总会有不在代码中的依赖关系。微处理器漏洞[熔毁](https://en.wikipedia.org/wiki/Meltdown_(security_vulnerability))和[幽灵](https://en.wikipedia.org/wiki/Spectre_(security_vulnerability))就是这样发生的。

“这些不是软件或某个特定硬件的缺陷。在过去的十年里，它们是我们设计计算机处理器的基本错误。唯一的解决办法就是买一台新电脑，”贝蒂说。

他说，说到底，这两个漏洞的成本加起来会使软件变慢 2%到 8%。

但是这就涉及到了我们的浪费文化。

## 为地球付出了什么代价？

至少在英国，科技摊销税法是五年，但我们中有多少人每两年就买一台新电脑？我们的智能手机升级周期短得没有必要——有些只有 11 个月——在这一点上，电池、速度或相机质量没有增加价值。它做我们想让它做的事情，我们真的不需要一个新的，直到它坏了。

贝蒂说，智能手机使用元素周期表上 82 种稳定元素中的 60 多种。钕就是其中之一——一种稀土金属，中国控制了 80%的份额，它被用来制造一种磁铁，让我们的手机振动，让耳塞工作。电动汽车的日益普及只会增加对这种非常有限的自然资源的需求(以及控制它的能力)。)然而，正如贝蒂指出的，只有 3%到 5%的钕矿石被用于这些过程，“其余的都有放射性和有害的副产品。”我们得到这些磁铁，然后放射性污泥被掩埋。

我们谈论了很多关于谁在线，关于智能手机用户，但我们没有谈论数十亿的旧手机。

贝蒂主张，我们应该推动主要的智能手机供应商制造可以使用十年的手机，他说，这反过来将导致更昂贵的手机上的伟大软件，更好地为人类服务。

“想象一下，作为软件开发人员，如果我们有时间变得真正优秀？在两年、三年或五年的时间里使用同一硬件平台？如果在这些工厂工作的人获得了生活工资和福利，会怎么样？”

## 对社会有什么代价？

[我们已经谈论过大众汽车开发商](https://thenewstack.io/are-programmers-ethically-and-legally-responsible-for-their-code/)，他因“盲目追随”领导层编写代码，隐瞒明显未能达到美国环境排放标准而入狱三年。贝蒂向我们介绍了今年四月[五名大众高管被指控欺诈的最新情况。在这篇文章的专题图片中分享代码时，他问 BeyondTech 的观众:](https://www.theguardian.com/business/2019/apr/15/former-head-of-volkswagen-could-face-10-years-in-prison)

“难道不会有人注意到并说出来吗？代码量小。很明显，没有人会注意到这一点。”

> “要谦虚。要善良。要负责任。如果代码要改变世界，我们必须管理代码的成本，我们需要其他人来帮助我们。”—迪伦·贝蒂，技能很重要

花了六年时间才被发现。不允许人们畅所欲言和缺乏个人责任感的公司文化现在已经被量化为 [45，000 个残疾调整生命年和 59 个死亡](https://voxeu.org/article/firms-and-collective-reputation)。

现在波音 737 Max 8 喷气式飞机只在空中飞行了三年，[导致 346 人死亡](https://qz.com/1578227/everything-we-know-about-the-boeing-737-max-8-crashes/)。

“媒体称之为软件问题”，但贝蒂称之为商业问题。“波音公司想要一架发动机更大的新 737，用于更长时间的飞行，但他们不想重新培训飞行员……(新发动机)太大了，它们不适合放在机翼下，所以他们会将它们向前向上移动。所以飞机会减速爬升，向上飞。”

![](img/cd11ed5e1034772d870edb4faf6c590f.png)

软件就是为了解决这个问题而产生的——它确实解决了这个问题。贝蒂说，是错误的输入和未经训练的员工导致了两架飞机坠毁。

“这是错误的输入……认为飞机正在爬升，将机头拉下。机组人员没有意识到，也不知道该怎么办。该软件做了它应该做的事情，”但贝蒂说这是一个通讯问题。

“我们必须将软件视为整体的一部分。”

他继续说，我们刚刚开始理解 50 万人是如何登上月球的。被称为第一个软件工程师的玛格丽特·哈米尔顿就是其中一个提供帮助的人。她不仅是开发阿波罗飞行软件的麻省理工学院部门的主管，也是系统设计和建模的创始人。

贝蒂说，我们必须遵循系统观点，即“软件不是分离的东西。除非你将软件视为整个互联系统的一部分，否则你无法对其进行推理。”

他在演讲结束时说，我们有责任思考我们的软件对人们生活的影响，我们有责任帮助他们理解这种影响。我们还需要了解我们的软件影响其他软件的连锁反应，以及它如何融入我们的生活。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>