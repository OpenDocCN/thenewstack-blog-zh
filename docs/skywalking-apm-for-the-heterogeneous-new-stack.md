# SkyWalking:面向异构新堆栈的 APM

> 原文：<https://thenewstack.io/skywalking-apm-for-the-heterogeneous-new-stack/>

作为阿帕奇软件基金会最新的[顶级项目](https://blogs.apache.org/foundation/entry/the-apache-software-foundation-announces50)之一，SkyWalking 已经从一个纯粹的跟踪系统扩展为一个可观察性分析平台和应用性能管理/监控系统。

四年前，[吴声](https://github.com/wu-sheng)和他的同事试图和其他七家供应商一起为中国联通建立大型分布式系统。

“我们在那里有过糟糕的经历。有时无法确定哪个供应商的系统导致了故障。所以我决定建造[天行](https://github.com/apache/skywalking)作为训练项目。我们使用分布式跟踪来指导新来的人和同事理解当你建立一个分布式系统时出现的问题。

他说，系统管理员面临的最棘手的问题发生在大量相互依赖的服务中:确定请求缓慢的原因和位置，区分正常和异常的系统性能，比较应用程序之间的对等指标，而不管编程语言如何，以及获得完整而有意义的性能视图。

Apache SkyWalking 是一个应用程序性能监视器(APM)工具，它提供了一种自动、高效的方法来检测微服务、云原生和基于容器的应用程序。

该项目于 2017 年 12 月进入 Apache 孵化器。它已经从 6 到 8 名志愿者发展到 100 多名源贡献者。包括阿里巴巴、autohome.com、中国东方航空公司、中国招商银行、华为、国金证券和微众银行在内的 70 多家公司都在使用该软件。

据吴介绍，天行健是一种不同类型的绩效管理系统。

“它为收集、聚合和特定领域的查询系统提供了一个整体平台。它也是真正的异构，它不仅有不同系统的代理，它还无缝地融合了服务网格，”他说。

他指出了这些特征:

*   一种基于多语言代理的工具机制。只关注分布式跟踪的工具通常不提供代理。提供多种语言代理，特别是支持自动检测的 Java 语言。NET 和 Nodejs。
*   性能:它对受监控应用程序的 CPU 影响不到 10%，即使负载实例的每秒事务数/每秒请求数刚刚超过 5k。这个轻量级有效负载将支持生产环境中的 100%跟踪采样。
*   基于传统、基于代理和服务网格架构的分布式系统的可观测性，具有一致的分析和可视化。
*   无抽样的拓扑和相关性分析。
*   我们的集群直接实现了简单的操作和维护，无需依赖大数据技术

“SkyWalking 是唯一一个关注可用性和用户界面的开源跟踪系统，这是大多数开源项目所缺少的东西，”Kentik 首席技术官兼 Gartner 前研究副总裁 Jonah Kowall 说。“让开发人员和运营团队更容易地使用跟踪和 APM 是一个关键目标，这使得 Apache Skywalking 成为一个值得关注的项目。”

吴说，SkyWalking 接受来自追踪和度量来源的数据，并与 Istio 和 Envoy 等服务网状平台集成。用户不仅可以收集数据和获得问题警报，还可以获得整个分布式系统的完整而有意义的地图，以及可操作的见解。

“在现代、云原生和基于容器的部署环境中，可观察性是第一位的，因为全面了解性能至关重要。我们的可视化工具，如拓扑图、跟踪树和可定制的仪表板，帮助最终用户真正了解分布式系统并保持高性能，”他说。

它以减少用户调试和解决时间的方式为传统和现代服务提供跟踪和度量。日志收集和分析是 2019 年路线图的一部分。

他说，许多 APM 产品使用基于配置的工具，这可能会带来一些繁重的挑战，如库依赖冲突或劳动密集型 API 升级。

SkyWalking 的 java 代理使用 java 运行时代码操作机制，并提供一组 API 来定义几十个受支持框架的插装插件。

SkyWalking 与 service mesh 一起工作，该项目在 SkyWalking 最新的 6.0.0 版本中贡献了一些功能，以支持 Istio 的混音器。在不久的将来，它将直接从 Envoy 支持服务网格的可观察性。吴和 Tetrate 创始工程师周将在 6 月的 kube con China(T5)上谈论这个问题。

吴说，该项目的路线图主要集中在四个方面:

*   除了当前的 Java 之外，还提供多种语言代理/SDK。NET、NodeJS 和 PHP
*   深化与 service mesh、Istio、Envoy 和 Kubernetes 生态系统的集成
*   支持日志收集、持久性以及与指标和跟踪的连接
*   不断发展，为用户提供针对传统和现代工作负载的全面可观察性堆栈。

“我经常听到用户说，可观察性是他们从服务网络中获得的最重要的功能，”Istio 的核心撰稿人扎克·布彻(Zack Butcher)说。“通过将 Apache SkyWalking 与 Istio 集成，SkyWalking 团队为深入理解系统行为带来了令人难以置信的工具。我们已经看到了很好的结果，我迫不及待地想看到用户使用 Apache SkyWalking 和 Istio 来观察和管理他们的部署，从而获得更多的见解。”

专题图片:[漫画家超胆侠·贝洛·诺克——2013 皇家墨尔本秀](https://www.flickr.com/photos/72562013@N06/10052947465/in/photolist-25wpgHx-gjkZ3r-gga6G9)[克里斯·普塔利](https://www.flickr.com/photos/72562013@N06/)。根据 [CC BY-SA 2.0](https://creativecommons.org/licenses/by/2.0/) 授权。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>