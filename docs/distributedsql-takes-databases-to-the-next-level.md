# 分布式 SQL 将数据库带到了一个新的高度

> 原文：<https://thenewstack.io/distributedsql-takes-databases-to-the-next-level/>

[](https://www.linkedin.com/in/robhedgpeth/)

 [罗布·赫德佩斯

罗布·赫德佩斯是 MariaDB 公司的开发者关系总监。自 2000 年初以来，他一直在编写代码。像许多其他人一样，他通过构建看起来非常可怕的网站开始了他的旅程。幸运的是，对于这个世界来说，他已经发展到了跨越 web、桌面、移动和物联网的各种项目。多年来，他使用大量语言和技术，为许多应用程序的架构和开发做出了贡献。现在，作为 MariaDB Corporation 的开发人员宣传员，Rob 将他对技术的热爱与激发开发人员好奇心和激情的使命结合起来。](https://www.linkedin.com/in/robhedgpeth/) [](https://www.linkedin.com/in/robhedgpeth/)

三十年来，数据库的发展已经成为全球各行业和各种规模企业技术创新的重要组成部分。从 20 世纪 90 年代末到 21 世纪初，数据库遇到了性能瓶颈。很难。互联网的成功，加上应用程序开发的爆炸式增长，带来了海量数据和前所未有的数据膨胀速度。当时接收这些数据导致了主要的数据库瓶颈。延迟增加和吞吐量降低是困扰企业生产力的常见问题，最终导致收入增长放缓。这些问题从未真正消失。

这个巨大的数据库难题的核心是弹性问题——能够根据需要增加或减少数据库容量——同时保持高性能和理想情况下的低成本。Ops 团队和数据库工程师试图通过发展多种方法来应对扩展挑战，其中许多方法仍然存在于整个企业中。只有从这些方法的缺点中吸取教训，我们才能找到一个不需要权衡的解决方案:分布式 SQL。

## 早期的方法:昂贵、脆弱、有限

实现某种可伸缩性的最初努力并不复杂。在压力下，团队决定投入更多的资源——包括硬件和开发人员——来解决这个问题。很快，人们就发现这是一条昂贵且僵化的道路。虽然容量可以随着时间的推移而增加，而且通常是通过费力的获取过程来增加，但这种方法不允许根据工作负载要求进行动态扩展和缩减。解决方案通常是专有的，并且对云不友好。

最终，数据库管理员、系统架构师和应用程序开发人员挤进众所周知的白板房间，使用代码来解决数据库之外的问题。分片或分区的概念最终进入了不同的数据库系统，在这种概念中，单个逻辑数据集可以被分割并存储在多个数据库中，以增加总存储容量并处理额外的请求。但事实证明，分片是一种复杂而脆弱的方法，难以维护，征收很高的工程成本，允许有限的交易，并带有查询限制。对真正弹性的探索仍在继续。

然后，大约十年前，出现了一场值得关注的运动:NoSQL 热潮，沮丧的创新者提供了关系数据库的替代方案。从技术上来说，这种非表格化的方法从 20 世纪 60 年代末就已经存在了，但是并没有以任何广泛的方式针对业务用例。21 世纪早期的 NoSQL 方法允许数据库行业后退一步，完全重新思考和改进数据的存储和访问，以解决可伸缩性问题。

虽然这种方法确实消除了一些数据库和数据摄取问题，但也有代价。NoSQL 意味着放弃许多使关系数据库如此有用的关键东西——比如维护和跟踪数据完整性以及能够利用 ACID 事务。NoSQL 方法所需的原始查询、复杂的数据建模、较差的数据完整性、有限的或不存在的 ACID 事务支持以及专用工具，使 NoSQL 成为大多数企业和中小型企业的禁区。

## 关系革命:分布式 SQL

虽然 NoSQL 在[数据库选项](https://thenewstack.io/category/data/)方面标志着真正的创新，但分布式 SQL 是实现的革命——提供了 SQL 和 NoSQL 的最佳性能，关系和非关系数据库的优势，特别是对于高性能扩展。分布式 SQL 是由多个数据库实例或节点组成的单个逻辑数据库。

这个想法是，利用这个节点集群，开发人员可以简单地按需添加或删除节点，以适应存储和访问需求的变化。顾名思义，数据本身是分布式的，被分割成分区片并跨多个节点复制。分布式 SQL 实现了无共享体系结构，其中群集中的单个节点满足每个更新请求，消除了节点之间的争用，因为它们独立地访问相同的内存或存储。

分布式 SQL 是一个双赢的关系数据库。这项技术的创新是基于过去三十年来的经验教训，以提供真正的动态弹性。动态弹性的现代优势包括能够简单、快速、按需地添加或删除节点。这种方法是自我管理的，能够自动重新平衡节点或重新平衡这些节点中的数据，同时保持极高的连续可用性(即自动故障转移)。当然，这种方法包含了使关系数据库如此强大的所有特性，比如使用标准 SQL(包括连接)和维护 ACID 合规性的能力。

像 [MariaDB 的 Xpand](https://mariadb.com/products/enterprise/xpand/) 这样的分布式 SQL 选项是为所有节点一起工作而设计的，以形成所有应用程序都可以指向的单个逻辑和分布式数据库，而不管预期的用例是什么。无论企业是需要三节点集群来处理适度的工作负载，还是需要数百甚至数千个节点来实现无限的可扩展性，分布式 SQL 都意味着部署可以按需增长或缩减。一个系统可以拥有数千个内核、数兆字节的内存，甚至数千兆字节的存储，在一个逻辑数据库上运行。该数据库每秒能够处理数百万或数千万次查询，而不会牺牲数据完整性或持续的高可用性。

如今，许多东西被认为是革命性的或改变游戏规则的，但分布式 SQL 实际上配得上这些绰号。它已经在帮助企业以经济高效的方式利用商用硬件、内部和云中的真正弹性。通过利用弹性来利用海量数据产生的可能性是商业的未来。这只能通过采用数据库的未来——分布式 SQL 来实现。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>