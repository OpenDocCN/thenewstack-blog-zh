# JavaScript 标准转向年度发布计划；这是 ES16 的新特性

> 原文：<https://thenewstack.io/whats-new-es2016/>

ECMAScript 6 ，正式名称为 ES2015，是[有史以来规模最大、持续时间最长的 JavaScript 更新](https://thenewstack.io/ecmascript-6-biggest-update-javascript-yet-start-rolling-annual-improvements/)。官方名称包括年份而不是版本号，因为后续更新将是每年一次，第一次更新将于今年 6 月进行。

这些年度更新的第一次， [ES2016](https://tc39.github.io/ecma262/2016/) 或简称 ES16，可能是对 [JavaScript](/tag/javascript/) 最小的官方更新之一；它只有两个新特性。尽管 ES16 非常小，但它完美地展示了向基于互操作性和易用性的语言发展新方式的转变。

“它非常小，”Mozilla 在负责 JavaScript 标准化的 TC39 委员会的代表大卫·赫尔曼说。“它添加了取幂操作符作为对**math . pow**[用于对一个数字进行指数幂运算]的语法启示，它还添加了**array . prototype . includes**(我们希望在 ES15 中包含这一功能，但由于 web 兼容性问题而无法实现)。”

**array . prototype . includes**方法——检查一个值是否包含在数组中——最初被命名为 array . prototype . contains；因为这个名字已经被 MooTools 库使用，所以重新使用它可能会破坏一些网站。关于这是否是最好的决定，还有一些讨论，但这无疑反映了 ECMAScript 委员会对不破坏已经在网络上的代码的重视。

“TC39 和 JavaScript 引擎实现者竭尽全力确保新的语言特性不会引入不兼容性，”ECMAScript 标准的编辑、微软 Edge 团队的高级项目经理 Brian Terlson 解释道。

ES16 中预期会有异步功能，但 Terlson(他被 T39 称为异步的“功能冠军”)解释说，延迟是因为新的 ECMAScript 功能已经实现的新要求。

“它们已经在 transpilers 中实现了一段时间；Babel 和 TypeScript 都支持它们，但今天 Edge 是唯一的浏览器实现。直到几个月前，它还缺少一个重要的部分，委员会的感觉是，如果没有它，我们真的不知道它是否能在网络上工作。”当 Firefox 增加异步支持时，这个问题应该会得到解决，Herman 预测“异步功能将有望进入 ES17 规范。”

## 小巧且随时可用

Terlson 说，ES2016“超级小”的事实对于新工艺来说不是问题。“它非常小，但这就是实际的工作过程。ES2015 之后，我们必须让管道中充满新的提案，这些提案必须经过流程，而今年我们只能及时完成其中两件。”

事实上，他认为，工艺也许是新规格中最重要的东西。“虽然就新功能而言，规格并不是很大，但在其他领域已经做了大量的工作。我们有大约 100 个 web 补丁，甚至更多，可能还有数千个单独的编辑补丁和调整。这一切都是因为我们过渡到了 GitHub。”

以前，虽然你可以在 PDF 和 HTML 格式中看到它，但 ECMAScript 标准一直在同一个 Word 文档中“精心维护”，从最初的版本 1 到 ES2015。“这种开发方法没有伸缩性，”Terlson 说(这听起来有点轻描淡写)。

“社区很难参与，实施者也很难跟踪正在发生的事情。我们脱离了 Word，使用一种定制的 HTML 方言 Ecmarkup，将所有东西都转移到 GitHub 上，”泰尔森说。

这意味着建议书和规范本身采用相同的格式；人们可以发送 bug 修复和编辑请求的请求。“如果你跟踪大部分工作发生的地方，它是建立工具和获得新的工具过程，这将继续支付巨大的红利，”特尔森相信。

ES2016 要求功能在成为标准之前必须有多个可互操作的实现，这将进一步节省时间。

“ES6 没有实施要求，”Terlson 解释说，“因此，在它被批准后，当我们开始实施某些功能(如代理)时，实施人员遇到了一些问题，但这些问题并没有反映在规范中，因此我们必须在事后进行更改。这确实反映了在批准标准之前确保一个特性能够按照指定的方式实现的重要性。”

对于一个特性应该要求的实现经验的水平有一些争论，并且过程没有指定；“这是在个案的基础上完成的，”特尔森说。“对于某些功能，我们可以相当肯定，如果我们有一个 transpiler 实现和一个浏览器，并在一个实验性的标志下实现它们，它们将会工作，这可能是好的。”

他表示，观点各不相同，但要求更多的实施将涉及权衡。“我们可以要求在两种浏览器中实现，但这可能意味着当你发现一个问题时为时已晚，因为它已经发布了，而且标准的进展会更慢，因为它会受到实现者的限制，”特尔森说。

新流程增加的是测试。“当 ES2015 被批准时，没有测试，所以需要花费巨大的努力来回填它们，以便实施可以在开始构建功能时测试它们是否符合规范。”对于 ES2016，有一个官方测试套件，在功能成为标准的一部分之前，需要进行测试。“我们再也不会遇到这样的情况:实现者可以阅读规范，但不知道其中的含义，”Terlson 声称。

## 乘下一班火车

Terlson 建议，随着新流程的出现，应该以不同的方式看待 ECMAScript。“开发人员不应该过多地关注标准的版本；这真的是一个功能一个功能的基础上，”他说。“在 GitHub 回购上，我们有一个提案表，这些提案有不同的成熟程度。如果某事处于第三阶段，这是一个很好的迹象，表明它将成为一件事，这是需要注意的事情。如果 transpiler 支持它，也许可以打开它，一个功能一个功能地尝试并给出反馈。”

赫尔曼建议把每年的时间表想象成火车时刻表；任何可以使用的特性(这意味着当发布的范围最终确定时，大约在每年的一月份，它们已经到了第四阶段)都可以搭乘下一列火车。

“列车时刻表”对开发人员的主要好处是，特性可以更独立地完成并更快地交付。新流程还提供了关于单个功能相对稳定性的更清晰的信号，允许开发人员通过 transpilers 在他们的应用程序中试驾实验功能。这不仅意味着开发人员可以更快地利用令人兴奋的语言特性，而且还为改进实验设计提供了一个反馈渠道，并扩大了开发人员在标准化过程中的发言权。"

Jonathan Turner 指出，还有其他的优势，他现在在 Mozilla 工作，是微软 [TypeScript](https://www.typescriptlang.org/) transpiler 的前项目经理。“如果每次更新都是 ECMAScript 6 更新的大小，那将是一项巨大的任务。”

他认为，这符合 JavaScript 开发社区愿意尝试过多新工具和框架并挑选出交付的方式。

“几乎每天都有新的技术想法；几乎每个月都会推出一个新的框架。你不能拿起每一个并运行它，但是社区作为一个整体习惯于尝试一些东西。特纳说，开发人员有试验技术的附带项目，他们会说‘哦，那确实让事情变得更好了’或‘哦，不，那有一些粗糙的边缘。随着人们在开始使用技术之前相互倾听并尝试小规模的技术演示，社区中的事物自然会增长。"

特征图像: [Unsplash](https://unsplash.com/photos/l5Tzv1alcps) 。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>