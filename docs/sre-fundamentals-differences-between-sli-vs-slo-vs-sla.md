# SRE 基础:SLI 与 SLO 与 SLA 之间的差异

> 原文：<https://thenewstack.io/sre-fundamentals-differences-between-sli-vs-slo-vs-sla/>

当您将业务关键型应用程序或基础设施迁移到云中时，[站点可靠性工程](https://sre.google/) (SRE)成为一项极其重要的企业职能。但是什么是 SRE，以及随之而来的首字母缩略词——SLI、SLO 和 SLA——代表什么？

当您将软件工程技能和实践应用于操作、扩展和维护从边缘到基础设施的系统时，您会得到 SRE。目标:可靠性，或者保持系统运行并对用户可用。其他缩写都是量化您对系统正常运行时间的承诺以及衡量您的 SRE 团队在满足这些承诺方面有多成功的方法。

*   **SLI(服务级别指标):**衡量系统健康状况的实际数字。
*   **SLO(服务水平目标):**您组织的内部目标是保持系统可用并达到标准。
*   **SLA(服务水平协议):**您对客户的承诺(通常是合法的)，涉及系统可用性、出现问题时的响应时间以及不履行这些承诺的后果。(您的 SLA 承诺的可靠性最多等于，但经常低于您的内部 SLO 目标。)

这里有一个例子。您对系统可用性的内部目标是雄心勃勃的:“四个九”，即 99.99%。那是你的 SLO。

然而，您希望给自己与用户(所有依赖于您的系统的人，如员工、客户甚至合作伙伴)的一点回旋余地，因此您承诺只提供“三个九”的可用性。这意味着您致力于让系统在 99.9%的时间里保持运行。那是你的 SLA。

最后，当您跟踪实际的正常运行时间和响应率时，您会发现您实现了 99.96%的可用性。这是你的 SLI，这意味着你满足你的 SLA，但不是你的 SLO。结果是:用户很高兴，但是你的 SRE 团队还有改进的空间。

现在，我们将仔细研究 SLIs、SLO 和 SLA，并为每种服务推荐一些最佳实践。

## 对 SLIs 的深入研究

sli 是服务可靠性的可量化度量，例如吞吐量、延迟和正确性，它们是可直接测量和观察的，用于确定是否满足 SLO 和 SLA。简而言之，sli 是衡量你是否满足了你在 SLO 和 SLA 中确定的重要项目的方法。

SLI 最佳实践包括:

*   **就用于生成 sli 的流程和方法达成一致。这就消除了对这些数字及其测量方法的任何可能的误解。**
*   **保持简单。**您可以选择以 sli 的形式监控大量项目。避免过度测量，将成本、努力和混乱降至最低。
*   了解你的用户对你的服务有什么期望。使用它来确定收集哪些指标来交付他们想要的东西。

## 对 SLA 的深入探究

SLA 是您对系统用户做出的承诺，保证可用性和性能达到指定且可衡量的水平。通常，如果您没有满足 SLA，就会受到处罚。这些协议可以具有法律约束力，它们可以与内部用户(如业务部门或员工)或外部方(如客户或合作伙伴)签订。

简而言之，你可以把 SLA 看成 SLO，但是有后果。例如，您可能为客户提供一个四个九(99.99%)的系统 SLA，该 SLA 允许每年停机 52 分 32 秒，如果您无法满足正常运行时间，则按商定的比例减少他们的付款。

SLA 非常重要，因为它们清楚地设定了您和您的用户之间的期望——这些期望是可以量化、衡量和执行的，如果达不到，就会产生后果。

## SLA 最佳实践

*   指定推动各方做正确事情的指标。激励你的团队和用户采取适当的行动是至关重要的。然后，每个人都会尽自己的一份力量来确保满足 SLA。
*   **确保你测量的项目在你的控制范围内。**用户的行为方式可能会导致无法满足您的服务级别协议。通过选择真正反映您如何管理系统的测量方法来防止这种情况发生。
*   **选择容易获得的指标。**在完美的世界中，SLA 指标可以通过很少的努力或开销自动获取。
*   **少即是多。**在 SLA 中引用太多指标会迫使您收集太多数据，增加成本和工作量。
*   **讲道理。SLA 必须是可达到的，否则它们将是无用的。根据经验不断重新审视和修订 SLA。**
*   记录一切。彻底记录您和您的用户之间达成的所有协议，包括使用了哪些 sli 以及检查的频率。

## 对 SLOs 的深入探究

SLO 是保持服务可用并根据用户需要执行的内部目标。SLO 的目的是衡量客户体验，(如果适用)保护公司免受 SLA 违反，并在产品、工程和业务领导层之间建立对可靠性的共识。

SLO 由错误预算或系统允许的故障率来补充。例如，如果你的 SLO 是 99%，你有 1%的误差预算。

SLO 和错误预算非常重要，因为它们允许工程团队在不影响运营的情况下进行创新和承担风险。好的 SLO 为开发人员提供足够的空间来尝试新事物或改进现有系统，这可能会导致停机，但不会让用户不高兴。

换句话说，SLO 提供了一种暴露产品或服务的用户体验和可靠性风险的方法。虽然设置 SLO 不会神奇地让你的系统更可靠，但它们会帮助你的操作人员、开发人员和产品经理衡量何时何地投入精力。可靠性通常以百分比来衡量，使用指定的数字 9。例如，SLO 可以承诺:

*   九分之一— 90%
*   两个 9—99%
*   三个九——99.9%
*   四个九——99.99%

每个“九”都需要你的软件工程团队投入更多的资金和精力。所以尽管你愿意提供四个九(或者更多！)的可靠性，你需要现实一点。但是 SLO 也可以用其他方式来表达:例如，你的 SRE 团队响应一个问题所花费的时间，或者是[应用性能指数(Apdex)](https://www.apdex.org/) ，这是一个基于许多系统性能指标来评估客户满意度的标准。

## SLO 最佳实践

*   **保持 SLOs 简单写实**。避免无法实现的目标。同样，不要让他们太容易。建立真正让你的客户满意的 SLO。
*   **开始小**。SLO 看起来是一个令人生畏的计划，并且很难配备员工。尝试在您的系统中为一个关键的用户旅程设置一个 SLO。回顾过去一个月或一个季度的历史数据——您的服务会达到那个 SLO 吗？或者，您可以设置一个合成监视器来定期检查体验，并在一两个月的试验后看看您有什么发现。
*   **让 SREs 和业务用户进行协作**。确保必须交付 SLO 的工程师和需要系统来完成工作的人都同意这些 SLO 应该是什么。业务用户包括产品经理、工程经理、软件工程师和 sre。
*   **要灵活。SLO 不是一成不变的，所以拥抱迭代的实践。随着您的系统架构、产品体验和其他因素的改变，您的 SLO 也应该改变。**

## Chronosphere 如何与 SLIs、SLO 和 SLA 一起工作

SLIs、SLO 和 SLA 是衡量基于软件的企业的客户体验的关键。它们代表围绕服务的基本度量的内部目标。这些指标有助于定义和监控系统对内部和/或外部用户的服务水平和可靠性。

在 [Chronosphere，](https://chronosphere.io/?utm_content=inline-mention)我们的目标是[为我们的客户保持高度可靠的服务](https://chronosphere.io/learn/how-chronosphere-generates-and-monitors-slos/)。为了帮助我们跟踪和实现这些目标，我们针对所有数据类型(指标和跟踪)的核心产品功能，围绕三个类别(可用性、性能和正确性)发布了内部 SLO。)这确保我们为用户解答重要问题，包括:

*   服务可以被使用和信任吗？(关于可用性)
*   服务够快吗？(为了性能)
*   服务是否返回准确的结果？(为了正确)

我们目前专注于围绕核心功能(例如，指标摄取、聚合和查询)定义 SLO，因为它们会直接影响我们的客户。通过关注最高优先级的用例，我们正在为 SLO、SLA 和 sli 文化奠定基础。

随着组织向云迁移并采用基于微服务的架构，SLO 为 SRE 团队提供了一种方法来设置具体、可衡量的可用性目标并跟踪这些目标(sli ),以确保用户在当今高度复杂的云原生环境中获得一致认可的服务级别(SLA)。

如需演示，[请联系我们](https://chronosphere.io/#request-a-demo-modal%20)。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>