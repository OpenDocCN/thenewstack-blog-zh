# AIOps 做得好:DevOps 和 SREs 的交付自动化

> 原文：<https://thenewstack.io/aiops-done-right-delivery-automation-for-devops-and-sres/>

[](https://www.dynatrace.com/)

 [安德里亚斯·格拉布纳

安德里亚斯是 Dynatrace 的 DevOps 活动家。他拥有 20 多年的软件开发、测试和架构师经验，是高性能云操作的倡导者。作为 DevOps 计划的倡导者，Andreas 致力于帮助开发人员、测试人员和运营团队利用 Dynatrace 的软件智能平台提高工作效率。](https://www.dynatrace.com/) [](https://www.dynatrace.com/)

如果组织采用正确的方法，AIOps 有潜力通过支持开发运维团队和站点可靠性工程(SRE)团队更快地创建更好、更安全的软件来推动显著的商业价值。但是许多人只是没有正确地利用 AIOps，没有最大限度地发挥其潜力。在我之前的文章[中，我强调了长期依赖“第 1 代”AIOps 解决方案——多年前可能适用于 IT 环境的旧工具——是如何造成这种情况的。这些工具与当今更加动态的多云环境不同步，在这种环境中，变化发生得太快，生产部署发生得太频繁，旧的机器学习算法无法跟上。](https://thenewstack.io/aiops-done-right-make-sre-more-proactive-by-shifting-left/)

在那篇文章中，我分享了一个例子，说明组织如何通过将 AIOps“左移”来创建更多测试驱动的操作，从而开始以正确的方式执行 AIOps。现在我想深入研究另一个用例，它强调了 AIOps 的价值:扩展和改进交付自动化。

许多组织已经开始通过 Azure DevOps、GitLab Pipelines、GitHub Actions、Argo、Tekton 和 Jenkins 等工具自动化他们的交付管道。AIOps 可以进一步加速这一过程，使 DevOps 和 SRE 团队能够将更高质量的代码投入生产，并增加其交付管道的吞吐量..

将 AIOps 解决方案集成到交付自动化中有两种基本方法:将关于部署和配置更改的数据推送到 AIOps 解决方案中，或者拉出 AIOps 支持的答案，以促进围绕软件交付的更多数据驱动的决策。

## **1。将部署数据推送到您的 AIOps 解决方案**

将事件附加或链接到被监视的实体(服务、流程、容器或主机)使 AIOps 解决方案更容易分析和关联行为。为了获得更精确的见解，AIOps 应该超越简单的相关性，为该数据提供根本原因确定。

AIOps 可以通过将事件链接到被监控的实体来提供这种上下文。例子包括:

*   在测试环境中部署新的应用程序迭代。
*   在临时环境中对应用程序进行负载测试。
*   生产环境中的负载平衡流量。
*   在生产环境中切换功能标志或重新启动服务实例。

通过将事件(如部署、负载测试、负载平衡、配置更改或服务重启)链接到受监控实体(如特定应用程序、容器或流程)所提供的上下文，使 AIOps 解决方案能够将所执行动作的行为更改之间的点连接起来。

将这些信息和上下文推送到 AIOps 解决方案还允许 it 部门在行为变化对最终用户或服务水平协议(SLA)产生负面影响的情况下，立即提醒开发运维团队和 SRE 团队。来自 AIOps 解决方案的警报不仅通知团队负面影响，还识别问题的根本原因。

例如，想象一下将关于自动化负载测试的信息从您的交付管道推送到 AIOps 解决方案。在这种情况下，AIOps 解决方案可以感知负载测试的执行时间，在负载测试期间进行性能热点分析，并直接提醒测试工程师潜在的用户体验或 SLA 影响。AIOps 解决方案甚至可以在测试运行之间创建自动回归分析，从而更容易比较性能。

将事件信息直接推送到 AIOps 解决方案，可以提供关于交付自动化管道的更多上下文信息，以及关于如何提高交付质量和可伸缩性的精确和自动化答案。

## **提取 AIOps 答案以创建数据驱动的交付决策**

将部署信息和上下文推送到 AIOps 解决方案可以让 it 更好地了解交付活动。这反过来又提供了一个新的数据源，DevOps 团队可以从 AIOps 解决方案中提取数据，从而做出更明智的决策。

这可以通过几种方式实现:

*   AIOps 解决方案既可以在自己的仪表板中生成数据，又可以提供一个 API 来显示各个版本或测试的性能数据。
*   AIOps 解决方案还可以为团队提供一种选择，在多个测试或部署之间比较单独的测试运行结果或基线结果，以查明测试期间或测试之间的潜在回归。

[Keptn](https://keptn.sh/) ，一个开源云本地计算基础项目，我之前在这里写的，提供了一个清晰的用例，说明 DevOps 和 SRE 团队如何集成他们的 AIOps 解决方案，以比较和分析测试运行或部署的结果。Keptn 使用服务水平目标(SLO)和用于工具集成的开放标准通信协议来分析从各种解决方案获取的数据，从而创建总体“SLO 质量分数”团队可以使用 Keptn 来自动化这一过程，将 AIOps 数据分析提取到一个单一的 SLO 分数中，然后帮助支持交付决策，而不必手动审查 AIOps 仪表板和测试报告。

这种方法有两个目的，一个是加速软件交付管道，另一个是确保交付过程中的问题在对软件发布产生负面影响之前得到快速补救，最终用户也会受到影响。

Keptn 只是一个实现的例子，DevOps 和 SRE 团队可以用它来获得 AIOps 数据的优势。通过应用这些方法，DevOps 和 SREs 可以将 AIOps 数据纳入他们的交付自动化流程——不仅仅是单个指标，还包括自动根本原因分析。AIOps 和交付自动化之间的这种集成意味着团队可以更快地做出部署决策，快速地将反馈整合到开发中，并将更好的代码部署到生产中。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>