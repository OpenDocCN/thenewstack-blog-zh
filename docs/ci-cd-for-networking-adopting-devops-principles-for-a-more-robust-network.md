# 网络的 CI/CD:采用 DevOps 原则构建更强大的网络

> 原文：<https://thenewstack.io/ci-cd-for-networking-adopting-devops-principles-for-a-more-robust-network/>

[](https://www.snaproute.com/)

 [格伦·沙利文

格伦·沙利文在 2015 年联合创立了 SnapRoute，在那里他通过为最终用户宣传来负责产品方向。在创建 SnapRoute 之前，Sullivan 负责在苹果公司构建超大规模数据中心环境。除了核心网络运营功能，Sullivan 还领导了多供应商环境中各种平台生命周期管理的自动化工作。在加入苹果公司之前，Sullivan 是 Cisco TAC 局域网交换团队的专业支持工程师。在那里，他的专长是通过关注升级的问题和将客户体验转化为积极体验来扭转客户情绪。Sullivan 拥有 RIT(罗切斯特理工学院)的网络和系统管理学士学位。](https://www.snaproute.com/) [](https://www.snaproute.com/)

自 2017 年初以来，术语 CI/CD 一直在稳步流行，以描述软件开发的哲学，这种哲学规定使用测试驱动的基础设施，通过不断集成增强功能来不断改进代码库-基于用户和系统的反馈。这种持续集成和持续部署(或者，如果您喜欢，交付)的过程已经成为软件开发的事实上的标准，并且也被越来越多的组织采纳为实现“基础设施即代码”的一种方式，即使用软件开发原则来管理他们的系统和计算环境。

以开发运维为目的的组织对 CI/CD 的采用带来了更加灵活、安全和敏捷的基础架构，并不断部署和改进新的特性和功能。有了这些体系结构，环境的计算和存储部分已经从 CI/CD 要求的快速部署和不断改进中受益。仍未解决的缺失部分是网络。构建于传统的整体式体系结构之上—目前存在的网络操作系统(NOS)无法利用 CI/CD 理念。我们需要的是一种新的 NOS 架构，该架构基于微服务和容器化的核心云原生原则，以支持 CI/CD 方法进行联网。

## 向 DevOps 学习

在计算方面，运营商早就理解了按需适应性和演进的重要性。随着 Jenkins、Travis CI 等工具和 Codefresh 等服务的兴起，CI/CD 已经成为一个流行的术语。这些工具和服务由一个共同的目标驱动——为开发人员提供一种快速部署安全且经过充分测试的应用改进的方法。对于局外人(即网络运营商)来说，可能并不清楚这些工具链的驱动力是什么——保持基础设施的最新状态。

应用程序基础架构并不被视为“一劳永逸”的东西。如同任何基础设施(技术的和非技术的)一样，开发一个持续构建和改进它的过程非常重要。以一条交通便利的州际公路为例——如果道路只是简单地铺设而没有维护，它将很快年久失修，出现难以辨认的标记、立交桥故障和危险的坑洞。当需要修复这些积压的问题时，它会变得昂贵、复杂并且有潜在的危险。应用程序基础架构也是如此，如果没有一个适当的流程来持续、安全地部署改进，这些环境很快就会变成部署的软件版本、工具和安全补丁的大杂烩。这导致脆弱的基础架构需要复杂的维护窗口，经常会导致应用程序有意或无意地停机。

## 它需要一个村庄

拥抱一个组织必须进行的必要的文化变革与跨越建立 CI/CD 管道所必需的技术障碍一样重要。需要被击败的最大的对手，是对改变的恐惧以及随之而来的由此产生的惰性。围绕基础设施变化的这种停滞是可以理解的，大多数团队得到的回报是正常运行时间和稳定性——而不是敏捷性。以这种方式激励团队会导致一种“不”的文化——因为任何新的东西都会被视为新的问题(并且可能会影响宝贵的正常运行时间指标)。

这种文化涵盖了团队在管理网络时表现出的各种约束——从单个工程师在推动简单的生产变更时可以理解的犹豫，到整个团队在半年一次的维护窗口或变更冻结期间经历的令人崩溃的瘫痪。克服对变化的恐惧是开发成功的 CI/CD 结构的第一步——不管它应用于基础设施的哪个部分。有了 CI/CD，事情将(而且必须)不断地、定期地发生变化——毫不犹豫地担心生产环境的平静状态会被打破。事情坏了，赶紧弄清楚，解决，然后继续前进。当团队接受 CI/CD 的文化方面时——事后剖析从寻找谁导致了停机转变为一套行动计划，以改进流程并确保停机的根本原因不再发生。然后，这些行动计划将直接集成到 CI/CD 渠道中，确保此案例在所有未来部署中都经过测试和验证。

## 网络的机遇

查看 DevOps 如何应用 CI/CD 的技术和文化方面，为运营商管理网络提供一些实际应用。是的，网络工程师受限于今天可用的类似设备的网络操作系统的能力。在以 DevOps 为中心的云原生网络操作系统中，所有协议和管理功能都构建为具有不可变容器的微服务，网络运营商可以原生利用 CI/CD 的功能。借助由容器化微服务构建的操作系统，运营商可以只部署他们需要的功能，降低复杂性和安全攻击媒介，在生产过程中升级组件而无需担心中断其他服务，并使用 Kubernetes 等云原生工具来原生管理这些网络服务。在具备这些架构优势的 NOS 推出之前，运营商可以采取一些措施来改善网络，并从网络 CI/CD 的一些核心概念中获益:

*   为每个团队建立并记录明确的角色和职责——为每个基础设施拥有明确定义的所有权范围是构建自动化和 CI/CD 管道的关键。
*   识别手动的、重复性的、不需要同行评审就能投入生产的网络更改(例如 VLAN 更改、启动/关闭主机接口等)。)并允许运营团队在白天进行这些更改，而无需正式的更改请求。这些变化将随着您在 CI/CD 之旅中的进展而自动消失。
*   将维护窗口的典型时间从午夜更改为中午。当需要呼叫关键员工来应对某个问题时，不应该发生变化，而应该发生在正常工作时间，此时每个人都处于最佳状态，并被安排在一起以促进协作和快速排除故障。
*   您的网络基础设施并不神圣，也不应该被如此对待——变化和故障是会发生的。我们需要适当的政策和程序，以确保它们按照推动业务需求所需的频率出现。在你一年中最忙的时候前几周重启关键设备，迫使改变发生。停止将设备的正常运行时间作为稳定性的最终衡量标准。
*   保持最新的安全补丁和升级以解决漏洞。如果你的升级周期是一年一次(或更长)，那就缩短到三个月或更短。计算团队不担心升级，因为他们经常升级，并在推广之前测试和验证升级，以建立变革文化。保养就像肌肉——你用得越多，它就越强壮。
*   从小处着手，不断进行配置变更，并以轻松取胜为基础。如果您的合规性要求每季度更改一次本地密码，请每月持续执行这些更改，而不是让它们停滞不前、落后于形势，并累积更多安全技术债务。建立持续滚动变化的节奏对于建立良好的 CI/CD 渠道至关重要。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>