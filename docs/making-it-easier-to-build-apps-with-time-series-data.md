# 使利用时间序列数据构建应用程序变得更加容易

> 原文：<https://thenewstack.io/making-it-easier-to-build-apps-with-time-series-data/>

对于软件开发人员来说，时间序列数据并不是一个新的挑战，但是近年来时间序列数据的指数级增长(没有减缓的迹象)无疑使它变得更加复杂。

如果信息就是力量，那么每一位和每一字节的数据就像一小片数字黄金。许多公司可以访问时间序列数据，但从来没有真正理解如何有效地利用它。这一切都在改变。

简单来说，[时间序列数据](https://thenewstack.io/obtaining-and-storing-time-series-data-with-python/)指的是任何带有时间戳的数据点:天气信息、股票价格，甚至像海潮时间表这样的东西。要构成一个序列，数据点必须来自同一个源，并在一段时间内按顺序跟踪。我们可以很容易地将这些数据可视化为折线图或图形，尽管它也可以以表格或其他形式出现。

几十年来，软件开发人员一直在他们的应用程序中处理时间序列数据。但是有效地处理这种数据需要很多东西，包括建立一个数据库来处理它。例如，对于试图使用时间序列数据的开发人员来说，当一个新的数据点进入时，一个数据库不断地覆盖以前的数据点是有问题的。

如今，最大的不同是时间序列数据激增，并且在广泛的仪器和物联网(IoT)和边缘计算的主流采用的推动下，随着数百万设备和传感器的上线，数据还在不断增长。

虽然组织肯定会发现历史数据的价值，但通常对日常运营最关键的是最新的数据点。这适用于多种场景:应用监控、自动驾驶汽车中的近程传感器、工业环境中的气体传感器或联网的家用电器。

“如果我已经从我的热水器那里得到了恒温器信息，知道一年前的平均温度是有点意思的，”[的](https://www.linkedin.com/in/barbaranelson2000/) [InfluxData 的工程副总裁 Barbara Nelson](https://www.influxdata.com/?utm_content=inline-mention) 告诉新堆栈。“知道我的热水器现在的温度可能非常重要，特别是如果它过热，我需要采取一些措施。了解过去五分钟的温度变化也可能非常重要。”

时间序列数据的价值和相关性对应于传感器记录特定数据点的时间。因此，高效、快速、实时地处理这些海量数据意味着公司和开发人员需要合适的工具。

开发人员必须经常使用环境/云、语言、框架和工具的多样化组合来构建和集成使用时间序列数据的应用程序。这可能比它第一次出现时要困难得多。

## 处理时间序列数据:4 个关键问题

PTC ThingWorx(一个工业物联网平台)的软件开发高级主管 [Kesara Kudalugodaarachchi 表示，开发人员和其他 IT 专业人员在处理时间序列数据时会遇到几个关键挑战。(该公司是 InfluxData 的技术合作伙伴。)](https://www.linkedin.com/in/kesarak/)

最大的挑战包括:

1.  **时间序列数据量大。**给定时间段内积累的数据量可能会非常大，尤其是在存在长期数据保留策略的情况下。“随着数据量的增长，由于查询响应时间的增加，处理这些数据变得越来越困难，”Kudalugodaarachchi 说。
2.  数据存储变得昂贵。随着时间序列数据量的增长，存储数据变得成本高昂，清除旧数据成为一个令人头疼的操作问题。
3.  **分析时间序列“切片”太费时间。**时间序列数据中的许多价值与快速处理和分析数据的能力密切相关。当处理大量数据的“时间片”时，比如计算每小时的平均温度，这是很棘手的。“在应用层执行这种聚合需要通过网络将数据提取到应用层，这是一种昂贵的操作，”Kudalugodaarachchi 说。
4.  **数据持久性难以扩展。**最后，他指出，时间序列数据持久性需要物联网环境中的高吞吐量，物联网环境是时间序列数据用例的主要类别之一，连接着数十万台设备(每秒插入数十万条数据库记录)。这很难扩展，尤其是对于关系数据库管理系统。

Kudalugodaarachchi 说，所有这些因素都会严重阻碍开发人员的体验，即使开发团队自己提出了合理的自制或单点解决方案。“昂贵”、“困难”和“费时”在商业世界中并不是受欢迎的特征。

## 平衡业务和开发者的需求

这产生了一个分层的问题:组织需要从时间序列数据中获得商业价值，但他们也需要确保高质量的开发人员体验，否则会面临招聘和保留问题的风险。

如果您的开发人员不得不从头构建一个数据库，或者改进另一个解决方案，以在他们的应用程序中支持时间序列数据，或者如果他们不得不自己解决前面列出的挑战，那么您的开发人员体验几乎肯定是低于标准的。

这里的“好”消息是，其中一些开发人员体验问题不一定是时序数据独有的。

“工具集成和使用总是一个挑战，时间序列数据应用也不例外，”技术分析公司 Everest Group 的合伙人 Yugal Joshi 说，他在 Everest Group 领导数字、云和应用服务研究。“然而，在这种情况下，这一挑战并没有变得更糟。”

但是挑战仍然是真实的:例如，根据 Joshi 的说法，集成开发环境(ide)或其他平台可能不总是支持为时序数据用例构建软件所需的库。

InfluxData 的 Nelson 指出，开发人员对时间序列数据的体验，以及依赖时间序列数据的应用程序的商业价值，如今经常受到耗时的数据摄取、笨拙的变通方法和集成、数据格式化问题和其他问题的影响。例如，来自边缘设备的本地数据格式不一定与您期望的数据在数据库中的显示方式相匹配。

因为今天如此多的软件依赖于其他软件——尤其是开源软件——才能正常运行，所以使用时间序列数据的应用程序(以及开发人员用来构建它们的工具)需要能够快速安全地集成。否则，瓶颈将开始膨胀。

“鉴于时间序列数据软件大量用于预测、金融见解、异常检测、供应链和检测趋势，它需要允许开发人员无缝和安全地结合不同的开源模块，”Joshi 说。"这是必要的，否则开发人员将花费太多的时间来创建这些模块."

随着各行各业的组织为时间序列数据开发新的或不断增长的用途，挑战也将变得更加严峻。越来越复杂的用例也加剧了这些问题。

“现在时间序列软件需要支持自然语言处理、人工神经网络和高级模式识别，”Joshi 说。“这些是非常复杂的领域，开发人员需要重要的工具、预制模板和经过测试的模块来按时交付他们的软件。”

## 寻找解决方案

要解决时间序列数据带来的更广泛的挑战，首先要认识到(而不是掩饰)特定团队或组织面临的问题，然后找出原因，以便能够缓解这些问题。

与现代软件开发的许多其他方面一样，“价值实现时间”(这是 C-suite 最关心的)和开发人员体验(这对价值实现时间绝对至关重要)依赖于始终优先考虑自动化、互操作性、集成、速度和灵活性的环境或平台。此外，开放也是一个很好的措施——作为对供应商锁定的平衡。

Kudalugodaarachchi 表示，拥有大量时间序列数据用例的公司可能会从使用专门处理时间序列数据的数据存储中受益，因为它将考虑到前面描述的挑战，例如在数据库本身(而不是应用层)中执行那些时间片聚合，以提供接近实时的响应速度。

这意味着开发人员可以快速构建并更快看到结果——而无需花费大量时间在数据库管理或其他超出他们能力范围的运营难题上。

这实质上是 InfluxData 使用 InfluxDB 构建的，influx db 是一个面向开发人员的平台，用于构建和扩展时序应用程序，简化团队在接收、实时分析、存储等方面面临的常见挑战。

对于任何有大量时间序列数据用例的公司，Nelson 强调需要一个时间序列解决方案来“满足开发人员的需求”

在 InfluxData，她说，“我们专注于帮助开发人员将他们的数据放入时间序列数据库的所有不同方法，并在数据库中管理这些数据。开发人员通常需要存储大量时间序列数据，以将其作为应用程序的一部分。他们希望能够分析并采取行动。他们不想花费所有的精力，只是想知道如何以正确的格式获取数据，高效地存储数据，并随着时间的推移管理数据。”

InfluxData 的解决方案——有开源、企业和云版本——允许开发人员通过 API、命令行或 UI 访问他们的数据库，并支持 12 种语言的客户端库，包括 C#、 [Go、](https://thenewstack.io/what-made-golang-so-popular-the-languages-creators-look-back/) [Javascript、](https://thenewstack.io/javascript-developers-on-what-matters-and-whats-next/) [PHP](https://thenewstack.io/php-has-survived-for-26-years-because-it-keeps-evolving/) 和 [Python。](https://thenewstack.io/an-introduction-to-python-for-non-programmers/)

人们非常关注如何获取数据以及开发人员如何查询数据。InfluxData 解决方案的用户可以使用 SQL、InfluxQL(流入查询语言)或 [Flux](https://thenewstack.io/how-influxdb-and-flux-gather-meaningful-insights-from-time-series-data/) ，这使得用户不仅可以查询数据，还可以对数据进行操作。

数据查询结果以用户友好的方式呈现。例如，Nelson 说，网络用户界面“使你基本上只需点击，选择你的测量，选择你的时间范围，我们将以各种不同的图形格式中的任何一种向你显示结果。”

该公司还维护着一个开源项目， [Telegraf，](https://docs.influxdata.com/telegraf/v1.22/)一个位于边缘的代理。它有 300 多个不同的插件，可以适应从边缘设备获取数据的协议。然后，Nelson 说，它可以写“无论时间序列的目的地在哪里，转换，批处理和重试逻辑，都在那个代理中。”这使得数据管道更有弹性。

InfluxData 还旨在帮助开发人员管理他们的数据。如果您不密切关注时间序列数据，它会用旧数据填满磁盘空间。

“当你第一次定义一个桶，这是我们用来描述存储这些数据的数据库的术语，你定义了一个保留策略，”Nelson 说。“你可以说，‘嘿，这个桶里的数据，我想保存六个月。’然后，我们会随着时间的推移自动清除它，这样您就不会遇到磁盘已满的情况。"

她总结道，“我们让您可以非常轻松地结合执行保留策略和缩减采样。因此，您基本上可以让所有这些数据持续不断地流入，而不会冒在某个时候突然发现您有许多必须清理和处理的旧数据的风险。我们会帮你处理好的。”

Nelson 说，InfluxData 方法来自于“全面地观察试图构建具有时间序列数据的应用程序的开发人员的一天”。…我们已经了解了，他们可能需要做的所有事情是什么？我们如何让他们更容易做到这一点？

“我们不想对开发者说，他们需要做出所有这些改变来适应我们的世界。不。我们将开发与你们的世界相匹配的能力。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>