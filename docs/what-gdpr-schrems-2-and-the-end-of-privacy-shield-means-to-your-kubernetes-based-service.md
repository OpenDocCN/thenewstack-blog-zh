# GDPR、Schrems 2 和隐私保护的终结对你的基于 Kubernetes 的服务意味着什么

> 原文：<https://thenewstack.io/what-gdpr-schrems-2-and-the-end-of-privacy-shield-means-to-your-kubernetes-based-service/>

在 2020 年 7 月 16 日被称为“Schrems 2”的裁决中，[欧洲法院裁定](https://curia.europa.eu/jcms/upload/docs/application/pdf/2020-07/cp200091en.pdf)EU-美国“隐私保护”协议没有根据[一般数据保护条例(GDPR)](https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=celex%3A32016R0679) 为个人身份信息提供足够的保护。

## 有什么问题？

 [拉斯·拉尔森

Lars 是 Elastisys 的高级云架构师和分支经理。他拥有于默奥大学的计算机科学博士学位，十多年来一直在工业界和学术界从事云计算工作。](https://se.linkedin.com/in/llarsson) 

实质上，Schrems 2 的裁决意味着美国拥有的云提供商，如谷歌、亚马逊网络服务(AWS)和微软 Azure **不能被用来**存储欧洲公民的数据而不违反 GDPR。众所周知，违反者可被罚款 2000 万欧元或年收入的 4%，*以金额较大者为准。*

 *仅仅将数据强制定位到这些云中基于 EU-的区域是不够的，因为这个问题本质上不是地理问题。问题实际上是，美国自有的云供应商受到例如[云法案](https://en.wikipedia.org/wiki/CLOUD_Act)和[国家安全信函](https://en.wikipedia.org/wiki/National_security_letter)的约束。这两者都可以用来迫使云供应商向美国政府提供客户数据，即使服务器碰巧位于外国领土上。

## 现在怎么办？

我们还没有找到答案。在新一轮的隐私保护中，新的立法会出台并解决问题吗？以前发生过:Schrems 2 之所以叫那个，是因为 Schrems 第一次按问题，之前那个叫“安全港”的协议就作废了。

对于欧盟国家的公共部门来说，当前形势的答案似乎非常清楚:使用基于 EU-的云服务不是一个问题，而是一项命令。

对于总部设在美国或欧盟、但与欧盟公民做生意的私营企业来说，会有更多的犹豫。也许他们希望这些事情会自己解决。Fieldfisher 开展的一项小型但有趣的[研究发现，即使所有受访者都依赖 EEA/UK 以外的数据处理器，也只有 12%的人打算减少使用此类处理器(30%的人尚未决定，其余 58%的人不打算减少)。58%的人确实打算要求他们的处理器根据欧洲标准合同条款提供保护，这可能取代以前对隐私保护的依赖。](https://www.fieldfisher.com/en/services/privacy-security-and-information/privacy-security-and-information-law-blog/how-schrems-ii-will-impact-international-data-flow)

让我们把话说清楚:**从法律上讲**，安然渡过这场风暴看看会发生什么是**采取的非常冒险的**立场。Schrems 2 的原被告脸书已被下令停止向美国传输欧盟公民的数据。由于这将对他们的服务产生巨大影响，难怪他们会争先恐后地反对这个决定。这是一个如此大的问题，以至于他们威胁要完全停止在欧盟地区提供服务。如果“等着瞧”是一个有效的策略，那么很明显他们会这么做。

不过，采用了 [Kubernetes](https://kubernetes.io/) 和其他[云原生技术](https://landscape.cncf.io/)的公司其实可以松一口气了。因为通过在云供应商中立技术之上构建服务，采用多云策略比以往任何时候都更加可行！

因此，尽管这一新裁决确实让我们所有人都必须意识到或彻底担心管辖权及其可能对我们业务产生的影响，但最明显的*和*经得起未来考验的**技术解决方案**是开始使用欧洲云提供商来处理所有与我们欧盟公民用户相关的数据。至少，此时调查你的选择是你的首席技术官 CISO 和云架构师的明智之举。

## 问题是

这是一个相当大的陷阱。对欧洲云供应商领域的调查显示，基础设施即服务(IaaS)产品丰富且质量高。毫无疑问，你可以把你的数据存放在旧的冷战掩体中，甚至是巴塞罗那的教堂里。然而，像 AWS 提供的那种庞大的服务生态系统，还有待 EU-的提供商来匹配(尽管公平地说，其他超大规模公司也没有 AWS 提供的那么多)。

## 但是说真的，现在怎么办？

我们来自美国的超大规模企业，不仅习惯于基础架构即服务，还习惯于在基础架构之上提供出色的平台和软件服务。托管数据库、消息队列、日志存储服务，应有尽有。如果我们选择基于 EU-的云提供商，我们必须自己构建或管理这些吗？

谢天谢地，没有。除了云原生社区中的 MariaDB 和 PostgreSQL 等成熟数据库，我们还有 CNCF 支持的项目，这些项目提供了数量惊人的智能软件，以弥补我们已经喜欢并依赖的“即服务”产品。从服务网格到存储解决方案，从分布式数据库到流媒体消息服务，我们应有尽有。看看 CNCF 的风景吧！

的确，这些服务并不都与 AWS 提供的 API 兼容。但是，我们可以(也应该)依靠厂商中立的 CNCF 支持的项目，而不是标准化特定于 AWS 的服务来驱动我们的应用程序。以下是一些例子:

然而，解决这些服务的自我管理:显然，不是我们所有人都想自己管理平台服务。承担更多的系统管理任务并不能提高我们的敏捷性和向客户交付优秀功能的能力。但我相信我们不必事事亲力亲为。随着 Schrems 2 的尘埃落定，托管云原生服务在欧盟肯定会有市场。

*现在*情况可能是 EU-的云提供商不像我们习惯的那样从 AWS 等公司提供全面的服务。但是有些公司会在基于 EU-的云基础设施上为你管理平台服务。通过使用它们，您可以保持敏捷性，并且作为一个额外的好处，在技术上更少地局限于一家美国云供应商的产品。无论如何，从技术角度来看，这或许是件好事。因为供应商锁定从来都不是我们想要的最终结果，而是我们勉强接受的结果，这样我们就不必自己管理平台服务。

## Kubernetes 是 GDPR 合规的推动者

能够有效编排云原生软件的一个关键组件是 Kubernetes。其自身的价值定位也非常重要:Kubernetes 帮助我们将工作负载从一个 Kubernetes 集群转移到另一个集群。工作负载部署完全相同，Kubernetes 的抽象使得不必担心实现细节成为可能。我们的开发人员或 DevOps 工程师可以简单地请求 Pods 部署有一个服务为其进行负载平衡，通过入口公开它，并由 cert-manager 管理 TLS 证书。与五年多前 Kubernetes 出现之前的糟糕日子相比，这一切运行在哪个云基础设施上已经不是什么问题了。

那么，Kubernetes 开箱即可满足您对 GDPR 合规性的所有需求吗？不，当然不是，原因有二。首先，GDPR 要求系统的设计应该保证个人数据的安全。Kubernetes 并不安全，[既不是默认的，也不是它本身](https://searchitoperations.techtarget.com/news/252487963/Kubernetes-security-defaults-prompt-upstream-dilemma)。例如，如果没有适当的 pod security 策略或角色，获得 pod 访问权限的攻击者可以创建一个特权 pod，接管主机并在 Kubernetes 群集中横向移动。此外，Kubernetes 作为一个专注于容器编排的项目，本身并不提供入侵检测或漏洞管理的解决方案。取而代之的是，它依靠外部元件来完成这项工作(参见 CNCF 项目 Falco)。

其次，GDPR 要求数据最小化。我们的经验表明，个人数据可能会泄露到备份或日志中，这意味着需要谨慎执行保留和恢复，以避免意外泄露或恢复通过 GDPR 遗忘权请求而被命令删除的数据。

但是，Kubernetes 是否为我们提供了在欧洲云中部署我们服务的 EU-特定子集的关键拼图？绝对是。随着这种需求变得越来越大，对 [Kubernetes 集群联盟(KubeFed)](https://github.com/kubernetes-sigs/kubefed) 的兴趣将会持续增长。

## 展望未来

对于云原生软件来说，Schrems 2 的裁决可能是塞翁失马焉知非福。因为我们越是远离超大规模存储，我们就越会珍惜从 Rook 获得的出色存储服务(例如)。对于作为云客户的我们来说，这也是一件好事，因为我们可能不得不重新考虑对超大规模服务器提供的服务的舒适的默认依赖。也许是欧盟法院的一项裁决让我们所有人都明白了这一点。

所以我说，我们所有人都应该开发和使用真正的云原生软件，而不是特定供应商的原生服务。你和我在一起吗？

*要了解更多关于 Kubernetes 和其他云原生技术的信息，请考虑参加于 11 月 17 日至 20 日在举行的 [KubeCon + CloudNativeCon 北美 2020 大会。](https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/)*

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>*