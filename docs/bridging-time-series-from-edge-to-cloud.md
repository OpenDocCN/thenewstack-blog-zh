# 将时间序列从边缘连接到云

> 原文：<https://thenewstack.io/bridging-time-series-from-edge-to-cloud/>

考虑高频交易公司；你知道，那些你可能在迈克尔·刘易斯的“闪光男孩”*中读到过的？*

 *[萨姆·迪拉德

Sam 是 InfluxData 的高级产品经理。他热衷于构建解决实际问题的软件和揭示这些问题的研究。Sam 拥有圣克拉拉大学的经济学学士学位。](https://www.linkedin.com/in/samdillard/) 

他们将交易算法放在交易所旁边，根据算法实时做出的评估，尽可能快地执行交易。这种算法从何而来，如何跟上市场快速变化的形势？

先放一会儿。

想象一下，一个海洋风力发电场拥有数百个 75 米、6 兆瓦的风力涡轮机，维护成本高达数百万美元。如果不经常派工程师去海里检查，运营商怎么知道他们什么时候有问题？

把那个也拿着。

最后，考虑一个应用程序基础设施案例，其中关键数据来自数百个 Kubernetes 集群。单个集群有自己的上下文，可以在其中运行监控仪表板、定义警报和采取措施。然而，运营中心可能需要整个 Kubernetes 车队的综合概览，或者数据科学可能需要全球培训数据来完善异常检测。

企业如何有效地管理这些不同的“边缘”环境？答案在于边缘数据和云数据的关系。交易设备、风力涡轮机和 Kubernetes 集群都是相对于云的“边缘”资产。(我在这里使用术语“资产”作为一个总称，术语“边缘”依赖于上下文。)

边缘资产很少处理与任何其他资产相关的数据，除了它们自己。然而，为了分析许多资产，您需要缩小和合并上下文。有时这是一个工厂、数据中心、卫星或私有 Kubernetes 集群。集中式上下文通常位于公共云中，其中包含通过广域网(如互联网)连接的来自全球各地的资产的数据。

结合示例，算法创建、涡轮机监控和中央 K8s 监控发生在提供所需上下文的缩小层中。

云数据有发展势头，但对边缘数据的需求仍在增长。应用程序数据具有巨大的重要性，随着应用程序变得更加分散，边缘变得更加重要。边缘数据的存在使得数据更便宜，延迟更少，并且不需要互联网来做出决定。

另一方面，对云数据的需求完全不同。云是中心。它可以看到所有设备，并提供设备周围的环境，否则不会有它，它可以存储更多的数据，以获得更智能的业务级别的见解。

边缘和云之间的关系取决于它们的相互依赖性。边缘因树木而看不见森林，云只能看见它被给予的东西。利用各自的优势，他们可以只消费和分析各自需要的数据和见解。

## **时序数据**

边缘的数据和移动到云端的数据是时间序列。考虑到这一点，也是为了本文的目的，我必须提到时间序列数据的一些核心属性:

*   它有一个半衰期。时间序列数据点与生俱来的价值和久而久之，这种价值开始减少，因为点告诉我们更少的现实。
*   它附加数据而不是替换数据，而且如此频繁，这使得数据量不断增加。
*   它在本质上通常是关键和/或敏感的。

鉴于这些属性，企业经常发现自己在边缘和云之间做出选择，因为将它们结合起来令人生畏，但这并不是必须的。

## **边缘云二元性在起作用**

### 在高频交易中

一种设备通常安装在交易所附近，甚至安装在固件中，带有一个规则集，说明如何在没有人工干预的情况下进行交易。这使得决策可以在几微秒内做出。然而，毫无疑问，这个设备并不是智能的参与者。真正聪明的事情发生在远离算法诞生的设备的地方。在边缘，进行交易并转发数据。云是构建和训练算法的地方，因为那里可以存储数千个报价机的数十亿个价格，以及其他外部参数。

这里的时间序列管道必然要求数据在边缘尽可能精确或粒度化，但由于互联网不能总是支持这样的量，因此也必须有一种方法在通往云的路上显著减少它。

*   **问题**:虽然这些公司可能资金雄厚，但将数据从交易所传输到云端可能不是因为预算，而是因为带宽。现在，您需要一种在短时间内处理大量数据的方法。你需要足够多的数据被推送到云端，以便能够对现场发生的事情进行清晰的分析——而这一切都不会破坏互联网。那么，有什么办法呢？
*   **现状:**
*   *   在边缘包括一个自定义应用程序，该应用程序减少数据，然后转发数据。这是一项任务，在这种情况下，通常意味着代码是边缘不可访问的一部分。如果不是内置的，可能就是一个开发者要托管和维护的 app。
    *   或者手动导出数据并将其加载到其他地方。这对这些公司来说太慢了，因为云正在不断地训练算法，而且他们还可能从需要近实时更新的云数据集中运行人类可读的仪表板。请记住，时间序列有半衰期，交易公司交易的半衰期类似于放射性同位素。

### 在风力农业中

在这种情况下，涡轮机需要在发生极其昂贵的故障之前进行维护。它们发出的时间序列数据暗示了未来的故障，这给了操作者实际访问农场的机会。当操作员远离机器时，涡轮机健康数据对机器没有好处，但是当操作员在机器旁边时，它也是有用的。需要一种方法来转发有意义的数据用于预测性维护，同时保留详细的数据用于现场取证分析。

*   **问题:**虽然这个场景与交易场景有相同的问题，但它引入了一个新的问题。这些涡轮机对它们所报告的中央网络的访问可能非常不可靠。这意味着，即使您有方法不断地将数据从边缘转发到云，您也需要一种方法来智能地处理间歇性和持久性的连接问题。
*   **现状:**在网络允许的情况下，涡轮机发射数据。中央监控系统的能见度时断时续，会遗漏很多信息。任何数据聚合都是通过手动或软件完成的，如果您的聚合策略发生变化，这些软件很难更新。

### 库伯内特舰队

这个有点不一样。在企业 Kubernetes 集群中，甚至在一些“edge K8s”集群中，都有大量的数据空间。在这里，企业可以轻松地进行全面监控、警报、异常检测和预测分析。

*   **问题:**将它联合到一个中心枢纽再次受到预算和带宽的限制。从概念上讲，通过精确的维度监控每个集群并提供一个整体的画面和数据仓库并不太困难，但是考虑到时间序列的半衰期和数量，实际而灵活地做到这一点是众所周知的困难。
*   **现状:**数据库和其他监控应用程序可以在这些拓扑的任何级别上运行。企业将使用这些来监控集群，但会选择或强调边缘或云。当他们管理边缘-云二元性时，每个中的数据可能不是他们想要的，并且对其进行更改很少是可行的。

### 在其他环境中

边缘-云二元性的应用扩展到能源、制造、航空航天和其他高科技行业。更多示例:

*   谷歌照片应用程序使用一个不断训练的模型对它认为相似的照片进行分类。用于训练该模型的数据来自每个人的手机，而不仅仅是你的手机——而且它一直来自他们。
*   制造工厂的操作人员在车间里密切关注着昂贵的机器。另一方面，总部经常有分析师或其他工程师想要了解所有工厂的全局视图，而不需要中断银行或互联网。

## **底线**

重要的是要设计一种数据拓扑，以适当的方式利用边缘和云，使两者都有必要的数据，并且都没有不需要或无法获得的数据。

虽然边缘和云有无数种方式可以利用彼此的优势为企业提供真正的价值，但关键是设计一种实用而有效的边缘-云拓扑。要达到这种平衡，需要能够以一种易于组装和维护的方式兼顾边缘和云特性的技术。敬请关注 InfluxData 对此的更多报道。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>*