# 研究称，未使用的凭证是云攻击的罪魁祸首

> 原文：<https://thenewstack.io/unused-credentials-key-culprits-in-cloud-attacks-study-says/>

这是一个令人瞠目结舌的统计数据:[根据一份关于云基础设施面临的](https://unit42.paloaltonetworks.com/iam-cloud-threat-research/)[安全](https://thenewstack.io/category/security/)威胁的新报告，近 99%的身份和访问管理(IAM)政策过于宽松。

这份报告是来自[帕洛阿尔托网络](https://www.paloaltonetworks.com/cloud-security?utm_content=inline-mention)的威胁研究部门 Unit 42 的最新报告，该报告将云身份定义为过于宽松，如果他们授予在过去 60 天内未使用的权限。

同样令人吃惊的是，研究人员在他们的最新报告中忽略了一个数据点:根据帕洛阿尔托网络公司公共云首席研究员兼最新“云威胁报告”的合著者[陈颉](https://www.linkedin.com/in/jaychen2015/)的说法，这些云账户授予的权限只有不到 10%被使用过

这样的消息令人震惊，因为这些未使用的权限可能会不必要地打开更多的攻击媒介，并在发生安全事件时增加横向移动和权限提升的风险。

然而，Chen 建议，“这使得组织可以通过删除 90%以上的授权权限来立即加强安全性，而不会影响您现有的云工作负载功能。”

根据 IBM 和 Ponemon Institute 在 1 月份发布的一份报告，过于广泛的权限授予(其中大部分未被使用)为云威胁参与者创造了诱人的目标，这些恶意黑客在 2021 年因数据泄露给组织造成了平均 424 万美元的损失。

报告指出，多云和混合云架构的使用越来越多，其固有的复杂性，以及定制主要公共云提供商的安全政策的困难，也导致了漏洞。

该报告提供了一些补救措施，研究人员警告 IT 团队不要让恐惧左右他们的决策。然而，数据确实表明，对于许多组织来说，实现授予用户最少特权的目标可能“不是一个现实的期望”，Chen 说。

他总结了报告的发现，建议他们应该提高警觉，但不要恐慌:“一切都在工作，尽管我们发现有巨大的差距。但是我们仍然需要继续改进它。我们仍然需要朝着这种最小特权的期望前进。”

## 弱密码和重复使用的密码

对于“云威胁报告，第 6 卷”，Unit 42 研究人员分析了 18，000 个云帐户和 200 多个不同组织的 680，000 多个身份。

自新冠肺炎疫情开始以来，将至少一半的工作负载托管在云中的组织的百分比大幅上升；从 2020 年的平均 31%到 2022 年的 69%，根据帕洛阿尔托网络的 Prisma Cloud[“2022 年云原生安全状态”](https://www.paloaltonetworks.com/state-of-cloud-native-security)报告。

根据 Unit 42 的研究，错误配置(通常与 IAM 策略有关)导致了 65%的已知云安全事件。调查结果包括:

*   被研究的组织中有 62%的组织将云资源公开在互联网上，这使得任何人都可以在没有身份验证的情况下访问它们。
*   53%的云帐户允许使用弱密码(研究定义为少于 14 个字符)
*   44%的人允许重复使用密码。

这份新报告提出了多重或混合云网络的使用是使系统更容易受到攻击的一个因素，以及云服务提供商(CSP)管理的安全策略在产生不必要和未使用的权限方面所起的作用。

研究人员指出，使用多个云主机必然会带来更多的复杂性。

陈提到了容易导致的“证书泛滥”问题。例如，“对于不同的应用程序，您有一个数据库凭据，一个虚拟机凭据，一个 AWS 凭据。通常，当两个云需要相互通信时，您需要创建另一个凭据才能进行通信。”

他指出，通常情况下，“没有跨多个帐户、每个提供商或跨内部和云身份的集中身份和访问管理。如果没有集中的凭据管理，凭据就会变得非常分散。并且会导致凭据存储问题。”

## CSP 管理的安全策略

研究人员表示，公共云并非天生脆弱，但它们是为各种组织和用例的广泛使用而设计的。然而，如果他们的安全策略不是由使用他们的团队定制的，他们可以生成太广泛的权限，并为黑客打开大门。

根据 Unit 42 报告，CSP 管理的策略授予的权限是客户管理的策略的 2.5 倍。

下表中的数据取自该报告，显示了五个最常授予[亚马逊网络服务(AWS)](https://aws.amazon.com/?utm_content=inline-mention) 和微软 Azure 的权限。对于 AWS，“管理员访问”，对于 Azure，“所有者”访问，授予对其附加身份的完全访问权限——换句话说，对每个云和服务的所有权限。

![Table showing the 5 most frequently used cloud-service provider managed policies for AWS and Microsoft Azure. For AWS, top five in order: ReadOnlyAccss, AWSLambdaVPCAccessExecutiveRole, AdministratorAccess, AWSSupportAccess, AWSConfigRulesExecutionRole. For Azure, top 5 in order: Contributor, Owner, Storage Blob Data Contributor, Billing Reader, Virtual Machine Contributor](img/73005a08b972e1b8a6011c04d5c7cb89.png)

帕洛阿尔托网络公司公共云安全首席研究员、Unit 42 报告的合著者纳撒尼尔·奎斯特指出:“如果你是一名管理员，你就拥有这个王国的所有钥匙，你可以做任何你想做的事情。

Chen 说，对许多组织来说，定制 CSP 管理的安全策略并不简单。“公平地说，只有最高级的云用户才能创建自己的策略，因为这是一个繁琐、困难的问题。

陈补充说，一个特定的云服务“通常有 100 多种不同的权限。您需要为您的应用程序选择一个特定的子集。很辛苦。手动非常困难，但有工具可以帮助您自动完成这一过程。”

Quist 补充说，这些挑战是使用公共云的权衡的一部分。“这不是云服务提供商的错。他们只是想让这项服务变得实用和简单。"

## 防范攻击的最佳实践

Unit 42 报告列出了一个“云威胁因素指数”，详细说明了前五名攻击者使用的关键云和容器 TTP。它还包括一个关于潜在云威胁行为者的部分，就当前俄罗斯和乌克兰之间的战争可能对网络安全产生的影响发出警告。

“值得注意的是，俄罗斯民族国家运营商在历史上一直使用云基础设施来托管恶意内容，用于他们的进攻行动，”报告写道。

该报告列出了保护所有组织免受云威胁的最佳实践。其中包括:

### 使用云原生应用程序保护平台。

云原生应用程序保护平台(CNAPP)是一套集成的安全和合规性工具，这些工具以前是相互独立的，例如容器扫描和云安全状态管理，旨在帮助在云原生应用程序的整个生命周期中保护它们。

Quist 说:“如果你只使用一种工具，例如只关注容器的云工作负载保护，你将无法看到证书在更大的云环境中使用。”“或者，如果您只有一个云安全状态管理工具，您将无法看到容器正在做什么。

“拥有 CNAPP 将两者联系在一起，因此您可以了解更多的粒度级和宽泛的云平台。”

### 强化身份和访问管理权限。

研究人员表示，由于如此多的组织有如此多的未使用权限，为攻击者提供了如此诱人的目标，缩小权限范围至关重要。

该报告列出了锁定事物的八条准则:

1.  最大限度地减少管理员凭据的使用，在大多数组织中，管理员凭据的发放过于随意。
2.  尽量减少长期凭据的使用，如用户密码、访问密钥和服务帐户密钥。
3.  对修改数据库删除等关键业务资源的权限实施多因素身份认证。
4.  配置强密码策略。根据国家标准和技术研究所(NIST)的规定，密码至少需要八个字符。
5.  使用联合身份管理集中管理访问控制。
6.  遵循最小特权原则。这意味着只授予每个身份工作所需的权限。持续审核您的云环境中的所有身份。
7.  监控 IAM 活动。所有主要的 CSP 都有这方面的服务，可以帮助识别异常活动，如暴力攻击和来自未识别分区或位置的日志记录。
8.  自动修复过多的权限。权限审核不应手动完成，因为云环境中的工作负载变化迅速且频繁。

“手动创建这些类型的政策几乎是不可能的，你需要一个工具，可以自动化的政策创建过程，”陈说。通常，此类工具会实时监控您的工作负载和应用程序实际需要的操作然后，他说，该工具将为该应用程序创建一个特定的策略。

Quist 建议，总的来说，要点是“审视您的云环境、云应用，然后……定制您的策略。”

“如果我们能做到这一点，”他补充说，“这将完全缩小攻击者不得不使用的威胁范围。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>