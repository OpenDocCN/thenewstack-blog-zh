# 多个管弦乐队的情况

> 原文：<https://thenewstack.io/the-case-for-multiple-orchestrators/>

[HashiCorp](https://www.hashicorp.com/) 赞助本帖。

 [彼得·麦卡伦

Peter 是 HashiCorp 公司 Consul 和 Nomad 的高级产品营销经理。](https://www.linkedin.com/in/petercmccarron/) 

对于《指环王》三部曲的粉丝来说，当霍比特人第一次面对夏尔之外的生活非常不同的前景时，这是一个令人难忘的场景——尤其是在早餐时。就像皮蓬和阿拉贡一样，当我们最近与一些组织谈论管弦乐队时，对话中出现了一个熟悉的问题，“是的，我们有一个管弦乐队，但是第二个管弦乐队怎么样？”这是市场上一个有趣的演变，但并非完全出乎意料。在本帖中，我们将深入观察为什么组织追求多协调器策略以及它提供的一些好处。

## 搭建舞台

 [林依珊

Yishan 是 HashiCorp 的 Nomad 产品经理](https://www.linkedin.com/in/yishanlin/) 

在深入研究为什么组织要整合多种编排工具之前，回顾一下编排是很重要的。其核心是，orchestrators 自动部署应用程序和管理底层计算资源。容器加速了对这些工具的需求，因为它们使开发人员能够快速打包应用程序。过去，开发人员会向服务器管理员提供代码，服务器管理员会在办公室的特定长期运行的物理服务器上手动部署每个应用程序。每次更新应用程序时，系统管理员都需要手动更新特定服务器上的应用程序代码和环境(操作系统、已安装的软件包)。

由于开发生命周期和应用程序打包通常需要几周或几个月的时间，这对于版本控制和升级应用程序来说是一个可行的解决方案。容器、公共云和 CI/CD 工具的出现消除了这一瓶颈，使开发人员能够通过可移植的轻量级打包将快速增量更改发送到他们的应用程序。通过采用公共云，组织可以轻松地虚拟和远程配置服务器，将每台服务器可互换地视为一个短暂的资源池。像 Mesos、Nomad 和 Kubernetes 这样的编排工具使企业能够将应用程序与服务器完全分离，从而更进一步。为了简单性、冗余性和弹性，应用程序现在可以从单个界面远程部署和打包到任何正在运行的服务器上。

## 那么为什么你需要不止一个呢？

如上所述，该工作流似乎将组织导向单一工具。像“这是一个组织范围内的问题”，或“学习多种工具可能具有挑战性”，或“故障排除的单一联系点总是首选”，这样的标准智慧表明企业将找到适合他们的方法并转向该方法。然而，实际上，企业的运营更像是微服务，而不是整体服务。企业由多组人员组成，他们有不同的任务、基础架构环境、技术能力、预算和业务 SLA。

每个组都有不同的要求，最终将根据需求和能力利用技术。正是在这一点上，我们看到了在单个 orchestrator 上实现标准化的趋势。相反，大中型企业现在选择采用最适合每个业务部门的 orchestrator。

另一方面，我们继续看到小型企业在自然的人员配备和组织限制下，在单个 orchestrator 上实现标准化。通常没有足够的 DevOps 成员来维护多个 orchestrator，没有足够的开发人员来保证不同的工作流，或者只是没有足够的工作负载多样性/规模来要求多个 orchestrator。

## 这实际上看起来像什么？

为了说明这一点，想象同一个组织中的两个小组。A 组是一个新成立的团队，负责开发一个最先进的机器学习平台，吸收和分析大量数据。B 组是一个现有的团队，负责管理其他团队经常依赖的内部工具和应用程序。这两个团队都希望优化他们的部署生命周期和资源利用率，但是他们的技术需求却大相径庭。A 组可能强烈支持 Kubernetes，因为他们计划为他们的 ML 工作流运行 Kubeflow，并且团队成员有使用 Kubernetes 的经验。B 组负责管理一系列基于 Windows 的应用程序，他们被过度拉伸以至于无法进行大规模的重构来将这些应用程序容器化。他们最终会选择 HashiCorp Nomad 这样的产品，因为它更容易插入到他们现有的环境中，具有 Windows 支持，并且对他们的小团队来说运营维护成本较低。

A 组和 B 组可能都为为什么他们的管弦乐队最有意义提出了非常有效的论据，并对另一组有强烈的保留。A 组可能会说，根据他们的测试，Kubeflow 是他们新平台的最佳工具，需要 Kubernetes——所以这是最好的前进道路。鉴于该公司在 A 组的投资，他们预计他们的员工人数将每年增长，直到他们有能力让多个成员全职维护 Kubernetes。B 组可能会反驳说，对他们来说，重构容器化的应用程序需要很长时间，并且会对关键应用程序产生组织无法承受的影响。在这两种情况下，这些群体都是正确的，但根据我们的传统智慧，我们只能选择一个。你选择哪一个？正如整篇博客的前提所暗示的，组织正在挑战传统智慧，给这两个群体他们需要的工具。这个想法是使组织能够像微服务一样运行，并有效地处理彼此独立的任务。每个群体都将从提高的生产率中受益，并因此变得更加富裕。

## 听起来很有逻辑，但那又怎样？

你可能正在读这篇文章，觉得这是显而易见的，并不那么重要。我认为这对于企业来说是一个相当大的转变。就像他们支持的应用程序一样，在很长一段时间内，采用单一的方法是有意义的。即使在存在多种技术的环境中，如操作系统、基础架构、工作负载等。这些组织很可能从一种技术开始，有意识地决定采用一种新技术，并从那时起慢慢地将一切迁移到新技术。

从整体上考虑云的采用。多云确实是一个现实，但是许多正在向云迁移的企业选择了一个开始。他们认为他们将支持其他人，但这将是一个过程，他们希望首先在一个云中测试他们的应用程序。

这个多管弦乐队的故事是不同的。组织已经意识到，他们可以基于现有需求采用许多工具，而不是作为长期战略的一部分。此外，只要满足业务需求，这些编排器可以长期共存。

## 接下来呢？

既然我们已经探索了这个概念，那么下一个合乎逻辑的步骤是什么？我会说，你自己试试吧。我提到的许多 orchestrator 工具都提供了开源版本，所以现在是时候尝试一下了，看看哪一个最适合您和您的组织的需求。在 HashiCorp，我们的工具是 Nomad，我们提供许多[学习途径](https://learn.hashicorp.com/nomad)来帮助你开始。希望这篇文章激起了人们对管弦乐队的好奇心，并消除了一次尝试多个管弦乐队的恐惧。

通过 Pixabay 的特征图像。

目前，新堆栈不允许直接在该网站上发表评论。我们邀请所有希望讨论一个故事的读者通过 [Twitter](https://twitter.com/thenewstack) 或[脸书](https://www.facebook.com/thenewstack/)访问我们。我们也欢迎您通过电子邮件发送新闻提示和反馈: [feedback@thenewstack.io](mailto:feedback@thenewstack.io) 。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>