# 打破宣传:无服务器何时可行，何时不可行

> 原文：<https://thenewstack.io/cutting-through-the-hype-when-serverless-works-and-when-it-doesnt/>

CircleCi 赞助了这篇文章

围绕无服务器架构以及它们如何帮助开发团队削减成本和卸载管理任务，有很多积极的言论。关于它能做什么，以及何时和如何使用它，也有一些误解。为了深入了解无服务器架构的实际用途，CircleCI 的首席技术官罗布·祖贝尔(Rob Zuber)采访了 Stackery 的首席执行官内特·塔加特(Nate Schmidt)，stack ery 提供无服务器操作控制台，帮助开发团队构建无服务器应用程序。以下是对话中的一些亮点——要了解更多，请观看[视频](https://www.youtube.com/watch?v=2cHfpYhlPQA&feature=youtu.be)。

[https://www.youtube.com/embed/2cHfpYhlPQA?feature=oembed](https://www.youtube.com/embed/2cHfpYhlPQA?feature=oembed)

视频

你能给我们简单介绍一下无服务器意味着什么吗？

[![](img/ed74d3d18ca0624073b440eeec27874d.png)

罗伯·朱伯

Rob Zuber 是一位有 20 年软件创业经验的老手——四次创始人，三次首席技术官。自三年半前加入 CircleCI 担任 CTO 以来，Rob 见证了该公司 1800 万美元的 B 轮和 3100 万美元的 C 轮投资，并实现了大规模的产品创新。在同一时期，Rob 将 CircleCI 的工程团队扩大了四倍，被《旧金山商业时报》评为湾区最佳工作场所之一。在加入 CircleCI 之前，Rob 是 Distiller 的首席技术官和联合创始人，Distiller 是一个针对移动应用程序的持续集成和部署平台，于 2014 年被 CircleCI 收购。在加入 Distiller 之前，他共同创立了在线社交市场 peripheral。在 periphery 之前，Rob 是 Yoohoot 的首席技术官和联合创始人，yoo hoot 是一家让当地企业与附近消费者联系起来的技术公司，于 2011 年被 Appconomy 收购。Rob 拥有安大略省金斯敦皇后大学的应用科学学士学位。](https://circleci.com/) 

内特:我认为最好的开始是承认“无服务器”是世界上最愚蠢的名字。有*个*服务器——你的代码将在服务器上运行。

亚马逊有一个很好的表述方式:你外包管理服务器的无差别的繁重工作。这里的想法是，你专注于你的应用程序，而你用一个无服务器的解决方案将你的代码交付给云提供商。他们负责扩展、可用性和协调，而您则专注于应用开发和交付。

人们应该从哪里开始使用无服务器计算？在无服务器的世界中，最容易建模的应用程序是什么？

**Nate:** 我们看到大多数公司从低可见性和关键度工作负载开始试水。它几乎总是一个后台任务——类似于一个 cron 作业脚本，每晚或每周运行一次，位于 AWS EC2 实例上。对于您的第一个无服务器应用程序来说，这是一个很好的切入点。

无服务器应用程序将会发生的情况是，您的功能将按需启动。你将为它运行的几秒钟或几分钟付费——然后它将关闭，剩下的时间你不用付费。成本节约是人们所指的，而真正的优势是不必管理运行这些小服务的基础架构。

一旦人们开始执行这些任务，他们就会着眼于更高可见性和更关键的无服务器应用程序。通常，前进的道路是使用无服务器应用程序来支持 API 或作为微服务模式的一部分。与其决定重新构建整个应用程序以便它可以在无服务器上运行，不如将应用程序的一些组件迁移到无服务器上。

**罗布:我认为人们很难像理解 cron 作业的价值一样，将 API 这样的东西概念化为无服务器。他们不认为 API 是一种功能，因为它总是打开的，总是在监听。如果人们打算考虑 API 的无服务器，他们需要建立什么样的心理联系？**

**内特:**我想我们在这里用几种不同的方式谈论功能。您有自己的代码、构建模块和组件。您已经编写了一个代码函数，现在我们要按需运行它。这似乎并不十分令人困惑。但是有点棘手的是，这些短暂的计算实例可以封装比单个文字代码块更多的代码。

您可以做的是构建一个应用程序，然后按需运行该应用程序。我们可以决定，当一个 API 被命中时，它将触发一个代码块运行，这就是功能即服务。我们也可以变得更复杂。我们可以构建一个完整的应用程序，将其装载到我们想要使用的任何计算功能中，然后决定当 API 端点被命中时，我们将通过应用程序路由它——就像我们对长期服务器应用程序所做的那样。然后我们将选择正确的代码块在代码中运行。

关于无服务器有哪些误解？关于无服务器的哪些想法与它所提供的不太相符？

Nate: 现在，无服务器无疑是热门话题，引起了很多热议。随着人们开始接受它，我们听到了一些常见的误解。其中最大的一个问题是，无服务器不需要运营，您不需要管理基础架构方面的任何东西。这显然是不真实的。当然，有些运营职责是可以外包的。例如，您不再需要管理应用程序的流程编排，而可用性和负载平衡等工作作为托管服务的一部分在幕后进行。

当我们谈论无服务器时，我们实际上是在谈论计算，仅此而已。但是没有一个真正的应用程序是仅仅依靠计算来构建的。您将会有依赖性、第三方服务、内部服务、数据存储和网络需求。这些都是你仍然需要管理的部分。

**罗布:谁*不应该*使用无服务器？有哪些不好的用例？**

**Nate:** 一个明显的例子是，您有一个长期运行且非常可预测的工作负载，每天都有一个三小时的批处理作业。如果是这种情况，并且您擅长启动服务器，运行它，然后关闭它，坦白地说，这可能是一个更好的解决方案。

如果您需要大量的资源，如高内存和大量的磁盘空间，无服务器可能不是一个好方法。但是，如果您无法预测容量，并且您正在处理大量小型事务性工作负载，那么无服务器真的很好。

通过 Pixabay 生成的特征图像[。](https://thenewstack.io/?p=5176034&preview=true)

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>