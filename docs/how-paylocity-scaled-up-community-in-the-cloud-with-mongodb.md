# Paylocity 如何使用 MongoDB 在云中扩展社区

> 原文：<https://thenewstack.io/how-paylocity-scaled-up-community-in-the-cloud-with-mongodb/>

依靠模糊的理由和要求来合理化云迁移项目——例如“我们需要现代化”或“我们的竞争对手正在这样做”——不会产生最佳结果。它甚至可能产生比它想要解决的问题更多的问题。

云的成功，尤其是在迁移内部构建和运行的产品或服务时，植根于清晰的业务目标和支持这些目标的技术需求。这些为理解(和衡量)成功是什么样的创造了具体的框架，然后将这些条件带入生活。

Paylocity 正是这种情况，该公司是薪资和人力资本管理(HCM)软件解决方案的领先提供商，处理从薪资到招聘和入职的一切事务。虽然这些是长期的人力资源需求，但服务于这些需求的现代平台，如 Paylocity，也越来越多地寻求将软件应用于更抽象(但同样重要)的需求，如文化——当你可能只能在屏幕上而不是在传统的办公室里看到你的同事。

在这种情况下，Paylocity 的社区产品已经成为其增长最快的工具之一。社区使雇主和雇员能够在线联系和发布消息，分享反馈，发布视频，甚至庆祝生日。像 Paylocity 的许多平台一样，Community 是在内部构建和运行的。

从数据库的角度来看，Paylocity 选择了关系数据库管理系统(RDBMS)。但该公司的开发人员开始触及他们自己的基础设施的外部极限。为了保持发展势头并继续提供客户期望的优质服务，Paylocity 需要一个经济高效、可扩展、高性能且维护需求最低的文档数据库。

为了找到最适合这项工作的工具，Paylocity 通过自己的评估清单运行了几个选项，并在这些选项上测试了部分实际应用程序。但是没有人能够检查无缝迁移的所有选项，直到它登陆 [MongoDB。](https://www.mongodb.com/cloud/atlas/?utm_content=inline-mention)

Paylocity 的首席工程师 [John Wiegert](https://www.linkedin.com/in/johnwiegert/) 告诉 New Stack，“我们需要一个平台，它能够不断更新新的查询更新、新的性能优化，并消除本地或其他解决方案带来的运营负担。”。这种需求变得越来越迫切，Paylocity 预计其平台的年增长率将达到 60%。

使用 MongoDB Atlas 基本上将该公司的数据库维护工作减少到了零，同时使其性能速度提高了五倍，而成本仅为以前的 RDBMS 解决方案的五分之一。

下面是解决方案是如何产生的，以及公司学到了什么。

## 规模，两种方式

“规模”本质上有双重含义。该社区不仅每月活跃用户增长了 40%,同时还推出了新功能，如视频功能，使用率高达 90%。同时，处理超过 1 亿个 API 请求。

“这是一个非常积极开发的应用程序，”威格特说。

据 Wiegert 和 Paylocity 的首席[数据科学](https://thenewstack.io/why-data-jobs-are-hot-and-how-to-get-one/)官兼 data insights 副总裁 Adam McElhinney 说，该公司意识到其传统的 RDBMS 基础设施将无法适应这种类型的增长。

“我们看到增长数字看起来像这样，我们知道我们有硬上限和我们的传统技术，在某个时候我们将达到我们可以扩展的上限，”McElhinney 说。

在产品开发和增长方面升级的潜力，以及坚持现状的潜在负面影响，包括维护问题、成本超支、缺乏灵活性和糟糕的开发人员体验，为将社区应用迁移到 MongoDB 基于云的开发人员数据平台提供了一个令人信服的业务和技术案例。

“这使我们能够继续这种增长轨迹，而用户不会看到任何中断，”McElhinney 说。

从 Weigert 和他的团队手中接过基础设施维护和其他运营工作是 MongoDB Atlas 的一大卖点，因为随着他们继续添加新功能，将灵活性和选择权还给开发人员。

“我们的运营负担减轻了很多。我们可以越来越专注于构建应用程序和功能，这是我们作为开发人员最擅长的，”Wiegert 说。“我们不必担心(客户的)使用量会有多大。"

这是一个足够成功的故事，McElhinney 说 Paylocity 现在正在积极寻求增加公司的云足迹。借助 MongoDB Atlas 和开发人员数据平台，他的团队可以利用紧密集成的数据集合和应用程序基础架构构建模块，快速创新并解决任何大规模应用程序需求。

## 关于您自己的云迁移的 3 个技巧

希望采用或发展类似混合模式的团队——尤其是希望将现有应用程序迁移到云中的团队——可以借鉴 Paylocity 将其社区产品迁移到 MongoDB Atlas 的经验。以下是 Paylocity 故事中的三大要点:

### 1.从业务成果开始。

请记住，云中的成功不是来自模糊的目标。

在 Paylocity 的案例中，它从根据业务目标设定具体目标开始。只有这样，他们才能确定实现这一目标所需的技术解决方案。不要反过来尝试。

“我们认为非常重要的一点是，要确保你所有的技术创新都是从非技术或商业成果开始的，”McElhinney 说。

支付能力需要同时支持快速产品开发和快速客户增长；从 RDBMS 迁移到 MongoDB 的灵活文档模型是由此而来的技术目标——而不是相反。

### 2.确保你的团队能够应对学习曲线。

“对于那些正在考虑做类似事情的人，我要重申的一件事是:确保你真的想通了你的员工的培训计划是什么样的，”麦克埃尔希尼说。

在[培训和学习新工具或技术](https://thenewstack.io/you-cant-hire-your-way-out-of-the-cloud-skills-shortage/)的过程中，要么沉要么游的方法很可能会降低你的速度，或者导致最终用户可以看到的中断，这是 Paylocity 想要消除的。您的供应商应该是资源:当您评估一个新的工具提供商时，总是询问他们提供什么样的培训支持。

McElhinney 说:“我们发现 MongoDB 是一个很好的合作伙伴，它为我们提供研讨会、优秀的文档和其他培训材料来帮助我们的开发人员。”。

### 3.重新思考你的设计模式。

将工作负载从内部环境迁移到云有多种模式，但它们提供的结果并不完全相同。提升和转移方法只是复制了传统数据中心的复杂性和缺点。

McElhinney 说，为了充分利用云的能力，团队需要问:“我如何才能重新架构它，以利用这种不同的范式？”

例如，随着 Paylocity 的数据科学团队扩大了其云足迹，它不得不重新思考如何运营机器学习模型。它采用无服务器架构来优化和充分利用云的原生功能。

“我们需要在一个月内运行数千万个机器学习模型预测，”McElhinney 说。“利用无服务器体系结构为我们提供了一种快速提供这些预测的方法，这样无论后端工作负载如何，客户端都可以快速获取数据。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>