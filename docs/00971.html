<html>
<head>
<title>Get Legit with Git (and GitHub): The Art of the Commit Message</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">合法使用git(和GitHub):提交消息的艺术</h1>
<blockquote>原文：<a href="https://thenewstack.io/getting-legit-with-git-and-github-the-art-of-the-commit-message/#0001-01-01">https://thenewstack.io/getting-legit-with-git-and-github-the-art-of-the-commit-message/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">欢迎回来，饭桶朝圣者！到目前为止，在我们关于git和GitHub的系列文章中，我们已经学习了<a href="https://thenewstack.io/tutorial-git-for-absolutely-everyone/" class="local-link">基本的Git命令和Git工作流</a>。然后，<a href="https://thenewstack.io/tutorial-git-for-absolutely-everyone/" class="local-link">如何与GitHub.com合作，将项目代码</a>上传到我们GH账户的一个存储库中。第三部分是如何通过<a href="https://thenewstack.io/dont-mess-with-the-master-working-with-branches-in-git-and-github/" class="local-link">与Git和GitHub中的分支</a>合作来管理和更新项目。我希望你已经完成了你的家庭作业。什么事？很好。让我们继续前进！</p>
<p class="translated">一个非常重要的Git概念是<a href="https://help.github.com/articles/github-glossary/" class="ext-link" rel="external ">Git提交</a>。回想一下，当您保存对项目存储库(或一组文件)的更改时，Git中会发生提交，就像在那个确切的时刻制作项目的快照一样。这就像每次有更改时Google docs如何归档一样，除了git为每次提交创建一个唯一的名称(也称为“SHA”或“hash”ID)来记录做了什么更改，以及何时由谁做的。</p>
<p class="translated">提交几乎总是包含一条提交消息，在这里你可以写下所做更改的简要描述。提交消息基本上是提交工作流中最重要的部分，因为它不仅记录了更改的内容，还记录了更改的原因。不幸的是，许多开发人员没有暂停片刻来精心制作一个好的提交消息，以伴随和解释从上一次快照到当前快照之间进入他们项目的所有艰苦工作。但是这样做——努力向未来的你清楚简洁地解释你在这个特定的承诺中到底做了什么——是非常非常重要的。</p>
<div>
<dl id="attachment_4839474">
<dt>
<p/><div class="wp-caption alignright"><img decoding="async" loading="lazy" src="../Images/df1ef7a90b542474105aa90af0dc82b1.png" alt="" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/05/f8811667-xkcd_git_commit-300x171.png"/><p class="wp-caption-text translated">来自xkcd。经许可使用。</p></div></dt>
<dd/>
</dl>
</div>
<p class="translated">Git和GitHub提供了各种不同的工具来打开一个项目，查看两次提交之间到底发生了什么变化——例如“<a href="https://git-scm.com/docs/git-diff" class="ext-link" rel="external "> git diff </a>”。然而，一个精心制作的提交消息的美妙之处在于，它使您不必去寻找、弄清楚并使用那些工具，因为您已经在提交消息中对此写了一个简短、巧妙的总结。</p>
<p class="translated">将提交日志视为项目的新闻源会有所帮助。这类似于略读Reddit上的标题来快速总结世界上正在发生的事情:这些标语不需要讲述故事的每个细节。足以让你知道这个故事是关于什么的。下面是一个非常基本的例子，以最后一次提交的形式，来自我们之前的分支教程中的Octo“hello world”示例项目:</p>
<p class="translated">【T2<img decoding="async" loading="lazy" class="aligncenter size-large wp-image-4839513" src="../Images/215edd1a4c87011a3b0f4ec989608e7e.png" alt="" data-id="4839513" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/05/63a9c807-screen-shot-2018-05-25-at-12.42.44-pm-1024x172.png"/></p>
<p class="translated"><img decoding="async" loading="lazy" class="aligncenter" src="../Images/91494ab38ce0922871c750f7ec188f0b.png" alt="" data-original-src="https://storage.googleapis.com/cdn.thenewstack.io/media/2018/05/63a9c807-screen-shot-2018-05-25-at-12.42.44-pm-300x50.png"/></p>
<p class="translated">当与一组项目合作者一起工作时，提交消息对于让每个人都知道其他人在做什么(以及为什么)显然是必不可少的。但是:如果你只是一个人工作，整个提交消息的事情可能看起来有点离题。很明显，你在那里，对吗？因此，似乎只需要拨入一个通用的提交消息。<br/></p>
<div id="crayon-6422e80b56a89221789359" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<pre><span class="crayon-e">Worst </span><span class="crayon-e">commit </span><span class="crayon-i">message</span>,<span class="crayon-h"> </span><span class="crayon-i">ever</span>:<span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">commit</span><span class="crayon-h"> </span>--<span class="crayon-st">m</span><span class="crayon-h"> </span>“<span class="crayon-i">changes</span>”
</pre>
</div>
</div>

<p class="translated">但是:你今天早餐吃了什么？昨天怎么样？一年前的昨天怎么样？看到了吗，时间越往后越难记住细节？现在写一个好的、信息丰富的提交消息有助于将来当你拼命地想弄清楚错误是从哪一点引入代码库的时候，不要打你的脸。</p>
<h2 class="translated">提交消息的艺术</h2>
<p class="translated">那么，如何编写一个好的提交消息呢？</p>
<p class="translated">首先，它需要简短。提交消息通常在Git提交日志的上下文中查看，这里没有多少显示文本的空间。<br/></p>
<div id="crayon-6422e80b56a8f216206631" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<pre><span class="crayon-i">commit</span><span class="crayon-h"> </span><span class="crayon-cn">3a9296f57ac624dd22700943eb2c41964d682c2f</span>
 
<span class="crayon-i">Author</span>:<span class="crayon-h"> </span><span class="crayon-e">Michelle </span><span class="crayon-e">Gienow </span>
<span class="crayon-i">Date</span>:<span class="crayon-h"> </span>  <span class="crayon-e">Fri </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">26</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-st">:</span><span class="crayon-cn">49</span><span class="crayon-st">:</span><span class="crayon-cn">03</span><span class="crayon-h"> </span><span class="crayon-cn">2018</span><span class="crayon-h"> </span>-<span class="crayon-cn">0500</span>
 
<span class="crayon-e">Studious </span><span class="crayon-e">octo </span><span class="crayon-e">says </span><span class="crayon-e">hello </span><span class="crayon-v">world</span>
</pre>
</div>
</div>

<p class="translated">第一行是最重要的，因为它将出现在实际的提交中。所以在这里投入最多的心思和精力。</p>
<p class="translated">也就是说，提交消息可以——也应该——尽可能长或尽可能详细。它们甚至可以跨越多行。Git对提交消息的内容没有任何硬性限制，事实上，如果给定的提交确实需要额外的上下文，您可以向消息中添加额外的文本。段落，甚至。<br/></p>
<div id="crayon-6422e80b56a91947436499" class="crayon-syntax crayon-theme-github-gist crayon-font-liberation-mono crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always">
<p class="crayon-plain-wrap"/>
<div class="crayon-main">
<pre><span class="crayon-e">Studious </span><span class="crayon-e">octo </span><span class="crayon-e">says </span><span class="crayon-e">hello </span><span class="crayon-e">world</span>
 
<span class="crayon-e">Simple </span><span class="crayon-e">Hello </span><span class="crayon-e">World </span><span class="crayon-e">page </span><span class="crayon-e">as </span><span class="crayon-e">placeholder </span><span class="crayon-i">code</span>/<span class="crayon-e">project </span><span class="crayon-e">file </span><span class="crayon-e">for </span><span class="crayon-e">exercise </span><span class="crayon-e">in </span><span class="crayon-e">creating </span><span class="crayon-e">git </span><span class="crayon-i">repositories</span>,<span class="crayon-h"> </span><span class="crayon-e">then </span><span class="crayon-e">branching </span><span class="crayon-e">and </span><span class="crayon-i">merging</span>.
</pre>
</div>
</div>

<p/>
<h2 class="translated">(提交消息)样式的元素</h2>
<p class="translated">Git提交消息令人抓狂的一点是，尽管它们对于良好的协作工作流和项目文档非常重要，但实际上并没有硬性规定。从来没有人从上面把刻有“献上你的承诺”的石板送下来。</p>
<p class="translated">所以，当然，在集体接受的提交消息风格指南的地方(当你最需要它们的时候，它们在哪里？)相反，我们有很多很多关于指导方针和良好实践的文章，如果你只看了几篇，会很快把你搞得晕头转向，因为很多文章直接相互矛盾。</p>
<p class="translated">所以承诺俱乐部的第一条规则是，做对你的项目有意义和有用的事情。</p>
<p class="translated">提交俱乐部的第二条规则是，有一些基本的指导方针，许多开发人员实际上都遵循:</p>
<p class="translated"><strong>使用祈使句</strong>。这是大多数GitHub贡献者实际遵循的提交消息风格的一个元素。命令式意味着编写“重构表单处理程序测试”，而不是“重构”或“重构”“-ed”或“-ing”没有问题，它们只是稍微长一点。这就是为什么这是最常见的提交消息共性:我们都同意输入越少越好。如果另一种风格更适合你或你的团队，那就去尝试吧——试着坚持下去。</p>
<p class="translated"><strong>要简短。详细点。</strong>新提交的主要动力——总结新“快照”中的变化——是提交消息的核心。这种变化的原因应该在你的第一行简洁地解释。将此视为提交的“主题”行，并尽量保持单行(大约70个字符)。然后最重要的细节——几乎是改变的原因——可以作为一个单独的段落。</p>
<p class="translated">别搞笑了。提交消息是一个总结变化的故事:这是我做的事情和我为什么这么做。尽管在提交消息中发泄沮丧情绪很有诱惑力，无论是针对bug、Git，还是您的团队/您自己的愚蠢错误，但不要这样做。当你准备写一条沮丧的提交信息，大意是“$ git commit-m我他妈的讨厌一切”——我们并不是说这不是真的，有时候一个人确实他妈的讨厌一切——这只是没有帮助的信息。信息中的任何内容都应该对参与你的项目的人有价值。发泄也很重要。只是不在“$git commit”中。</p>
<p class="translated"><strong>保持一致。如果所有合作者都同意并遵循集体提交风格规则，你的回购将会变得更干净、更清晰、更易于使用。你不需要精心制作的风格指南；毕竟，提交信息更多的是俳句而不是史诗。通过快速对话建立一些约定，或者快速列出一些该做的事情(不要做的事情也是有用的)来帮助事情更顺利地进行。</strong></p>
<p class="translated">如果您的提交消息风格不一致，或者您只是随意编造，会发生什么？非常糟糕的事情？</p>
<p> </p>
<p class="translated"><iframe loading="lazy" src="https://www.youtube.com/embed/JmzuRXLzqKk?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen="">视频</iframe></p>
<p class="translated">JK！我们都是人。失误时有发生，你可以在下一次提交消息时做得更好。然而，建立并遵循一些这样的风格规则，会使编写提交更容易、更快，因为您不必考虑如何在每次提交时说出“我做了什么和为什么要做”的信息。你做得越多，它就变得越容易，最终会变成自动的。尽你所能写最好的提交消息，这样你的存储库会更好，更有用。</p>
<p class="translated">未来——你永远也不想用拳头打你的脸。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>
</div>
</div>    
</body>
</html>