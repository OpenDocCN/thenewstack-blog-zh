<html>
<head>
<title>Off-The-Shelf Hacker: Comms across Microcontrollers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现成的黑客:微控制器间的通信</h1>
<blockquote>原文：<a href="https://thenewstack.io/off-shelf-hacker-comms-across-multiple-microcontrollers/#0001-01-01">https://thenewstack.io/off-shelf-hacker-comms-across-multiple-microcontrollers/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">到目前为止，我们还没有在<a href="/tag/off-the-shelf-hacker/" target="_blank">现成黑客</a>专栏中花太多时间讨论“设备间”通信。</p>
<p class="translated">所谓设备间，我指的是让微控制器相互对话，以及与nano-Linux系统对话。例如，对一些模拟输入使用Arduino，然后将数据发送到Raspberry Pi进行分析。Arduinos是实时的，可以很好地处理模拟输入。Pi根本不能读取模拟输入，尽管它当然可以处理数据，然后显示在网页上，并发送到云端。如果将这两者结合在一起，你可以提出一些非常有趣和复杂的项目，而这些项目是无法用简单的单个微控制器方法来完成的。</p>
<p class="translated">今天，我们将介绍三种可能用于现成黑客项目的主要机器对机器接口，看看它们的行为，并研究它们在现实世界中的应用。我将掩饰大部分以极客为中心的细节，因为在现成的黑客项目中使用这些接口，你并不真的需要知道本质的深层技术。无论如何，大多数操作细节都是通过软件库抽象出来的。未来的文章将深入探讨你应该知道的重要物理方面，常见的实际应用和你自己项目的提示/技巧。</p>
<p class="translated">我们还将关注“串行”通信方法，而不是并行。串行意味着通过一条线路发送比特序列，也可能通过同一条或第二条线路接收比特序列。并行通过几组电线同时以脉冲形式发送比特。无论如何，微控制器和相连设备之间的几乎所有通信都是串行的，所以这就是我们要讨论的内容。</p>
<h2 class="translated">传统“连载”</h2>
<p class="translated">你可能已经熟悉了微控制器之间的<a href="https://en.wikipedia.org/wiki/Serial_communication" class="ext-link" rel="external ">传统“串行”通信</a>。例如，在Linux笔记本电脑和Arduino之间使用USB电缆，以便通过Arduino IDE实现固件上传和数据监控功能。通常一次只能将两个设备连接在一起。</p>
<p class="translated">Arduino和笔记本电脑之间的USB连接是串行连接。从操作和编程的角度来看电气连接，就从一台机器向另一台机器获取数据而言，笔记本电脑上的USB和Arduino上的TX/RX引脚是可以互换的。请务必检查Arduino IDE中的“通信”示例。您可能还想用您选择的语言扩展您的“串行通信”知识。以下是几个有用的链接:</p>
<p class="translated">Arduino的<a href="https://www.arduino.cc/en/Tutorial/SoftwareSerialExample" class="ext-link" rel="external ">软件序列示例</a>。<br/>T3【Processing.org】连环处理。<br/><a href="https://media.readthedocs.org/pdf/pyserial/latest/pyserial.pdf" class="ext-link" rel="external ">Python py serial库的文档</a>。</p>
<p class="translated">传统串行用于中等高速的有线数据传输。因为几乎所有的微控制器都可以使用它，所以用它来做低带宽的工作，比如来回发送几个字符，既便宜又容易，而且非常普遍。示例包括在Arduino和笔记本电脑之间传输传感器、固件和可能的音频数据。你也可以用它来连接树莓皮和芯片计算机。或者，将一个覆盆子酱连接到另一个上。它也可以处理视频数据。</p>
<p class="translated">它通常使用两根导线和一根地线来传输数据。</p>
<h2 class="translated">串行外设接口</h2>
<p class="translated"><a href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus" class="ext-link" rel="external ">串行外设接口</a> (SPI)用于短距离、高速有线通信，通常在微控制器和外设之间进行。例子包括用SD卡和LCD显示器发送和接收数据。</p>
<p class="translated"><a href="https://thenewstack.io/hacking-hardware-the-never-ending-saga-of-steampunk-name-badge-development/" class="local-link">我的蒸汽朋克会议徽章</a>，包含Arduino Pro Mini和Raspberry Pi model 2版本的SPI通信。</p>
<p class="translated">我的徽章使用Adafruit的1.8英寸彩色TFT LCD显示屏。SPI是这种情况下的首选通信方法，因为它是为快速数据传输作业而设计的。我在我的Torq博士徽章上显示全动态彩色MP3视频，没有任何像素化、图像撕裂或滞后于常规的旧Raspberry Pi model 2。连接到Arduino时，显示速度同样快。当然，当连接到基于Arduino的微控制器时，我们仅限于文本和固件生成的形状和动画。</p>
<p class="translated">SPI使用两条线传输串行数据，一条线用于器件选择，一条线用于时钟同步，另一条线用于地线。每个总线设置只有一个主机。每个从设备都需要自己的电线来选择设备。当你增加奴隶的时候，线的数量迅速增加，这是它的缺点之一。</p>
<h2 class="translated">内部集成电路</h2>
<p class="translated">Inter-IC ( <a href="https://en.wikipedia.org/wiki/I%C2%B2C" class="ext-link" rel="external "> I2C </a>)使用简单的双线总线安排来处理相当低速的数据(高达400Khz)，以促进芯片和设备之间的通信。它是由Phillips在20多年前创建的，在当前的微控制器生态系统中非常常见。它的主要优点是通常允许一个主节点和多个从节点(最多120个)通过其双线总线(加上地)进行通信。一个缺点是高阻抗限制了物理总线的长度，只有几英尺。尽管如此，当您有一堆设备连接到微控制器模块时，这是一个不错的选择。另一个重要特性是，微控制器可以根据需要单独寻址每个器件。</p>
<p class="translated">我目前在旧工作台上没有任何I2C项目。Adafruit有一个小的<a href="https://learn.adafruit.com/adafruits-raspberry-pi-lesson-4-gpio-setup/configuring-i2c" class="ext-link" rel="external ">教程</a>关于设置I2C总线，用树莓派，可能有助于你的理解。该页面还提供了到几个示例项目的链接，您可以构建。</p>
<p class="translated">我会挑选一些I2C设备，把它们放在我的圣诞清单上。当你见到圣诞老人时，请随意向他提起。这一年我一直是个不错的小黑客。</p>
<h2 class="translated">摘要</h2>
<p class="translated">人们仍然会问我这个问题，“<a href="https://thenewstack.io/off-shelf-hacker-arduino-raspberry-pi/" class="local-link">我应该使用哪种微控制器？</a>“看情况。</p>
<p class="translated">在您的项目中让设备相互通信也是如此。也许，你的项目需要一个芯片来和一个树莓派说话。传统的串行通信可能是合适的。也许你有一个彩色液晶显示器连接到你的Arduino。SPI方法是您的首选武器。最后，您可能有十几个设备需要向/从您的<a href="https://beagleboard.org/black" class="ext-link" rel="external "> Beaglebone Black board </a>发送数据。用I2C。</p>
<p class="translated">与任何其他工程解决方案一样，每种沟通方法都针对项目的特定功能和需求。有些方法适用于一种情况，但不适用于另一种情况。像往常一样，设计物理计算堆栈总是要做出妥协。</p>
<p class="translated">希望你现在对自己的选择有了更好的理解。</p>
<p class="attribution translated">特征图片:<a href="https://en.wikipedia.org/wiki/Serial_communication#/media/File:Parallel_and_Serial_Transmission.gif" class="ext-image" rel="external ">维基百科</a>。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>