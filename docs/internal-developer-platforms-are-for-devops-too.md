# 内部开发人员平台也适用于 DevOps

> 原文：<https://thenewstack.io/internal-developer-platforms-are-for-devops-too/>

平台工程的兴起正在改变 DevOps。DevOps 的任务是创建内部开发人员门户来帮助其他人(主要是开发人员)消费服务。但这并不是故事的全部。

我们发现，开发人员本身会从内部开发人员门户中受益，尤其是需要强大软件目录的开发人员团队。即使是从开发人员自助服务(开发人员消费的服务)开始的开发运维团队也会发现软件目录在开发运维方面的优势。让我们进一步探讨这个问题。

## DevOps 有麻烦了吗？

DevOps 如何跟踪分布式应用程序及其运行系统的状态？他们如何理解微服务的现状？他们如何知道每天都有许多部署的环境中发生了什么变化，或者了解这一切的成本？

如果所有这些信息都存在于一个巨大的手动 csv 中，如果它是一个结合了软件和基础设施数据的 git 文件，或者如果它驻留在某个超级工程师的头脑中，那么您就有麻烦了。如果回答一些简单的问题需要很长时间，比如哪些 Kubernetes 集群在哪里运行，或者哪个微服务版本正在生产中运行，那么您也会遇到麻烦。

这种缺乏控制是驱动开发人员和平台团队采用内部开发人员门户的原因，最初的重点是软件目录。但是，内部开发人员门户不应该是关于开发人员的吗——开发人员的体验、可重用的和抽象的开发人员自助服务元素？他们是。但是一个重要的用例被平台工程人员忽略了:DevOps 的内部开发者门户。

## **等等，这不是给开发商的吗？DevOps 可见性案例**

DevOps 可以从内部开发人员平台中受益匪浅，因为他们也需要一个单一的位置来访问有关软件和基础架构的数据，从环境、部署、区域和云资源到微服务。尽管拥有许多 DevOps 工具，但他们不一定有能力将来自 git 提供商、CI/CD、不同云供应商等的所有数据整合在一起。

开发人员需要一个单一的位置来查看手头所有元数据的更改和依赖关系，并能够知道所有成本。在展示 Port 在 DevOps 组织中的平台到平台团队时，我们几乎是偶然发现了这一点。他们没有寻求简化开发人员的生活，而是专注于他们自己，首先让 DevOps 的生活更好，然后才寻求让开发人员的体验更好。

## **护栏和辅助轮**

一位行业资深人士告诉我，他们开发内部开发人员门户的主要原因是为了确保每当启用开发人员自助服务时，都设置了正确的黄金路径，并带有护栏(或训练轮，取决于开发人员和团队)。他们知道不能指望开发人员编写出符合 DevOps 标准的 Terraform 文件。这意味着无论开发人员做什么——从微服务搭建到第二天的行动或提供临时环境——他们都需要护栏。这是通过内部开发人员门户网站提供的，具有类似产品的自助服务界面，不仅减少了开发人员的认知负荷，还让开发人员的生活变得更好——更少的罚单和更少的混乱。

“开发者的请求快把我们逼疯了，”他告诉我。

有趣的是，如果设置护栏是开发者门户的全部，那么记分卡(或 Spotify 后台所谓的“声音检查”)会事后反映这些要求是否得到满足。记分卡很重要，但涵盖所有自助服务行为并提前为每个行为设置防护栏，才是平台工程工作取得成功的真正原因。

## **理清混乱:软件目录**

这听起来很奇怪，但许多提供部分“目录”的工具(比如容器编排工具)显示一个元素的数据，比如一个集群，而不是许多集群，有时几个集群正是 DevOps 希望看到的，因为它们管理多个集群。

开发人员需要访问尽可能广泛的软件目录，正如我们在此处定义的[:“软件目录是基础架构和其上部署的软件的可见性层。理想的软件目录应该显示围绕 SDLC[软件开发生命周期]的整个生态系统:CI/CD 流、开发环境、数据管道、部署和任何云。”](https://www.getport.io/blog/guide-to-internal-developer-portals#51-the-software-catalog)

我们看到过 DevOps 不能跨区域查看所有 AWS Lambdas 的情况(AWS 不提供跨区域视图)。有时，开发人员需要查看当前正在运行的所有服务的所有部署。没有办法从 GitHub 获得这些信息，并在不同的 repos 中查看所有服务的所有部署。这个清单还在继续。

例如，如果所有正在运行的服务没有相同的运行时，就没有一个地方可以看到所有相关的数据(例如，我不能在同一个地方看到所有在 K8s 和 Lambda 上运行的服务)。当 DevOps 无法看到整个组织的所有 Argo CD 应用程序时，也会发生这种情况。

类似地，DevOps 还需要查看内部开发人员门户附带的活动日志，以便他们可以看到谁在何时做了什么，特别是当他们使服务可供开发人员使用时，以防出现问题或出于审计目的。

最棒的是。开发人员将使用相同的软件目录，具有一定程度的抽象和访问控制，因此他们不会被不必要的数据淹没。

简而言之，世界变得越复杂，开发者就越需要开发者门户。

## **工作流程自动化**

在这种情况下，我们讨论的是将开发人员门户作为机器驱动的工作流的一部分。想法真的是一样的。它假设内部开发人员门户是组织中软件和基础设施的唯一真实来源，是微服务及其运行的所有资源和基础设施的实时反映。

在这种情况下，DevOps 使用内部开发人员门户通知锁定服务的工作流，在未达到最低质量水平的情况下失败构建，或者在特定 TTL 后终止短暂的环境。他们也可以使用高成本作为终止的输入。

## **套餐管理**

微服务复杂性是最近开发者门户兴起的驱动因素之一。微服务是模块化的代码单元，旨在供其他软件元素重用。软件包并没有什么不同，相关的安全漏洞是一个非常令人头疼的问题。对于这个问题，市场上有许多安全解决方案，但是内部开发人员门户似乎提供了更好的解决方案，因为它们提供了包可见性、迁移和依赖性管理，类似于软件目录为漂移问题提供的解决方案。

使用内部开发人员门户还有其他与安全相关的好处。所有自助服务操作和开发运维操作都在一个中心位置进行跟踪，并且有一个活动日志，这使得通过 SOC2 合规性检查变得更加容易。此外，如果发生安全事故，解决它将变得更加容易。

当然，要做到这一切，你需要一个好的内部开发者门户，一个健壮的软件目录。尝试港口的[免费版本在这里](http://getport.io)。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>