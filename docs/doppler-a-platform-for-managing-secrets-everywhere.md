# 多普勒:无处不在的秘密管理平台

> 原文：<https://thenewstack.io/doppler-a-platform-for-managing-secrets-everywhere/>

坐在坎昆的热水浴缸里，[布莱恩·瓦莱伦加](https://www.linkedin.com/in/vallelungabrian/)意识到他的密码机器学习市场项目不会成功。考虑了一系列问题，其中包括管理秘密、环境变量和应用程序配置的难度，他得出的结论是，这个项目不会让他放弃他的日常工作，当时他是优步的软件工程师。

为了从项目中挽回一些东西，他在 COVID 之前参加了旧金山的一次晚宴，约有 50 或 60 名创始人和开发人员参加，并询问这对其他人来说是否是一个问题。

“这就像是一个痛点。有很多不同的痛点，都围绕着同一个问题，同一个根本原因。对我来说，它们都很痛苦，”他说。

大约一半的人告诉他，他们有类似的问题。

“尤其是一个女人，向我跑来。我以为她会在某个时刻踩我，”他说。“她说，‘这个星期我已经停电三次了。周日之前拿出解决方案。我当时想，‘不，不，不，不可能这么快就造出东西来。这是一个星期三，我不能及时做它。

“[然而]它告诉我，这是一个真正的问题。…所以我去看看市场，我意识到个人爱好项目的开发人员在苦苦挣扎，中型企业在苦苦挣扎…甚至企业客户也在苦苦挣扎。”

他发现一些公司使用自制的工具，这些工具是他们在“房子”、“哈希公司金库”或者“T2”制造的。环境文件。

“我意识到的事情是，所有的工具都不是为我设计的。他们不是为开发商建造的，”他说。“它们是为安全团队和开发团队打造的。问题是，安全团队确实关心安全性，但他们不关心可用性。”

如果安全团队在购买和评估过程中没有考虑开发人员的可用性，这个工具就不会被采用。

“所以我在想，‘我能不能从一开始就为开发人员设计一些东西，满足开发人员和安全性的所有需求，但它真的是为开发人员体验量身定制的？’”他说。基于这个想法[多普勒](https://www.doppler.com/)诞生了。

## 跨项目、基础架构的协作和管理

Vallelunga 将 Doppler 称为“通用秘密平台”，区别于“秘密管理器”一词，后者用于描述存储用户数据，如信用卡或地址，而不是应用程序数据，如 API 密钥、数据库 URL 等。多普勒只关注应用程序的秘密。

随着公司越来越多地使用混合基础设施和 Twilio 和 Stripe 等第三方服务，开发人员需要管理的秘密数量呈指数级增长。安全错误配置位列开放 Web 应用安全项目(OWASP) [十大安全漏洞列表](https://thenewstack.io/owasp-top-10-a-guide-to-the-worst-software-vulnerabilities/)中，该组织建议使用自动化来确保开发、QA 和生产环境的配置完全相同，每个环境中使用不同的凭证。

根据 Vallelunga 的说法，为了管理所有这些，开发人员需要 Doppler 提供的三样东西:

*   **加密安全存储。**
*   **一个仪表板**，允许他们以协作的方式管理秘密，因此他们可以编辑、删除它们等等。
*   **和自动化**将这些秘密推到正确的基础设施中，以便他们的应用程序和基础设施可以使用它们。

他坚持认为，这是从本地开发到生产以及在每一个堆栈和基础设施上工作的唯一解决方案。

Doppler 的设计非常接近 GitHub，所以开发人员会很熟悉它的使用。GitHub 有仓库，仓库有分支，分支有代码。在 Doppler 中，你有项目和项目内的环境，如 staging/QA 或 production 这些环境有保存秘密的配置。

“多普勒驱动的价值不在于它是一个在一个位置存储和管理秘密的地方。而是它适用于所有位置、所有项目、所有环境、所有云基础架构和所有设备。和你所有的开发者，这是真理的一个中心来源，”Vallelunga 说。

在每个环境中，都有一个根配置，即秘密的主列表，您可以在其中更改或添加一个秘密。

它存储 JSON 和环境变量。

“许多开发人员真的很难理解那些超过一行的秘密。… Dopper 只是让它变得非常非常简单，”他说。它还允许开发人员给秘密添加注释。他们可以设置定期提醒。如果一个秘密在 30 天内过期，他们可以设置一个重复出现的提醒来通知团队轮换这个秘密，删除它或者其他什么。所有的更改都是版本化的，就像在 GitHub 中一样，所以开发人员很容易知道发生了什么变化，他们可以通过时间点恢复随时回滚。该公司同时运行两个基础架构，如果发生中断，可以在 DNS 层进行切换。

通过自动化，它可以跨环境和团队同步分发。通过所谓的“分支”，每个工程师都有一个分支配置。如果有变化，他们会立即得到通知。

它使用端到端的加密通信通道，严格执行 SSL/TLS，并需要有效的证书链和类似于支付处理器 Stripe 的[令牌化流程](https://docs.doppler.com/docs/security-fact-sheet)。

在《福布斯》的一篇文章中，[杰夫·奎瑟](https://www.linkedin.com/in/jeffrey-queisser-5761564/)，Box 的联合创始人，[描述了](https://www.forbes.com/sites/frederickdaso/2020/10/06/doppler-raises-23m-from-sequoia-and-kleiner-perkins-to-create-the-first-universal-secrets-management-solution-for-developers/?sh=41a6c4103e5c)建立一个内部秘密管理系统，补充道:

“Doppler 对我们来说是一个巨大的帮助，因为他们结合了我们必须建立的许多元素，例如强大的基于角色的访问控制，谁可以看到和修改什么秘密；一个伟大的命令行和网络界面管理机密；任何与机密的互动的审计跟踪；用于更新和分发秘密的内置网络；以及所有的后端加密和安全控制来保证秘密的安全。简而言之，这会节省我们大量的时间和麻烦。”

## 关注企业市场

这家总部位于旧金山的创业公司成立于 2018 年，已融资 880 万美元，最近一轮融资是在 3 月份宣布的 650 万美元，由 Alphabet 的 GV 基金牵头，Y Combinator，红杉资本和其他公司加入。

该公司已经从最初的版本走了很长一段路，当时 Vallelunga 召集了一群潜在用户，实施他所谓的“Chipotle 销售策略”。他带他们去了餐馆，并提出如果他们愿意听他的推销并尝试一下，就给他们买菜单上的任何东西。据报道，他在那上面花了大约 1000 美元。(不是他现在推荐的销售策略。)

前 Instagram 的 Ruud Visser 和前贝莱德开发人员 Thomas Piccirello 是创始工程师。Vallelunga 最近入选了福布斯企业技术 30 岁以下 30 人榜单，他是首席执行官。首席技术官 Piccirello。

现在是一个 12 人的公司，它最近推出了一个名为 [Doppler Share](https://share.doppler.com/) 的工具，旨在使团队能够通过一个过期的链接共享一次性的秘密，如锁箱代码或 Wi-Fi 密码。

尽管迄今为止专注于较小的公司，但它也在关注企业市场，其功能包括令牌管理、[机密引用](https://www.doppler.com/changes/secrets-referencing)、云提供商集成以及对 [SCIM](https://docs.doppler.com/docs/setting-up-saml-sso) (跨域身份管理系统)和 SAML(安全声明标记语言)的支持。)

该公司有一个企业客户处于生产阶段，大约有 15 个处于概念验证阶段。他们要求的一件事是用户组。如果他们有数百名工程师，他们不想逐个管理权限。

它与 AWS Secrets Manager、Azure Key Vault 和 Hashicorp Vault 等大玩家以及 Keeper.io、Akeyless Vault、Keywhiz 和开源知己等公司竞争。

在《新堆栈》的一篇投稿文章中，多普勒的[瑞安·布伦登](https://www.linkedin.com/in/ryanblunden/?originalSubdomain=au)深入研究了[多普勒如何与 Hashicorp 跳马相抗衡](https://thenewstack.io/secrets-management-doppler-or-hashicorp-vault/)。

“Vault 主要针对安全团队，无疑是市场上最具企业能力和可配置的秘密管理器，”他写道。“相比之下，Doppler 是为开发人员设计的，同时还包含安全团队期望从秘密管理器中获得的功能。”

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>