# 创建云原生应用的架构考虑

> 原文：<https://thenewstack.io/architectural-considerations-for-creating-cloud-native-applications/>

云原生软件开发利用云操作模型在现代分布式环境中构建和运行可扩展的应用。大多数用于设计和创建应用程序的[云原生技术](https://thenewstack.io/10-key-attributes-of-cloud-native-applications/)都在不断发展。这就是为什么在本文中，我们将重点关注在创建云原生应用程序之前要考虑的关键方面。

## 从更新应用程序开始

 [苏巴什·纳塔拉詹

Subash Natarajan 是 NTTDATA 的数字咨询和工程副总监；他在通过将尖端技术武器化来帮助企业将其业务目标与 IT 战略联系起来方面拥有超过 10 年的经验。](https://www.linkedin.com/in/subashn/) 

每个应用程序都有自己的资源需求、内在特征和依赖性；因此，在针对云原生优化应用时，必须考虑所有这些特性。

从头开始设计一个[云原生应用](https://thenewstack.io/what-are-cloud-native-patterns-and-how-should-you-use-them/)实际上非常简单；问题是从头开始构建一个新的应用程序是很少的。我们仍处于过渡过程中，成千上万的单片应用程序正在考虑转换到现代应用程序平台。

不管我们采用哪种云迁移策略，有一点是肯定的；应用程序转换过程将充满挑战。应用程序功能及其代码必须分割成多个逻辑单元，为微服务架构及其模式让路。

由于这是一个势不可挡且成本高昂的前期过程，你可能会问自己的问题是，这值得努力吗？在很多情况下，答案是肯定的；创建云原生应用程序所带来的价值远远超过了时间和金钱的投入。一些因素:

*   云原生应用的使用确保了可扩展性，这是使用传统架构不可能实现的，或者成本太高。
*   使用 DevOps 或敏捷原则设计的应用程序允许更快的发布周期。
*   云原生应用天生灵活，这为采用新的革命性技术打开了大门，如机器学习、人工智能、无服务器计算等。
*   通过提供更快、更稳定、更可靠的应用程序，最终用户可以体验到巨大的好处。

以更快的开发周期部署应用程序的能力也为更灵活、创新和更好定制的解决方案打开了大门。所有这些无疑会对客户忠诚度产生积极影响，增加销售额，降低运营成本等。

我们提到过，微服务是云原生应用的基础。然而，它们的真正潜力可以被容器利用，这允许它们打包整个运行时环境及其所有的依赖项、库、二进制文件等。，成为一个易于管理的逻辑单元。然后，可以根据需要按需传输、克隆、存储或使用应用服务。

从开发者的角度来看，微服务和容器的结合可以支持 [12 因素 App 方法论](https://12factor.net/)。这种方法的主要目的是避免程序员在开发现代云原生应用程序时面临的最常见的问题。

遵循 12 因素方法提出的指导方针的好处是数不胜数的。以下是一些最著名的例子。

*   分离基础代码和应用程序的配置，以便于应用程序的维护和开发。
*   推广基础设施即代码(IaC)原则，促进自动化部署。
*   将核心应用程序与其他支持服务分离，允许应用程序代码库按照自己的速度发展。
*   通过 API 广泛使用无状态流程，允许每个微服务与其他微服务隔离，从而提高效率和安全性。

应用程序现代化是一个激动人心的话题。从[现代应用程序开发(MAD)](https://techcommunity.microsoft.com/t5/azure-developer-community-blog/modern-application-development/ba-p/2235485) 方法，到采用云技术所必需的[步骤](https://newrelic.com/resources/ebooks/enterprise-guide-continuous-application-modernization)以及现代化给业务带来的[好处](https://tanzu.vmware.com/content/blog/app-modernization-101)，当然有很多可以谈论的。然而，对于云原生应用程序来说，同样重要的是我们已经提到的其他方面，例如包含 DevOps 和自动化，我们将在下面讨论。

## 把一切都当成代码

在上一节中，我们确定了使用微服务对于从现代应用程序中创造真正的价值至关重要。然而，在云原生开发中采用开箱即用的自动化实践也同样重要。采用这种实践背后的想法可以归结为从整体角度优化现代应用程序开发过程，使所有相关方受益，包括用户和开发人员。

最终目标应该是实现[一切如代码(EaC)。](https://medium.com/swlh/the-beginning-of-everything-as-code-a25c4e9a75e9)您可以想象 EaC 是基础设施即代码(IaC)的一种发展，包含基础设施、平台和应用程序代码库。这种方法允许软件和硬件共享关键优势，例如:

*   在所有级别实施版本控制
*   改善部门间协作
*   组件的模块化
*   支持 DevOps 提出的原则
*   在开发的所有阶段实现自动化的容易程度
*   [通过及时更新防止潜在漏洞，增强了](https://biztechmagazine-com.cdn.ampproject.org/c/s/biztechmagazine.com/article/2021/05/what-devsecops-and-how-can-it-improve-your-security-perfcon?amp)安全性

通过使用持续集成和持续交付(CI/CD)工具在所有级别实现自动化的可能性可能是云原生应用程序最重要的价值。这是因为上一节中概述的所有好处，可伸缩性、快速周期开发、增强的安全性、灵活性和更低的运营成本，都来自于采用敏捷和 DevOps 原则。

尤其是其中一个变得越来越重要的好处就是安全性。根据最近的研究，由于手动处理，对容器和云原生平台的攻击超过 16，000 次。这一惊人的数字进一步凸显了通过自动化实施安全最佳实践的重要性。此外，CICD 过程中的左移方法(SecDevOps)支持在软件开发生命周期的早期阶段进行安全测试，以帮助在早期开发阶段隔离漏洞。

## API 优先的方法

传统上，开发人员更关注代码优先，而不是 API 优先的方法/开发，这可能不适用于当今的现代应用程序开发。因此，首要任务应该是让你的目标开发者从 API 开发开始，然后在此基础上构建软件产品。这种方法将帮助开发人员节省大量工作/时间，同时为现代分布式应用程序奠定基础。

如前所述，十二因素应用程序在其几个原则中指出，应用程序应通过分离/分布服务来设计，并将每个功能作为一个自治的微型应用程序运行，即所谓的微服务。最终，这使得单个微服务严重依赖 API 来有效地相互交互。

从现代和微服务应用程序开发的日益流行来看，API 变得越来越重要，开发者需要将 API 作为他们的一等公民来对待/实践。换句话说，通过实践 API 优先的方法，开发人员现在可以从微服务模式中获得全部好处，并使他们的应用程序能够被 API 经济中最广泛的系统消费。

因为 API 优先的方法分享了应用程序可以被视为连锁服务的生态系统的观点，所以用户界面发出的调用和来自其他应用程序的调用都可以被视为 API 的简单消费者。总而言之，我们可以说这种方法的好处是:

*   降低故障风险，使系统更具可扩展性
*   改进的开发人员体验
*   更快的开发流程，加快上市速度
*   降低开发成本

简而言之，这种方法的可能性是无限的。它不仅通过使用 API 促进了用户和应用程序之间的通信，还促进了内部流程的通信和自动化。

## 结论

在本文中，我们强调了软件开发和部署的云原生方法的关键点，基本上是应用程序的现代化和广义上的代码实现，这意味着自动化、流程可见性和协作。

尽管每个企业可能都有自己的方法来从原生云创造真正的价值，但最重要的是采取行动，因为替代方案(无所事事)会使面对即将到来的挑战的能力面临风险。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>