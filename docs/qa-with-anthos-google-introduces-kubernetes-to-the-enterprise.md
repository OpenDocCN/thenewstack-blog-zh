# 问与答:通过 Anthos，Google 向企业介绍了 Kubernetes

> 原文：<https://thenewstack.io/qa-with-anthos-google-introduces-kubernetes-to-the-enterprise/>

在大型云供应商中，谷歌可能以其深度工程平台而闻名。毕竟是这家公司把开源的 Kubernetes 容器引擎带到了这个世界。但是，要为企业带来 Kubernetes 提供的所有好处——敏捷性、经济性和弹性——还需要一套额外的专业知识。

Will Grannis 出场，他是一位在波音和其他公司工作的企业技术老手。在谷歌，他创建并管理首席技术官的[办公室，这是一家长期以来以没有首席技术官而自豪的公司的一个业务部门。OCTO 的职责是使用谷歌云服务，如托管的 Kubernetes 服务](https://cloud.google.com/blog/topics/inside-google-cloud/octo-google-clouds-two-way-innovation-street) [Anthos](https://cloud.google.com/anthos/) ，与公司最大的企业客户合作。

最近，我们与 Grannis 讨论了 OCTO 如何与企业客户合作，多云的挑战以及 Anthos 在常规 Kubernetes 发行版上提供了什么。

**你为什么要创办首席技术官办公室？**

大约五年前，我们看到越来越多的需求来自我们的企业客户，他们说他们和谷歌之间的桥梁没有像他们希望的那样明确和结构合理。

比方说，我是一家金融服务公司，我一直在涉足 Kubernetes，并在内部构建自己的平台，但我很快发现，在一定规模下，我不一定要自己运营和维护这个平台。实验很棒，但现在我要投入生产。我要再做一点。我在谷歌和谁打交道？因此，如果没有一个明显的切入点，客户将不得不从六七个不同的产品领域收集答案，并自己综合这些答案。

谷歌没有首席技术官。因此，在一个严格的工程、产品、销售、营销职能组织中，我们还必须为自己定义我们希望这份工作是什么样的。我来自企业，而不是纯技术行业——我在航空航天、制造和工业领域工作了 20 年。我总是想，“如果我在谷歌有这个团队，我可以更快地完成技术需求，回到解决方案。”但是一个都不存在。所以我决定建造它。

**那么，你是如何进入办公室的呢？**

首先，我必须为团队的样子打下基础。我认为这将成为企业集成的新模式，云是这一趋势的主要推动力。它涉及多个领域:移动、存储、网络、计算。是 AI，分析。我们必须能够涵盖非常广泛的技术领域。

我们需要在企业中有实际经验的人:不是那些已经构建了产品并把它们发送出去的人，而是那些一直试图弄清楚“我如何集合 14 个不同的供应商来为我解决这个问题？”他们必须更像一个促进者。我不相信天才首席技术官回答所有问题的概念——尤其是在这个多学科、快速发展的世界里。

我相信这是一个同辈群体。因此，我们引入的第一批人拥有企业经验。我们聘请了摩根大通的首席技术官。我们聘请了通用电气医疗保健公司的软件工程主管。所以我们请来了一些有技术基础的人，他们也使用云解决了企业的[问题]。我们把他们放入这个同龄人群体。然后，我们去尝试与客户接触，以合作的方式解决问题。我们真的在学习。

在企业中，CTO 很多时候是一个合成器。我的关系通常是与业务线的关系，他们会说，“我们想建立一个新的零售银行”或“我们想为我们的客户建立一种新的体验。我们如何做到这一点？”我必须接受这种需求，在广泛的技术服务中考虑它，然后去尝试一些东西。试播一下。

在谷歌，我们没有一个功能，可以从工程内部获取我们的企业需求，收集这些需求，综合它们，与产品领域分享它们，为新兴模式提供这些早期预警信号。

我们已经在 Kubernetes 工作了六、七年，但是我们只是最近，在过去的几年里，把 Anthos 放到了世界上。随着 Kubernetes 在整个社区的兴起，开发者和运营商可以说一种共同的语言，即使他们使用不同的云提供商。但是这需要几年的时间。我们的团队很早就参与了 GKE[[Google Kubernetes 引擎](https://cloud.google.com/kubernetes-engine/)]的开发，并提供了为什么你应该长期这么做的理由。这是 Anthos 的核心。那是三年半前的事了。

**当你开始与顾客互动时，你发现了什么？**

一个是，尽管我们知道很多技术，尽管我们认为我们知道如何做我们的工作，但我们必须学习很多东西。我们要学习的第一件事是，我们可以带领客户经历什么样的过程，才能与我们使用的谷歌设计思维方法相匹配。Google Ventures 出版了一本名为“ [Sprint](https://www.thesprintbook.com/) 的书，这是我们在 Google 进行产品开发和设计的方式。我们必须利用这一点，并使其适应企业。

我这么说是什么意思？我的意思是，如果客户说，“嘿，我们真的想谈谈我们想做的一件真正具有战略意义的事情，它很复杂，需要多种服务。我们真的不知道如何把它放在你理解的单个产品领域，“我们可能会订婚。我们要问的第一个问题是“你实际上想解决什么问题？”这听起来很明显。而是退一步问，“他们试图解决的问题是什么？”真正开始揭示用户想要什么。他们的客户想要什么？这有助于我们思考多种技术之间的权衡。

> 谷歌的工程方法一直是拆开黑盒，对它们进行特征化和仪器化，然后达到高性能。我们需要，否则我们会倒闭。

如果你是一家公司的首席信息官或技术负责人，目前最令人沮丧的情况是什么？当您进行应用合理化时，您会意识到您已经将所有这些应用程序绑定到大型机，或者它们绑定到此基础架构。试图移动它们会非常困难。

这实际上是谷歌推动容器的原因，因为我们的商用基础设施方法，我们希望能够移动应用程序，并通过实时迁移和无停机时间来更改它下面的底层服务器。我们已经这样做了十多年。然后，我们开始看到客户询问，“有没有一种方法，我们可以编写一次程序，然后让它们位于基础架构之上，即使它来自不同的云或我们自己的私有云？”我们对容器所做的和客户要求的之间有一个模式，容器是一个很好的解决方案。这就是为什么 Anthos 的核心是从容器开始的。

**AWS 和微软看到了同样的模式。你的方法和他们的有什么不同？**

我们使用基于软件的方法。这意味着，我们相信堆栈。如果客户有硬件，他们想在该硬件上安装 Anthos，没问题。有一种方法可以把它放到硬件上。如果他们想利用思科或惠普或其他公司提供设备和硬件，如果他们也能做到的话。所以他们有选择权。他们可以维护一些供应商关系。更多基于软件而非硬件。与其说是一种设备，不如说是一种软件解决方案。

第二件事是我们从容器开始。例如，我们的一些竞争对手从他们的 OnPrem 设备开始，只是将虚拟机从一个位置移动到另一个位置。我们认为这种方法不太管用。我们认为您所做的只是将虚拟机从一个位置移动到另一个位置。这就是为什么从容器开始是我们的道路。我还想指出，我们正在扩展它，我们认为这是未来。谷歌的工程方法一直是拆开黑盒，对它们进行特征化和仪器化，然后达到高性能。我们需要，否则我们会倒闭。

Istio 是一个很好的例子，说明我们如何相信向容器和更现代的编程范式的转移也是向更松散耦合的服务和微服务的转移。有了 Anthos，你就有了 Anthos、容器和核心，但你也有了 Istio，也就是服务管理。让我们允许程序员加入并开发片段，并理解他们的部分如何连接到整体。

**谷歌云正在为客户承担什么样的工作？**

所有形式。我想说，四五年前，这种技术计算出现了大量爆发。一家媒体公司想要进行渲染，他们将多余的本地处理能力输送到云上。类似的，可能是一个金融服务组织，他们使用云作为核心系统的增强。这不再是我们所看到的了。

我们现在看到的是核心工作负载正在向云迁移。这是一个全行业——零售、金融服务、媒体。我们看到，大约 80-85%与我们打交道的公司已经制定了多云战略。

现在这些模式可能有些不同。有时是对存储和计算进行抽象。有时是“我想从不同的云提供商那里获得特殊服务或托管服务。”有时它们是不同的应用，但在公司层面，它仍然是多云。大部分都是混动起步。我们看到，大多数多云模式都将从学习如何实施 Kubernetes 开始，学习如何实施这种新的堆栈，然后获得信心，通过单一控制模型推出公共云。

**我知道所有的云都支持 Kubernetes，但是每个云都有一种“特殊的酱料”，这使得很难[将工作负载从一个云转移到另一个云](https://thenewstack.io/kubemove-move-data-across-kubernetes-clusters-without-proprietary-extensions/)。你建议公司采取什么方法来处理既在云中，又享受每个云的特殊服务。**

第一步是不要从技术开始，并试图将它强加到你的模型中。那些最成功的，他们定义了一个目标，通常是一个多年的目标。他们有这些商业原则，然后他们向后工作到技术。

在什么情况下，组织应该放弃内部管理 Kubernetes，而选择 Anthos 之类的服务？

如果一家大型金融服务公司尝试用 Kubernetes 构建自己的平台化服务，开发者和运营商都很喜欢，然后他们会计算成本，[他们会想]“那么如果我们继续这样做，我们自己设计、管理和运营会带来什么？谁是所有这些的受害者？我们是。这是否意味着我们现在从事基础设施维护业务？”这不是一个好去处，尤其是在一个高度竞争的环境中，人们关注你的股价，也关注你的成本。

那么，管理基础架构真的是他们的核心业务吗？如果是的话，我们就来谈谈吧。如果不是，首席财务官们会提出更多的问题。首席执行官和董事会提出了更多的问题，“我们真的很高兴发现了这些模式，但有没有可行的解决方案来管理这些问题呢？通过严格的策略治理、我们控制的密钥、所有不同的功能、安全性、大规模遥测的策略管理，我们可以描述它的特征并让人们对性能和可靠性负责？如果有的话。为什么我们仍然选择运行这个？”

快进两年半后。我们有 Anthos。既然有了这些选择，自己构建它的理由就变得更加困难了。

我想说的是，我们今天看到的用于管理您自己的基础架构的大多数使用案例都属于几个类别。一个是，你处于一个高度监管的市场，因此你在一个监管和商业战略尚未协调的地方运营。因此，在没有一些保证的情况下，你不会去冒很大的风险，因为你不能保证在正常的环境下以正确的方式去做。

我们看到的第二件事是，假设你是一个国防承包商，举例来说，你必须根据你所在的客户群来划分你的项目。这需要高度的潜在高空气间隙或断开模式。随着时间的推移，这是需要关注的用例之一。但是现在仍然很难(作为一种服务)。

**OCTO 对工程师有什么反馈机制吗？**

所以我们住在谷歌的工程部。所以在谷歌，我们是研发成本，而不是销售团队。因此，我们花了大约 60%到 70%的时间与客户在一起，但我们花了 30%的时间与工程团队在一起，综合我们所听到的并分享回来，这样他们就可以有这个轮班预警系统。你可以想象像我们这样的公司，我们想要横向的洞察力，对吗？我们希望了解金融服务、零售媒体、医疗保健、公共部门正在发生什么，以便我们能够建立尽可能适用于所有这些领域的基础设施和技术。

因为我们不是任何单独的产品领域，也因为我们不局限于任何特定的 GA 或垂直领域，所以我们提供了良好的水平。云拥有工程、销售、营销和产品，而 OCTO 是唯一横向贯穿所有领域的功能。我们的客户也是如此。所以我们一直在寻找模式。我们实际上有内部分享这些新兴主题的编程方式。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>