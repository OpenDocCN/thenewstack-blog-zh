# 让变化和不确定性推进你的软件架构

> 原文：<https://thenewstack.io/letting-change-and-uncertainty-advance-your-software-architecture/>

CircleCI 赞助了这篇文章，期待 2020 年 10 月 6-8 日的[混沌大会](https://www.chaosconf.io/)。

CircleCI 代码库的第一行是在近九年前编写的。在这些年里，有三个主题帮助我们在面对未知时变得有弹性:推迟处理变化的需要，像产品经理一样思考，保持头脑清醒。

## 很难预测未来

 [罗伯·朱伯

作为 CircleCI 的首席技术官，Rob 帮助做出重大的技术决策，并让团队保持愉快，远离麻烦。当他不与 CircleCI 团队一起测试和不断改进时，Rob 喜欢滑雪、Funkadelic 和粘稠的卡布奇诺。](https://www.linkedin.com/in/robzuber/) 

虽然技术领域在不断变化，但您的业务和组织也在不断发展，这两者都对您的架构决策产生了重大影响。但是有很多方法可以让你设计的软件和系统对变化更有弹性。

在早期，CircleCI 应用程序是一个整体，它将客户的构建及其相关数据放入几个 LXC 容器中的一个。我们构建的每个容器都是从同一个映像实例化而来的，该映像包含了我们认为任何人在他们的测试环境中都想要的所有东西。事后看来，这听起来像是一个可怕的想法，但在当时，它易于维护，并且支持我们早期客户的需求。

随着时间的推移和我们客户群的增长，他们在测试环境方面的需求也越来越多样化。当我们重组系统以适应不断变化的市场时，我们可以问:“我们如何才能更好地为增量变化做好准备？”

这么说听起来很奇怪，也很不公平，但是大多数时候我们甚至不知道我们正在做一个重大的设计决策，因为备选方案还没有出现。你如何防范这种情况？

## 推迟，推迟，推迟

如果你能找到一种等待足够长时间的方法，正确的解决方案往往会自己显现出来。技术要么获得牵引力，要么消亡。如果你在 2016 年选择了一个容器编排引擎，你有大约 20%的机会选择 Kubernetes。但到 2018 年初，几乎 80%的公司都在转向 Kubernetes。

所以，推迟可能是好的。虽然推迟到制造危机的地步不是。

## 像产品经理一样思考

你的架构是一个有漏洞的抽象。虽然 CircleCI 可能是这种情况下的一个极端例子，但是由于我们的客户可以访问我们平台中的系统，所以在您定义您的架构时，总会对客户产生一些影响。认识到这种影响，并能够连贯地讨论方法和替代方案，是工程师可以带给他们的项目经理和团队的巨大财富。

当我们目睹客户构建软件方式的所有这些变化时，有一件事我们忽略了太久，那就是 Docker 的崛起。2014 年，Docker 推出了一个叫 libcontainer 的东西。他们分离了对底层系统的访问并创建了执行驱动程序，这很快导致了 LXC 驱动程序的过时。令人失望，但它仍然有效。然后，Docker 删除了所有 LXC 支持。那很糟糕。

## 永远为用户着想

作为工程师和建筑师，我们看到了这一点。但坦率地说，这是在我们的产品团队的雷达下。我们的非技术产品人员不一定理解其中的含义，但我们的工程师每天都在谈论它。因此，作为一名工程师、架构师或技术领导者，您需要思考产品的方向，并与您的产品经理合作，以确保每个人都理解技术选择的含义。

更好地理解您的架构和您的客户所实现的价值之间的关系，将使您能够随着您的业务发展，就构建什么和如何构建做出更明智的决策。然后，你可以专注于走在进化的前面。

## 抬起你的头

我是加拿大人，不出所料，我是打冰球长大的。在我的整个童年，我花了无数的时间练习滑冰:向前、向后、转弯、停车、绕着圆锥体做 8 字形。这个想法是让基础变得几乎毫不费力，这样你就可以把你的精力放在新的东西上。

在软件领域，我们有一种不良倾向，那就是通过采用我们认为会改变游戏规则的新技术，使基础变得比应该的要难得多，但最终只有适度的提升——如果有的话。当我们将这种努力投入到我们的新技术中时，我们并没有关注我们的系统需要如何发展来满足我们客户的需求。

## 改行当司机

没有一家公司因为一个令人惊讶的新奇或深奥的技术选择而获胜。然而，成功的公司不胜枚举，因为它们能够快速灵活地行动，适应变化。正如我的同事 Bear 所说，“如果一个工具没有帮助，它就不是工具，而是一件苦差事。放下它。”

对于我们中的许多人来说，不可预见的变化是最重要的，在商业中，没有人能够预测未来，这一点比以往任何时候都更加明显。这是一个安全的赌注，通用汽车公司的人没有开始考虑如何利用他们的工厂来制造通风机。

准备好适应变化需要将变化视为你所做一切的驱动力。观察您的市场是如何变化的，并思考它是如何影响您的架构的，这样您就可以有针对性地逐步提高其适应性。

![](img/9140706bbd02ff098af0e0fa33da247b.png)

通过 Pixabay 的特征图像。

目前，新堆栈不允许直接在该网站上发表评论。我们邀请所有希望讨论一个故事的读者通过 [Twitter](https://twitter.com/thenewstack) 或[脸书](https://www.facebook.com/thenewstack/)访问我们。我们也欢迎您通过电子邮件发送新闻提示和反馈: [feedback@thenewstack.io](mailto:feedback@thenewstack.io) 。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>