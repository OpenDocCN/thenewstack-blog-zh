# 如何选择正确的 Kubernetes 数据保护

> 原文：<https://thenewstack.io/how-to-choose-the-right-kubernetes-data-protection/>

[戴尔科技](https://www.delltechnologies.com/en-us/index.htm)赞助了这篇文章。

 [尼瓦斯·伊耶

Nivas 是戴尔技术公司的产品经理和战略合作伙伴领导，以提供创新产品而闻名。他热衷于了解客户需求并提供解决方案。凭借卓越的市场洞察力，Nivas 能够提取关键信息，并快速制定精确的产品响应。](https://www.linkedin.com/in/nivasiyer/) 

毫无疑问，向云原生组织的迁移正在进行中。根据[VMware](https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/microsites/vmware-kubernetes-for-executives-ebook.pdf)最近的研究，未来三年，全球容器实例的数量预计将增长六倍，达到 16 亿个容器，超过 70%的企业预计将完全采用 Kubernetes。

使用 Kubernetes 等容器平台背后的大部分动力是，组织可以迅速开发和发布新的应用程序、功能和规模。事实上，组织正处于变革的数字化之旅，以前所未有的速度创新。

作为数字化之旅的一部分，包括扩展到云原生应用的使用，组织也在规划和执行他们的混合和多云策略。2020 年，全球数据保护指数(GDPI)快照显示，只有 52%的组织报告说缺乏适用于新技术的数据保护解决方案是他们面临的一个挑战。这些组织需要比以往任何时候都更快地保护他们的 Kubernetes 部署，这一趋势正在增长；我的同事 Rob Mossi 在这里写了一些额外的见解:[戴尔 EMC 加速发展 Kubernetes 的数据保护势头](https://blog.dellemc.com/en-us/gaining-speed-momentum-around-data-protection-for-kubernetes/)。

但是你不一定要成为一个诞生在云端的本土公司才能快速创新。从最新的创新者到最成熟的组织都在使用 Kubernetes 来设定快速发展的路线。虽然快速发展和敏捷性是数字化转型的基础，但在这一转变中，数据保护必须承担同等的重量。以下是数据保护应该成为云原生组织发展的关键因素的一系列原因:

*   应用程序配置错误。
*   硬件故障的基础设施。
*   意外或恶意数据丢失。
*   合规和审计。
*   环境迁移，例如从开发转向生产。
*   软件升级。
*   将某些数据库恢复到另一个命名空间，用于开发/测试和分析。

## 首要考虑事项

### **1。数据保护必须捕获整个应用程序状态，而不仅仅是持久数据。**

Kubernetes 传统形式的数据保护面临的挑战是，一些数据保护方法只能保护存储在 Kubernetes 永久卷中的永久数据。

Kubernetes 中这种方法的问题是它会导致配置漂移。例如，假设您定期拍摄数据库应用程序的持久卷的快照。如果有更改，如密码和配置的更改，则需要考虑配置映射和机密的更改，以确保捕获整个应用程序状态。寻找能够捕获整个应用程序状态的数据保护解决方案，包括 pod、机密、服务、部署、证书和配置图以及永久卷。这将确保在应用程序恢复和回滚期间不会出现配置偏差。

请注意，数据保护解决方案应该保护所有组件，而不仅仅是卷。

### 2.为 Kubernetes 选择企业级数据保护解决方案。

虽然有许多小型的基于点的解决方案为 Kubernetes 提供数据保护解决方案，但请寻找一种提供企业级功能的解决方案，如治理、调度、编目、策略、合规性、复制和 SLA。

速度和效率是数据保护存储的关键因素。选择包含端到端数据保护功能的企业级保护目标备份设备或存储，例如客户端重复数据消除和压缩算法，以实现高效存储。此外，寻找提供虚拟和云版本的存储产品，以保护您在云中的工作负载。

### 3.选择利用并有助于开源的数据保护解决方案。

Kubernetes 领域正在快速发展，市场上有许多相互竞争的解决方案。选择利用标准化开源机制进行数据保护的供应商非常重要，这样可以防止供应商锁定，并确保解决方案得到广泛采用。一个这样的开源项目是 [Project Velero](https://velero.io/) ，这是一个由 VMware 和戴尔技术支持的重要开源工具。此外，寻找一种解决方案，添加普通 Velero 版本所不具备的企业级特性和功能。

该解决方案还应该将其功能扩展到 Velero 之外，以便提供可水平扩展的架构。与 Velero 普通版本的序列化备份相比，这有助于确保快速备份和恢复持久卷。

### 4.**用户体验多。**

使用 DevOps，重点是敏捷性和快速部署到生产。一名 IT 运营管理员寻求在发生灾难时最大限度地降低与运行应用程序和数据恢复相关的风险，同时遵守合规性和审计要求。

IT 运营管理员可以创建具有适当 RPO/RTO 目标的集中式策略。Kubernetes 管理员可以处于自助服务模式，这样他们就可以标记需要保护的 Kubernetes 名称空间和应用程序*以及*使用 kubectl 命令直接从 Kubernetes 控制台恢复任何应用程序。

## 结论

总之，现代企业 IT 组织需要一种整体方法来保护您的所有应用程序，包括通过 Kubernetes 协调的容器化部署。随着这一领域的快速发展，使用成熟供应商提供的利用开源标准化解决方案的解决方案非常重要，例如 Project Velero，它已迅速成为 Kubernetes 数据保护的标准。此外，确保解决方案包含新的和不太成熟的解决方案中通常没有的企业级功能也很重要。该解决方案还必须很好地集成到组织的既定文化和实践中，以确保 IT 团队可以协作和独立工作。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>