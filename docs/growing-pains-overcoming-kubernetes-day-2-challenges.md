# 成长的烦恼:克服 Kubernetes 的“第 2 天”挑战

> 原文：<https://thenewstack.io/growing-pains-overcoming-kubernetes-day-2-challenges/>

[](https://www.canonical.com/)

 [斯蒂芬·法贝尔

斯蒂芬·法贝尔拥有十年的实践云架构和产品管理专业知识:从在夏威夷大学运行首批生产 OpenStack 数据中心之一开始；界定、设计和管理苹果、威瑞森和 SAP 等主要客户的全球云实施；基于最大云客户确定的需求的混合云监控工具的 led 产品管理流程。Stephan 在 Canonical 的职位是产品经理，主要负责容器、LXD(机器容器)和平台即服务。](https://www.canonical.com/) [](https://www.canonical.com/)

一次又一次的调查表明，Kubernetes 作为一种在云中自动部署和管理容器化应用程序的工具越来越受欢迎。然而，越来越明显的是，Kubernetes 仍然是一项不断发展的技术，随着它的成熟，它正在经历一些成长的烦恼。

Kubernetes 是在 2014 年由两位谷歌工程师 Craig McLuckie 和 Joe Beda 设计的，尽管随后的四年多时间里它一直是一个不断更新的开源项目，但 Kubernetes 仍然经常感觉它是为其他工程师而不是 it 大众建造的。

在 2020 年及以后，对于开源社区和供应商来说，用更多自动化平台管理的工具来简化和改进 Kubernetes 堆栈将是非常重要的。否则，对 Kubernetes 挑战的幻灭可能会威胁到该技术的发展势头。

> Kubernetes 是由两名谷歌工程师在 2014 年设计的，尽管接下来的四年多时间里它一直是一个不断更新的开源项目，但它仍然经常让人感觉它是为其他工程师而不是 it 大众建造的。

这些挑战对供应商来说是一个机会，他们可以帮助组织根据其特定的工作负载需求正确地设计和构建 Kubernetes 集群，甚至进行持续的监控和管理。

为什么 Kubernetes 正在经历一些成长的烦恼？来自 IT 领域的故事揭示了一个共同的主题:Kubernetes 很难建立和管理。

最简单的问题不是 Kubernetes:一个 CNI(容器网络接口),负责将新创建的容器放到服务器上，并为它们分配网络接口。但是当越来越多的人要求 Kubernetes 作为由多个微服务组成的集群应用的平台时，Kubernetes 就变得棘手了。

## 自定义资源定义

例如，以 CRDs(自定义资源定义)为例，这是 Kubernetes 1.7 中引入的一个特性，它允许用户向 Kubernetes 集群添加他们自己的自定义对象，并告诉它当某些 API 调用进来时如何操作。

虽然 CRD 是一项强大的功能，但它实际上将 Kubernetes 集群变成了自身的可扩展版本，从而增加了复杂性。这需要 CRD 之外的全新考虑:验证规则、控制器、将所有代码部署到 Kubernetes 集群的方法。

这并不是 Kubernetes 需要额外工作来为企业生产环境中的黄金时间做准备的唯一例子。其他包括必须创建云网络负载平衡器以将流量发送到集群节点上的正确端口、监控工具，以及集成到构建管道中。

总的来说，这些过程还没有自动化，需要定制编码。

我听到许多客户抱怨说，虽然他们的 Kubernetes 试点运行顺利并取得了成功，但在“第 2 天”就出现了问题他们发现在生产中升级 Kubernetes 集群时很容易破坏应用程序。这是因为这项工作需要大量的工作负载转移，因为一个节点被隔离并重新填充了容器。

流行的 Kubernetes 相关平台组件已经出现，例如 Istio，它智能地控制服务之间的流量和 API 调用，以及 Linkerd，它是一个轻型服务网格，旨在提供可观察性和可靠性，而无需更改代码。然而，这些工具往往有一个单一的焦点，不一定能很好地配合使用。

安全修补通常是手动过程，而不是在后台自动进行。

用于存储管理、网络管理和资源定义的工具还不成熟。

与 OpenStack 和 VMware 的情况一样，将 Kubernetes 与许多企业仍在使用的单租户裸机服务器相集成也很复杂。

主要的公共云提供商一直在提供服务网格产品，旨在更轻松地控制和监控大规模的容器化应用程序，但许多客户对它们的工作方式和区别感到困惑。

## 前方的路

因此，如您所见，Kubernetes 是一项强大的技术，理所当然地成为了云中容器编排的事实标准。但是，正如易用性和管理问题所显示的，它仍然是一项相对年轻的技术，需要变得更易于使用。

我相信 Kubernetes 社区和许多与该技术有利害关系的供应商将努力工作来实现这一目标。不过，与此同时，许多组织已经决定他们不想自己运营 Kubernetes，而是选择合作伙伴为他们代劳。为什么要扩大内部专业知识来处理 Kubernetes 的复杂性和基础设施上的浪费周期，而不是核心业务？

一个值得信赖的合作伙伴可以处理一系列工作，例如确保无缝迁移到最新的 Kubernetes 版本，轻松集成开源日志、监控、存储、网络和容器运行时，以及对 Kubernetes 集群的全面监控和管理。

重要的新兴技术往往会经历成长的阵痛，Kubernetes 也不例外。幸运的是，治疗是可行的。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>