# 容器打破了云提供商和运营部门之间的责任分担模式

> 原文：<https://thenewstack.io/containers-break-the-shared-responsibility-model-between-cloud-providers-and-ops/>

[](https://www.alcide.io/)

 [加迪·纳尔，首席技术官兼 Alcide 联合创始人

加迪·纳尔作为首席技术官兼 Alcide 联合创始人，拥有 15 年的网络安全产品开发经验。Gadi 将他的管理和技术背景融合在不同的岗位上。Gadi 曾在 CheckPoint 工作，担任业务开发经理和高级开发人员，领导 CheckPoint 的防火墙核心安全引擎和 VPN 软件的开发。然后，他在 Altor Networks 担任高级软件工程师，Altor Networks 是虚拟化数据中心安全领域的先驱，后来被 Juniper Networks 收购，他继续担任高级软件工程师。在联合创立 Alcide 之前，Gadi 是基于微服务的系统 Fitfully 的联合创始人兼首席技术官。](https://www.alcide.io/) [](https://www.alcide.io/)

上个月，谷歌安全团队的 Felix Wilhelm 发现了基本 Linux 网络基础设施中的一个关键漏洞，并由 Red Hat 产品安全部门披露。

该攻击利用了动态主机配置协议(DHCP)消息处理中的一个问题，这是机器自动设置其网络连接的方式。在 DHCP 客户端(DHCP client)包中包含的脚本中发现了一个命令注入漏洞，使得攻击者能够伪装成合法的 DHCP 服务器，发送包含恶意命令的特制数据包，DHCP 客户端可能会无意中执行这些恶意命令。该漏洞会影响 Red Hat 商业企业版 Linux 6 和 7 以及各种 Linux 衍生发行版，如 Fedora & CentOS。

以此漏洞为例，我们可以看到云提供商和他们的客户之间传统的“共同责任”安全模式对于容器化的工作负载变得不那么有效。随着网络插件成为在容器之间提供网络的标准方式，云提供商没有加强自己保护容器的责任，当补丁不足以保护其容器化应用时，安全和运营团队陷入困境。

在这种新模式下，安全和运营团队必须采用新的工具和策略，以确保对集装箱化环境的全面了解。

## 责任分担模式解释

云提供商向他们的客户提供一种“共同责任”模式。这个模型基本上说:你的云提供商负责基础设施和管理云的安全性。作为客户，您有责任保护云中运行的一切。您拥有所有数据、应用程序和操作系统的完全所有权和控制权，但这也意味着您有责任保护它们的安全。

像 AWS Fargate 和 Azure ACI 这样的服务将上述模型扩展到容器领域。对于容器即服务，容器主机(Kubernetes 工作节点)是您的“容器管理程序”，容器网络接口是您的网络转发提供者。

这将我们带到一个点，随着您的环境和提供商的环境之间的界限开始分崩离析，责任界限变得模糊。在传统的共享责任模式下，云提供商将负责保护容器和其他环境之间的网络。然而，正如我们在上述示例中看到的那样，情况不再总是如此，这使得安全和运营团队别无选择，只能承担更多的责任。

## 集装箱网络接口和 CVE-2018-1111

容器网络接口(Container Network Interface，CNI)，一个[云本地计算基金会](https://cncf.io/)项目，由一个规范和库组成，用于编写插件来配置 Linux 容器中的网络接口。该框架只关注容器的网络连接，在容器化部署中大量使用。Kubernetes、Docker 和任何使用 Docker 网络来编排容器网络的东西都支持多个 CNI [插件](https://github.com/containernetworking/cni#3rd-party-plugins)。

在这个由控制工作负载和主机网络之间的连接的网络插件组成的丰富生态系统中，运营和安全团队可能会努力确保正在运行的工作负载不会利用网络横向移动，或者从东西方向移动到主机本身，或者甚至移动到相邻的容器主机。

CVE-2018-1111 及其 DHCP 客户端漏洞是潜在容器泄漏的又一个例子。它可能让容器中的坏代码直接在容器主机上执行命令。针对这种攻击的保护依赖于底层容器网络接口插件的开箱即用的分段和隔离能力。任何可能在容器主机上运行的本地网络服务，如 DHCP、DNS 和 NTP，通常都是基于网络的攻击的嫌疑对象，这些攻击可以促进东西容器逃逸和权限提升。

显然，Ops 和 DevOps 必须将[可用补丁](https://access.redhat.com/security/vulnerabilities/3442151)应用于其数据中心和云运营中所有易受攻击的主机，以防止攻击者接管计算基础架构。

然而，负责保护现代数据中心的团队应该记住，定期向基础架构应用安全补丁的做法正在迅速失去效力。它应该辅之以虚拟工作负载的运行时保护，如虚拟机、容器，甚至连接到网络的无服务器功能。这种工作负载级别的运行时保护必须执行策略，以最大限度地减少网络堆栈中的意外连接路径，并隔离受损的虚拟工作负载。

在一个完美的世界中，云提供商自己将提供这些功能的大部分。然而，运营和安全团队不再能够确切地确定共同责任的起点和终点。实现更高枕无忧的最佳方式是投资工具和程序，以确保更好地了解容器化环境，并提供工作负载级别的保护，作为云提供商产品的附加层。

[埃尔希德](https://www.alcide.io/)赞助了这篇文章。

特征图像通过 pix abay[。](https://access.redhat.com/security/vulnerabilities/3442151)

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>