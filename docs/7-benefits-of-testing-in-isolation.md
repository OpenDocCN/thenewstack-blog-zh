# 7 隔离测试的好处

> 原文：<https://thenewstack.io/7-benefits-of-testing-in-isolation/>

[](https://www.linkedin.com/in/powellronald/)

 [罗恩·鲍威尔

罗恩拥有空间物理学背景，曾作为卡西尼小组成员分析土星磁层中的等离子体。他现在在旧金山的 CircleCI 公司工作，是一名开发人员，倡导开发内容，使开发人员能够更快地构建、测试和部署他们的项目。](https://www.linkedin.com/in/powellronald/) [](https://www.linkedin.com/in/powellronald/)

众所周知，孤立测试成本高昂。彻底执行非常耗时，并且通常需要一个测试环境—有时需要多个测试环境。也就是说，孤立的测试无疑是有效的。

开发人员和 DevOps 工程师可能很清楚隔离测试的基本概念。但是在实践中，独立测试并不那么简单:有很多依赖关系。通常，工作负载管道测试需求是由行业细节和您正在构建的应用程序类型来定义的。例如，测试会计应用程序与测试社交媒体应用程序有很大不同。测试需求也由连接到工作负载的用户或客户的数量、使用的开发语言、测试的有效性需求等等来定义。

在本文中，我们将研究隔离测试的七个好处。除了它的优点，我们还会考虑它的缺点和成本。这样，当您决定将隔离测试引入到您团队的 DevOps 环境中时，您将获得更好的信息。

让我们探索一下隔离测试是如何解决本地依赖性问题、提高准确性、促进清洁生产、支持连续部署、定位棘手的错误、改进设计和性能，以及提供参考文档的。

## 解决本地依赖问题

隔离测试消除了“在我的机器上工作”的问题，确保没有隐藏的本地依赖关系使部署变得复杂。尽管您的开发编辑器的包管理器集成—例如 NuGet for。NET 或 Maven for Java apps——通常管理依赖关系，其他因素如版本控制增加了一个额外的管理层。通过将包管理转移到隔离的测试环境中，开发人员和测试人员保证所有的测试都使用相同的依赖关系。

其他本地问题可能包括固定的驱动器映射或其他配置设置文件，这些文件可能在不同的环境中不匹配。当您的团队在一个隔离的设置中运行测试时，他们会避免错误的配置指针。

## 返回准确的结果

独立测试提供了不太严格的测试方法无法复制的审查和准确性。开发人员从软件内运行的离散系统中获得精确的输出验证。

DevOps 通常独立地对每个模块进行单元测试。开发人员或测试人员不是立即测试整个应用程序的工作负载，而是打开并测试应用程序的每个模块化单元。

这种单元测试实现了高水平的准确性，因为它能够对任何错误进行彻底的测试和故障排除。高准确性是独立测试的最佳动机之一。但是，考虑到所需的时间和精力，这可能会成为一笔巨大的财务支出。

## 促进清洁生产

投资于隔离测试可以帮助您避免昂贵得多的清理工作，如果您的团队将糟糕的代码推向生产，这种清理工作可能是必要的。糟糕的代码会导致后来的问题，这并不奇怪。所以越早验证和阻止糟糕的代码越好。

还记得我们说过隔离测试很昂贵吗？好吧，把糟糕的代码推给用户会让你付出更高的代价。假设您的代码留下了绕过安全性的漏洞，或者数据事务丢失并导致数据丢失。您不想因为忘记充分测试您的源代码而失去一笔百万美元的支付交易。

运行隔离单元测试有助于您的团队检测、修复和避免这些类型的问题。它还允许开发人员从一开始就专注于编写更可靠的代码。测试人员产生更好的测试结果，并且您的业务将受益于工作负载更加可靠和有弹性地运行。

## 支持连续部署

DevOps 团队可以运行隔离测试作为[连续部署](https://circleci.com/continuous-integration/) (CD)的踏脚石。管道是强大的分步任务序列，使组织能够自动化部署流程的几乎每一步，如构建和编译原生源代码、生成基础架构即代码模板或构建容器化工作负载。您还可以将隔离测试集成为您的管道的一部分。

隔离的容器化测试确保代码总是准备好立即部署，并且具有自动部署的潜力。另一个好处是，您不必对当前的 DevOps 管道流程进行任何更改。您只是使隔离测试成为成功管道运行的重要组成部分。

此外，如果您使用您的持续集成(构建阶段)来验证和编译您的源代码，并产生一个工件，那么将隔离测试合并为这个过程的一部分会使持续部署最终运行得更加顺畅。这是因为您能够做更少的故障排除和错误修复。

## 定位棘手的 bug

隔离的容器化测试是一种很好的方法，可以把一个软件分离出来，找到难以解决的 bug 的来源。无论您何时编写测试——在编码过程之前、之中或之后——隔离的单元测试总是能找到 bug。从长远来看，这可以节省您的故障排除和维护工作，最终降低成本。

我们并不是说隔离测试是检测 bug 的唯一方法。其他测试类型也应该有助于将这些问题推到前沿。但是，通过打开应用程序的每个模块，并在一个独立的测试周期中运行它，您的团队极大地减少了遗漏 bug 的机会。

有时组织使用错误计数作为度量软件质量的标准。作为回应，团队可能会试图隐藏这些错误，而不是找到并修复它们。隔离测试降低了这种风险，因为团队在每个级别测试每个独立的单元。

## 改进设计和性能

隔离测试为您的团队提供了一个仔细检查软件的每一个细节的机会，以改进其架构、实现和性能。以前的好处主要集中在寻找棘手的 bug，作为应用程序源代码的核心部分。在这里，我们更关注整个系统。

您可以部署最佳的可用基础架构，旨在实现高可用性和弹性。然而，如果软件处于糟糕的状态，这也无济于事。除了运行隔离测试来识别缺失的依赖项、检测棘手的错误并保证更干净的生产迁移，您还应该考虑验证性能和整体设计改进，作为您的隔离测试场景的一部分。

例如，对于 1000 个并发用户，您的应用程序工作负载可能运行良好。尽管如此，如果更多的用户连接到您的工作负载，这可能会影响性能，甚至更糟，导致停机。孤立地运行性能测试有助于突出系统需求，并使您的团队能够模拟不同的场景，从平均使用到意外的峰值使用。这种模拟可以在灾难发生前识别对应用程序的影响。

停机代价高昂。由于您的团队将时间和精力集中在故障排除上，他们无法开发新功能。如果您的软件是面向客户的，这些中断也会损害您公司的声誉。想象一下，一家金融或保险公司的核心应用程序停止运行。这不是让客户相信公司可靠性的最佳方式。

## 提供文件

最后，隔离测试的另一个好处是它提供了一种工作文档。通过详细的独立单元测试，并迫使测试人员或 DevOps 工程师跟踪要点文档，创建您的组织可以在以后使用的文档来引用给定模块的功能。

例如，拥有独立执行测试的文档可以帮助初级或新的测试团队成员快速上手。它还有助于扩展和优化测试。

当然，每当您的团队将变更集成到应用程序中时，他们将需要保持文档更新，从而改变测试结果和输出，以保持信息的可靠来源。

## 结论

当您在没有全面测试的情况下将应用程序工作负载发布到生产环境中时，证明花费时间和金钱进行更彻底的测试是有挑战性的。

然而，隔离测试过于昂贵，因此不应该进行的想法是一种误解。尽管前期成本更高，但优化的隔离测试会带来更可靠、更稳定、更安全、错误更少、性能更好的应用。测试最终会帮你省钱。

考虑将隔离测试添加到您的 DevOps 工作中吗？权衡这些好处和潜在的成本，以确定如何最好地调整您的软件测试策略。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>