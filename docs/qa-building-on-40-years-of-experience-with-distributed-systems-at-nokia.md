# 问与答:基于诺基亚 40 年的分布式系统经验

> 原文：<https://thenewstack.io/qa-building-on-40-years-of-experience-with-distributed-systems-at-nokia/>

[![](img/d5320db16a183e3972f2f5956121ad54.png)](https://cdn.thenewstack.io/media/2020/09/737125b6-csatari.jpg) 在云原生之旅中，既有适用于几乎所有公司的一般经验和最佳实践，也有特定行业的挑战。云原生旅程不是一刀切的；处理存储、网络、安全甚至备份的最佳方式取决于行业和单个公司的具体情况。

我们采访了电信设备巨头[诺基亚](https://www.nokia.com/)的高级开源专家 Gergely Csatári ，讨论了电信公司在采用容器和 Kubernetes 时面临的具体挑战，以及行业如何应对这些挑战。以下是他对其他电信公司以及迁移到原生云的每个人的最佳实践的看法。

**能否概述一下诺基亚的云原生之旅？什么时候开始的，你成熟到什么程度了？旅程中的主要转折点/里程碑是什么？**

与许多其他电信基础设施供应商一样，诺基亚在实施和利用大规模分布式系统方面有着悠久的历史。早在 20 世纪 70 年代，我们就开始构建自己的集群管理系统，该系统基于专有的硬件和软件。

随着网络功能虚拟化(NFV)技术在 2016 年获得发展势头，我们开始利用 OpenStack 为 ETSI NFV 管理和编排(MANO)标准提供基础设施解决方案和虚拟网络功能(VNFs)。如今，诺基亚的 CloudBand MANO 解决方案已被部署在数百个云部署中，涵盖全球 100 多家服务提供商的数万台服务器。

> 今天，我们使用云原生原则开发我们的所有产品，例如与基础架构无关和使用开放 API，并且我们不断重新设计我们的产品组合，以实现云原生网络功能。

2017 年底，我们开始探索 Docker containers，以此为手段为每个电信运营商提供相同的软件堆栈，无论他们希望在什么基础设施上运行网络，包括 OpenStack、裸机服务器和公共云平台。在开始使用 Docker 容器后不久，我们对 Kubernetes 中基于标签的调度的简单性印象深刻，并开始在 1.0 之前的版本中使用它。

我们的第一款云原生、Kubernetes 管理的电信产品[诺基亚电话应用服务器](https://networks.nokia.com/products/telecom-application-server)于 2018 年初上线。今天，我们使用云原生原则开发我们的所有产品，例如与基础架构无关和使用开放 API，并且我们不断将我们的产品组合重新架构为 CNFs 或云原生网络功能。

Kubernetes 和云原生技术主要是为 IT 工作负载和环境开发的，我们发现它们的网络功能不能满足电信需求。为了解决这个问题，诺基亚开发了一个专有的网络插件，我们将其转化为 CNI 插件，并在后来作为项目 [DANM 开源(该死，另一个网络管理器！)可以在 Github 上找到。](https://github.com/nokia/danm)

目前，我们正在重新思考电信应用和应用套件在云原生世界中的管理方式。我们的方法是依靠 Kubernetes 的编排功能，而不是外部实体，并且只使用两个层次的编排，而不是传统的 MANO 堆栈。

**迁移到原生云最令人惊讶的方面是什么？有什么出乎意料的困难？什么事情出乎意料的简单？**

使用 Kubernetes 的集群管理功能而不是我们的专有解决方案非常简单。另一方面，我们对 Kubernetes 对网络的支持程度有点失望。作为电信供应商，我们需要每个 Pod 有多个接口，为了实现这一点，我们在 DANM 中内置了 CNI 多路复用器功能。

目前最大的挑战是 Kubernetes 实例之间的差异，这会导致集成困难；在某些情况下，需要对我们的部署工件进行更改，这侵蚀了云世界中随处部署的风气。云基础设施电信任务组(CNTT)正在致力于电信工作负载的 Kubernetes 环境的标准化，我们预计这些问题将随着时间的推移而减少。

**你依赖什么开源技术？你能概述一下技术栈吗(包括开放源码和封闭源码)？**

我们提供诺基亚集装箱服务，我们的电信优化 Kubernetes 分配作为集装箱基础设施。它包括 Kubernetes，DANM，CPU Pooler 和其他几个基础设施项目。

在应用层面，诺基亚采用集中管理的软件基础设施目录，其中包含 60 多种云原生软件组件，我们的产品基于这些组件，包括 Prometheus 和 Kubeflow。

**在云原生之旅上，你对其他公司有什么建议？**

总是依赖上游解决方案，并且总是向上游项目引入变更，而不是分叉。

通过 Pixabay 的特征图像。

<svg viewBox="0 0 68 31" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Group</title> <desc>Created with Sketch.</desc></svg>