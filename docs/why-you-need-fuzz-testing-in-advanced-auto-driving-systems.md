# 为什么在高级自动驾驶系统中需要模糊测试

> 原文：<https://thenewstack.io/why-you-need-fuzz-testing-in-advanced-auto-driving-systems/>

汽车变得越来越互联，越来越复杂。尽管全自动驾驶汽车还有一段路要走，但你的汽车很有可能已经拥有先进的驾驶辅助系统，可以控制自适应巡航控制、车道导航和主动制动等活动。

 [潘江

Andy 是 Synopsys 软件完整性小组的高级安全解决方案经理。他是一名经验丰富的产品营销经理，在美国和亚洲拥有超过 15 年的软件服务设计和推广经验。](https://www.linkedin.com/in/andy-pan-5151631/) 

通过这些不断发展和相互关联的硬件和软件功能，开发人员正在改变他们实现汽车安全的方式。

在一个互联汽车的世界里，考虑安全性和设计物理安全性一样重要。

如果有什么能证明每一个行业都是软件行业，那就是汽车制造业的发展。随着汽车越来越自动化，并获得空中更新，它们自然会变得更加互联，这意味着它们为黑客提供了一个新的攻击面。攻击的形式可能是从无钥匙汽车系统窃取关键信息以实现闯入，在测试或调试模式下运行芯片以获得系统权限，或者通过移动手机用病毒入侵信息娱乐系统。无论采用何种攻击方法，如果系统很容易被攻破，那么它就是不安全的。

高级驾驶辅助系统被划分成不同的芯片，称为[片上系统(SoCs)](https://www.synopsys.com/implementation-and-signoff.html) 。这些芯片通过接口和高性能电子控制器单元(ECU)将传感器连接到执行器。随着汽车系统中集成的传感器数量不断增加以支持新功能，将安全性和质量融入设计生命周期的各个阶段变得不可或缺。汽车设计的要求在不断变化，展望未来，安全性和安全性必然是汽车开发不可分割的考虑因素。

## 打造汽车自主的安全之路

大多数拥有高级驾驶辅助系统的车辆目前正在以[级别 2，部分自动化](https://www.synopsys.com/automotive/what-is-autonomous-car.html)运行，这意味着尽管车辆可以执行一些任务，但人类操作员仍然可以随时控制。像这样的系统依赖于传感器系统，可能包括激光雷达、雷达、超声波、红外线和摄像系统。

这种程度的智能要求大量的处理能力发生在本地或分布在车辆本身。这意味着将车辆仅连接到云并不是一个有利的选择，因为发送和接收信息之间的任何延迟都有可能危及行驶中乘客的安全，并使车辆面临潜在的干扰。

所有这些都对安全汽车设计的未来有着重大影响。根据 [ISO 26262](https://blogs.synopsys.com/from-silicon-to-software/2022/03/24/asil-d-certification-automation/) 量产车功能安全标准，任何底层硬件和软件都必须内置功能安全，以最大限度地降低故障风险和潜在灾难。如果这还不够，同样高水平的安全性对于汽车系统按设计工作是必不可少的。

## 汽车安全的不透明盒测试

虽然安全一直是汽车设计中的一个关键考虑因素，但随着行业发展到依赖自动化系统，安全必须与保障齐头并进。将两者结合起来正成为全球团队的关键设计标准。

软件开发人员长期依赖“透明盒子”工具和服务，如[静态应用安全测试(SAST)](https://www.synopsys.com/software-integrity/security-testing/static-analysis-sast.html) 和[软件组合分析(SCA)](https://www.synopsys.com/software-integrity/security-testing/software-composition-analysis.html) 来解决编码方面的安全和质量缺陷。

透明盒测试工具可以识别专有源代码、第三方二进制文件和开源依赖项中的漏洞和安全风险，以及应用程序、API、协议和容器中的运行时漏洞。尽管这些测试至关重要，但当你面对像高级驾驶辅助系统那样大的攻击面时，这些测试是不够的。

这就是为什么你也需要“不透明盒子”测试。不透明盒测试包括在没有任何内部工作知识的情况下测试一个系统。测试人员提供输入并观察被测系统产生的输出。这使得识别系统如何响应恶意参与者可能使用的那种预期的和意外的用户动作成为可能。

像[动态应用安全测试(DAST)](https://www.synopsys.com/software-integrity/security-testing/dast.html) 和[模糊测试](https://www.synopsys.com/software-integrity/security-testing/fuzz-testing.html)这样的不透明盒子工具可以帮助您的团队确保您从内部保护的软件代码不会被外部破坏。

模糊化是一种特别有用的软件测试技术，因为它通过输入无效、意外或畸形的数据来测试您的代码。然后监控程序是否有异常，如崩溃或内置代码断言失败。因为 fuzzing 测试不访问源代码本身，它提供了攻击者如何试图破坏您的系统的最佳可见性。一个经过严格模糊测试的网络元素可以抵御各种各样的安全威胁。

## 用例:泽法蓝牙 LE 栈中的拒绝服务漏洞

最近的 [Synopsys 网络安全研究中心漏洞报告](https://www.synopsys.com/blogs/software-security/cyrc-advisory-zephyr-vulnerability/)涵盖了在泽法蓝牙 LE 控制器的蓝牙 LE 链路层和 L2CAP 实现中发现的八个漏洞。

由于蓝牙控制了如此多的当前汽车通信和娱乐系统，这一系列漏洞可能会对驾驶员安全产生重大影响。

所有报告的漏洞都可以从蓝牙 LE 的范围内触发。触发漏洞不需要身份验证或加密。唯一的要求是设备处于广告模式并接受连接。

这些漏洞可以分为三个高级类别。

*   **冻结:**该漏洞使得攻击者能够通过发送格式错误的输入，在目标设备上远程导致冻结或断言失败。在冻结的情况下，目标设备的行为取决于断言是否被启用以及致命错误的错误处理程序是否存在。在出现硬故障的情况下，设备通常会自行重启。攻击者可能会利用这一点，在利用其他漏洞时，通过单个数据包以无线方式重启设备。在某些情况下，冻结可能会导致远程代码执行。
*   **死锁:**一些漏洞可能会导致目标设备行为不当，导致其他设备无法与之连接。目标必须重新启动才能恢复到正常状态。重启行驶中的车辆可能会危及司机和乘客。
*   **信息泄露:**该漏洞使得攻击者能够获取潜在的机密信息，如加密密钥或内存布局信息。当攻击者试图绕过地址空间布局随机化等缓解技术时，也可能会利用这种类型的漏洞，这在泽法是不存在的。

这些漏洞是在 Synopsys 对自己的产品进行测试时发现的。由于泽法的蓝牙 LE 控制器被用作 Synopsys [Defensics](https://www.synopsys.com/software-integrity/security-testing/fuzz-testing.html) 蓝牙 LE fuzzing 解决方案的一部分，泽法的蓝牙 LE 堆栈的最低层使用 Defensics 蓝牙 LE 测试套件进行了模糊测试。这里我们有一个不透明盒子模糊测试的例子，它暴露了使用透明盒子测试方法无法检测到的漏洞。

## 摘要

汽车行业正在许多层面上发生转变，但更智能、更安全的汽车的发展可能是最值得关注的。负责当今和未来汽车应用的团队需要更全面地考虑安全和保障因素。

Synopsys 可以提供全套的 SAST、SCA、DAST 和模糊工具，以确保这些车辆所依赖的软件与汽车设计中的物理安全功能一样安全可靠。随着设计师和开发人员努力将完全自动驾驶的汽车带到你附近的道路上，这变得更加重要。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>