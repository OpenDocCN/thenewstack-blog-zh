# LinkedIn:当开源项目结束时，如何成为“好公民”

> 原文：<https://thenewstack.io/good-citizen-open-source-projects-end/>

[](https://www.linkedin.com/in/igorperisic)

 [伊戈尔·佩里希奇

伊戈尔·佩里希奇是构建系统的高级技术领导者，该系统可以实现高可用性和吞吐量，并且延迟非常低。他对大规模数据充满热情；玩这个游戏需要的系统；揭示其精华的方法、模型和算法，以及从中得出的推论和产品。](https://www.linkedin.com/in/igorperisic) [](https://www.linkedin.com/in/igorperisic)

除了作为 LinkedIn 数据团队的负责人，我还负责协调我们公司的开源工作。迄今为止，LinkedIn 的工程师已经在该公司的支持下发布了超过 75 个开源项目。最近，有人问我，我们如何决定开放哪些项目，何时停止投资一个项目。

首先，我想说没有一家公司能够真正“拥有”一个开源项目。当决定对一个项目进行开源时，应该理解的是，代码确实是与公司之外的更大的社区“共享”的。这个社区现在“拥有”了这个项目。你可能是其中的一部分；你甚至可能是它最大的贡献者和目前的保管人。但它已经不是你的了，随着时间的推移，你可能会成为少数利益相关者。即使你决定停止在内部使用一个开源项目，不再为它做贡献，这并不意味着这个项目已经走到了尽头。

作为放弃所有权的交换，开源项目对支持它们的公司有剩余收益。他们有助于发展你的“工程品牌”他们从一个组织向未来的工程师提供了一个明确的信号，即如果他们在那里工作，他们不仅能够发展他们的工艺，而且他们能够在一个开放的平台上以有意义的方式这样做。如果他们的项目成为开源的，它甚至是一个平台，他们将能够在他们的下一部戏中亲自利用它(而不是重新发明它)。从长远来看，支持一个开源项目会给公司带来回报。

## 何时切断诱饵

软件是不断发展的，有时会出现这样的情况，公司不再认为投资他们以前支持的开源项目是有价值的。从纯公司的角度来看，我发现公司通常会停止投资他们开源的项目有三个原因。

第一个原因非常平淡无奇——一个项目根本没有交付足够的价值。这可能意味着给定的软件不再提供它过去的优势。这可能意味着现在有更好的替代方案，要么是开源的，要么是商业的。这也可能意味着新的工作或业务目标需要工程师的时间、资源和注意力。当一个项目因为错误的原因而开源时，也会发生这种情况。例如，当一家公司希望让开源社区参与进来将大大减少新功能的开发时间时。

![Homepage](img/cc62acb97ee6408478d2d2f03b4ea0ca.png)

公司可能停止投资项目的第二个原因与“范围蔓延”和开源社区动态有关。有时候，一个项目发展得如此之快，以至于成为一个庞然大物，太大太重，以至于无法在你的生态系统中找到合适的位置。它变得比您使用它的目的要大得多，并且不容易提取或使用您需要的显式组件。在这些情况下，您可能无法再将它作为软件堆栈的一部分。首先，您可以做一些事情来帮助避免这种问题的发生。确保您对项目的目标有一个清晰的定义，并主动与项目社区成员讨论您的问题。请注意，项目本身变异成那个大东西可能是有意义的。当这种情况发生时，庆祝一下，即使这意味着你的公司不再使用它。

最后一个原因与开源项目的变化速度和发布频率有关。假设您有一个项目，它是您业务的核心，并在您的生产环境中运行。你已经在运营和改进这个项目上投入了大量资金。但是如果您的 bug 修复和补丁没有足够快地被社区采纳呢？如果您的依赖于您的生产环境的变更不是社区所希望的，该怎么办？要对抗这些差异对您在生产中广泛使用的项目的自然侵蚀，可能需要付出真正的努力。当痛苦太高时，自然会放弃开源项目。你会在一段时间内来回修补一些更新，但这会越来越难，直到你开始质疑你为什么要这么做，并最终停止。

请注意，我说过分叉是停止对开源项目投资的一种方式。本质上，你最终得到的是一个主要由你的工程师开发的新项目。在这篇关于脸书[推出 Corona](https://www.quora.com/How-is-Facebooks-new-replacement-for-MapReduce-Corona-different-from-MapReduce2/answer/Joydeep-Sen-Sarma) 的 Quora 帖子中，解释了一个可以导致决定分叉项目的实际决策的好例子；不同的项目目标、系统中的大量投资，以及与您的内部生产代码的显著差异，都可能导致分叉项目有意义的场景。有时，可以通过在单独的代码库或配套项目中对项目进行扩展或增强来避免派生项目的需要(类似于我们在 LinkedIn 开发[地洞](https://engineering.linkedin.com/apache-kafka/burrow-kafka-consumer-monitoring-reinvented)时所做的)。

## 关灯

正如我前面提到的，一个公司可能会发现自己不得不完全停止对一个项目的投资，因为这个项目不再有内部用途。在这种情况下做一个好公民，尤其是如果你是开源项目的主要驱动者，意味着你不只是关上门，关灯，扔掉钥匙。在这种情况下，有两种方法可以结束你对一个项目的支持:结束生命或者干脆放弃它。

开源项目的生命周期结束经常发生，因为在开源社区中有更好的、推荐的替代方案。这对所有参与者来说都是最好的情况，因为您可以向社区提供建议的替代方案或迁移路径。例如，我们的一个团队最近停止了一个名为[加缪](https://github.com/linkedin/camus)的开源项目，该项目被用作我们将数据从卡夫卡引入 HDFS 的管道。我们没有简单地放弃这个项目，而是采取了额外的步骤来确保我们提供了一个迁移路径，这样 Camus 用户就可以轻松地采用我们新的数据摄取框架[goblin](https://github.com/linkedin/gobblin)。这表明你理解社区的需求，并花时间在其中做一个“好公民”。

一个开源项目经常被放弃，因为它没有获得社区的广泛支持，并且你的组织已经远离了它。如果它在社区中获得了牵引力，您将会简单地找到一个新的维护者来继续这项工作。这种情况之所以会出现，是因为一个独立的开源项目并不像其创建者认为的那样对其他人有用——也许它应该被合并到现有的开源项目中。源代码留在公共领域，项目处于休眠状态，社区可以通过提交的时间线图看到这一点(或者更好，归入“[阁楼](https://attic.apache.org/)”并如此标记)。

例如，LinkedIn 的第一个开源项目包括搜索组件，这些组件是我们利用 [Lucene](https://lucene.apache.org/core/) 从主要搜索架构中独立构建的。不幸的是，当时我们并没有与它或现有的开发者社区紧密合作，所以这些扩展中的大部分从来没有在 Lucene 社区中获得过关注。后来，直接在核心框架中开发这些组件，而不是在 Lucene 的每次重大更新中不断地让它们保持活力，这是有意义的。

为了确保您的组织被视为开源社区的积极贡献者，您需要密切关注整个项目生命周期，包括项目如何结束。成功的开源项目可能完全是时间受限的，需要投入大量的时间来开发、监控和培育。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>