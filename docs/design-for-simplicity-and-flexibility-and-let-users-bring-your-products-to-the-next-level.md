# 简单灵活的设计，让用户将你的产品推向新的高度

> 原文：<https://thenewstack.io/design-for-simplicity-and-flexibility-and-let-users-bring-your-products-to-the-next-level/>

泽维尔·杜兰德

在 EPITA 大学获得计算机科学硕士学位后，23 岁的泽维尔开始在 Aircall 公司担任软件工程师。他开发了第一个面向市场的 Aircall 版本，并参与雇佣了巴黎的核心工程团队。然后，他搬到纽约，组建并监督一支跨大西洋工程团队。

我们建立了 [Aircall](https://aircall.io/) 的理念是提供一个简单、易用且功能强大的电话系统。这个产品的美妙之处在于，它将电信世界的复杂性隐藏在一个超级简单的用户界面(UX)后面，因此任何人都可以在不到 10 分钟的时间内重建一个呼叫中心。

工程团队试图将同样的想法应用到整个技术堆栈中。Aircall 公共 API 通过一个简单易懂的 REST API 公开了所有的前端特性，遵循了开发人员习惯的所有开发良好实践。

这些五年前建立的坚实的技术和 API 设计基础仍然为我们的公共 API 提供动力，现在每天处理超过一百万个 API 请求和两百万个 Webhook 事件。

## 为什么我们要建立一个公共 API？

早在 2015 年，我们就希望借助技术资源，让我们最精通技术的客户能够:

*   定制他们的 Aircall 工作流程
*   检索他们的数据，并将其放入他们的分析工具中
*   将 Aircall 与他们的客户关系管理(CRM)软件集成。

因此，我们已经通过一个简单且记录良好的 CRUD API 公开了主要对象，并开始为一些发生的基本事件发送 Webhook 通知。

很快，我们看到客户以我们从未想象过的方式使用我们的公共 API。他们在 Aircall 的基础上构建自己使用的功能，从实时分析仪表板到与定制 CRM 的深度集成。

这个公共 API 允许快速构建十个 CRM 和帮助台集成。每个集成都建立在我们的公共 API 和 Webhook 基础之上，花费了我们大约两周的时间来构建。我们的公共 API 设计得非常好，允许我们快速迭代将 Aircall 集成到外部业务工具中。

## 第一合作伙伴，改变公共 API 形态

2017 年，PieSync、高尔吉亚和 Kustomer 发布了基于 Aircall 的前三款合作伙伴应用。他们在他们的平台上为他们的客户群提供了 Aircall 电话功能。

可笑的是，当时我们的公共 API 是为客户设计的，根本不是为合作伙伴设计的。这些第一批合作伙伴设法找到了变通办法，尽管事实上没有给出任何指导方针。

这迫使我们塑造我们的公共 API，以便它可以适应多种用例:我们建立了语音生态系统的基础，在我们的公共 API 上建立合作伙伴(如 OAuth)要求的功能。今天，我们为合作伙伴提供了一套工具，允许他们在 Aircall 应用程序市场上发布这些工具。我们的每一位客户都可以向他们的 Aircall 帐户添加任意数量的软件集成，添加外部工具提供的功能和连接。

Aircall 的应用程序市场现在有 90 多个应用程序，其中 70%是由合作伙伴开发的。

## 公共 API 是如何构建的

2015 年，我们没有现在在生产中运行我们服务的微架构。我们的后端完全建立在 Ruby-on-Rails 单片平台上，呈现一个服务于前端应用程序的内部 API。

我们决定在与内部 API 相同的基础上构建公共 API，这允许我们快速迭代它的范围和特性。我们只是使用了不同的序列化器和自制的限速中间件。

随着时间的推移，我们不再需要改变这个 API 的设计。我们可以在上面添加功能，并且不需要更新或删除任何字段。但是随着合作伙伴数量的增加，在公共 API 上发出的请求数量也在大幅增加。公共 API 背后的堆栈在几年内发生了很大的变化:我们从一个负载平衡器背后的两个 EC2 服务器变成了一个可自动扩展和复制的容器化 ECS 平台。

## 我们对未来几年的愿景

Aircall 的愿景是建立第一个语音生态系统，为合作伙伴和客户提供可靠的公共 API。我们的架构团队目前正在为我们的公共 API 的第二个版本构建基础。我们今天的后端堆栈运行许多微服务，有几个数据库，用不同的语言编写，用不同的架构模式实现。我们的工程人员通过在每个微服务中实施的基于事件的设计架构，设法将这种复杂性重新整合在一起。

这种新的架构将帮助我们更有效地扩展 Aircall，为越来越多的公共 API 请求提供服务，最终目标是为开发者提供简单的工具，以便他们可以与我们一起构建语音生态系统。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>