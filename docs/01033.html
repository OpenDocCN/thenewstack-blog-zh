<html>
<head>
<title>Artifactory at Scale at IBM Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">IBM Cloud中的大规模工厂</h1>
<blockquote>原文：<a href="https://thenewstack.io/artifactory-at-scale-at-ibm-cloud/#0001-01-01">https://thenewstack.io/artifactory-at-scale-at-ibm-cloud/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="attribution translated">JFrog赞助了这篇文章，它是为新堆栈独立编写的。</p>
<p class="translated">您如何管理16，000个团队规模的存储库？对于<a href="https://www.ibm.com/cloud" target="_blank" rel="noopener noreferrer external " class="ext-link"> IBM Cloud </a>，答案是<a href="https://jfrog.com/artifactory/" target="_blank" rel="noopener noreferrer external " class="ext-link"> JFrog Artifactory </a>。</p>
<p class="translated">“两年前，每个团队都在做自己的事情。IBM云平台副总裁兼首席技术官<a href="https://twitter.com/jrmcgee?lang=en" target="_blank" rel="noopener noreferrer external " class="ext-link">杰森·麦基</a>上周在三藩市参加<a href="https://swampup.jfrog.com/" target="_blank" rel="noopener noreferrer external " class="ext-link"> swampUP 2019 </a>用户大会时表示:“我们已经从环境中获得了更多的一致性，这使我们能够走得更快。”。</p>
<p class="translated">IBM Cloud是一个为企业设计的全栈平台。这些团队正在开发100多种服务，包括Kubernetes、无服务器、网络、数据库、分析和人工智能。他们在全球部署了60多个数据中心。</p>
<p class="translated">为了实现这个存储库，公司重组了它的团队。有些团队管理相关服务的集合，比如容器、基础设施计算、数据库，而在这些团队中，有些开发人员拥有这些服务的子集。团队独立工作，但是拥有他们项目的整个生命周期。</p>
<p class="translated">“除非我们有一些标准的架构原则，否则我们无法大规模地管理这个，”McGee说，对于该公司来说，这意味着在Kubernetes上运行一切。</p>
<p class="translated">“Kubernetes仍然是一个非常年轻的东西。围绕采用Kubernetes作为平台，我们还有很多工作要做。但有很多人在Kubernetes上成功地运行了大规模的应用程序，”他说。该技术“帮助我们围绕如何运行DevOps、如何实现安全性和合规性、如何进行部署以使用Kubernetes作为跨多样化环境的抽象层，提供了一些通用性。”</p>
<p class="translated">他说，个人服务的速度“相当惊人”。该生产环境每周有200到500次更新，因此它必须随时保持运行、稳定和可扩展。</p>
<p class="translated">它选择Artifactory server as a service作为其内部运行的中央存储库。它必须具有高可用性、高性能，在全球范围内全天候运行。它还需要自助服务和自动化。</p>
<p class="translated">它在大内存、多核裸机服务器上运行Artifactory集群。他说，它由MySQL数据库作为对象存储服务提供支持，并且都托管在自己的云上，当出现问题时，这带来了一些有趣的挑战。一个12人的小队管理着它。</p>
<p class="translated">该存储库是更广泛的DevOps功能集的一部分，包括Jenkins和Travis作为服务和一些自己的工具。</p>
<p class="translated">它运行四个实例—两个暂存环境和两个生产环境。团队选择一个主要位置——达拉斯或伦敦——作为他们工件的读/写位置，然后将一个只读副本复制到另一个位置。在停机的情况下，他们可以切换到另一个位置，工件仍然可用。</p>
<p class="translated">学到的经验之一是自助服务至关重要。自动化允许团队创建他们自己的存储库。五分钟之内，新的就可以在世界范围内发布。</p>
<p class="translated">“这比你打电话让别人帮你做要快得多。他说:“这种自助式入职让我们能够实现消费的增长。</p>
<p class="translated">他说，工厂环境本身的可预测和无中断升级也至关重要。同样，自动化以一种开发团队基本上看不见的方式帮助实现升级。</p>
<p class="translated">还有人的问题，比如当人们遇到问题时，他们在Slack上共享他们的整个API提要，这就带来了合规性问题。为Slack编写的机器人有助于阻止这种行为。</p>
<p class="translated">“当你扩展任何技术时，你必须考虑人们将如何消费它，他们使用消费它的行为，以及你如何帮助他们取得成功，”McGee说。</p>
<p class="translated">他将单实例MySQL数据库列为挑战之一。他说，它真的需要一个水平可扩展的HA数据库，以便架构的元素能够以与架构的其他层一致的方式处理需求的变化。</p>
<p class="translated">伦敦和达拉斯的环境是不可互换的。很难来回切换。</p>
<p class="translated">“如果达拉斯宕机，我唯一的重写地点也宕机了，我仍然可以从伦敦下载工件，但我无法更新它们，因为我的主要位置宕机了，”他说。“我们希望使用公制系统能够读取和写入任何位置，以保持一切同步。我们希望用户甚至不必考虑这些事情。如果我们想扩展到第三个地方，我们希望对用户透明。”</p>
<p class="translated">规模将继续是一个焦点，实施人工智能和机器学习以保持技术领先于增长曲线。</p>
<p class="translated">虽然它使用JFrog Xray在容器图像进入注册表之前对其进行自动漏洞扫描，但它希望在开发过程的早期进行漏洞分析。</p>
<p class="translated">“对于那些执行持续合规性的人来说，您知道对于在您的环境中应用修复需要多长时间有一些非常严格的规则。因此，我们越早了解问题，就能越早开始修复。因此，在架构中加入像x射线这样的东西，让我们看到这一点非常重要。”</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>