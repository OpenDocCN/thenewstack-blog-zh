# 问答:Intuit 的开发人员使用 Kubernetes 的体验

> 原文：<https://thenewstack.io/qa-intuits-developer-experience-with-kubernetes/>

从根本上说，Intuit 是一家科技公司——它已经存在了 35 年以上。“如果你想到任何一种传统产品，它可能以某种方式存在于此，”Intuit 产品开发副总裁 Pratik Wadher 说。10 年前，当这家金融服务巨头的 QuickBooks 和 TurboTax 的 SaaS 版本问世时，它们都托管在内部数据中心。但大约六年前，随着云市场的成熟——对于像 Intuit 这样的金融服务公司来说，开始有更强大的安全和合规控制——该公司开始转向亚马逊网络服务。

“这主要是一种提升和转移的方法，”Wadher 说。“随着我们的迁移，我们发现我们的可用性明显提高了，我们管理基础架构和将基础架构与开发人员隔离开来的能力也提高了。但是没有改进的是我们的开发速度，我们更快发布的能力。”

在转移到云之后，Intuit 的发布周期仍然在三周到三个月之间。事故后的平均修复时间(MTTR)略有改善，但仍在 45 分钟到 1 小时的范围内。该公司知道这是因为应用程序架构本质上与内部部署的相同，因此开始重新设计应用程序。Kubernetes 之旅始于大约两年前，当时 Intuit 开始将测试基础设施和其他生产前工作负载转移到 Kubernetes。

尽管开发人员的生产力有了一些立竿见影的提高，但很明显 Kubernetes 没有很好地集成到软件开发生命周期中。事实上，Wadher 是在他的公司 Applatix 被收购时来到 Intuit 的，目的是帮助 Intuit 管理 Kubernetes 中的 CI/CD 流程。

我们与 Wadher 聊了聊 Intuit 的 Kubernetes 之旅，途中遇到的挑战，以及该公司希望未来在 Kubernetes 开发人员体验方面看到的变化。这是我们谈话的浓缩版。

**Intuit 拥有 5，000 名开发人员，他们需要每天保持高效工作，同时还要适应技术和组织结构的重大变化。那个过程怎么样？**

我们想做的事情之一是解放我们的开发人员，让他们自己可以决定扩展基础架构、回滚、进行故障转移。我们本质上是采用 DevOps，但是说起来容易做起来难。我们有这样的问题，我们如何迁移？我们如何让我们的 SRE 团队融入服务团队，让他们拥有必要的专业知识？我们如何增强我们的开发管道，使其对开发人员来说非常容易，这样开发人员就不需要了解 Kubernetes 或容器了？我们希望只需按下一个按钮，就可以实现转存或故障转移过程。我们希望升级能够像在 Git 中登记一些东西一样简单。

还有一个教育部分。即使我们希望开发人员尽量不要直接处理 Kubernetes，他们仍然需要对他们正在运行的东西有一个天生的理解。我们有 1500 名开发人员参加了我们的 Kubernetes 培训。

我们还建立了一个全新的开发管道，将创建一个新服务的时间从几周减少到了十分钟。为服务开发铺平道路包括拼凑现有产品、创建新产品和采用一些开源工具。

听起来像是一次很棒的 Kubernetes 之旅。你到了吗？

这不是我们想要的水平。例如，如果服务出现问题或者 Kubernetes pod 出现故障，开发人员仍然需要一定的知识水平来查看日志并了解发生了什么。但是他们不需要了解如何管理集群或名称空间，他们不需要处理自动伸缩。

**你在 Intuit 遇到的与 Kubernetes 相关的最大未解决问题是什么？**

我们目前的主要问题之一是记录和监测，我称之为平均检测时间(MTTD)和平均识别时间(MTTI)。当出现问题时，我们仍然很难确定问题在哪里，以及需要联系哪个服务所有者来解决这个问题。我们最近花费了大量的时间和精力，试图获得与我们在群集和基础架构级别相同的清晰度和可见性，并将其扩展到服务级别。

对我们来说，开发者体验之旅还在继续。我描述的这个过程只是在没有现有应用程序的情况下进行的，这些应用程序大部分是用 Java 的 Spring Boot 编写的。因此，开发者之路就是建立在这个模型之上的，从示例应用程序到管道，一切都是建立在 Spring Boot 假设之上的。

> 即使我们希望开发人员尽量不要直接处理 Kubernetes，他们仍然需要对他们正在运行的东西有一个天生的理解。

但现在，我们的重点之一是扩大人工智能的使用，并使用 Kubernetes 建立机器学习平台。因此，这对我们来说是一个全新的旅程，我们仍在不断完善。

作为一家金融科技公司，我们显然也对与安全和合规相关的一切非常感兴趣。作为一个项目，Kubernetes 从未真正关注过这些领域，但我们一直在与更广泛的社区合作，以加强对安全性和治理的关注。如果更多的企业将采用 Kubernetes，安全性和治理将是关键技术。

你能谈谈在 Intuit 使用 Kubernetes 的开发人员的一些积极体验吗？

由于我们所处的行业，我们对数据安全和隐私非常担心。但是安全性是开发人员讨厌的事情之一。因此，我们有了容器和工作流的管道，我们已经能够将我们需要的安全工具集成到开发人员管道中。因此，当他们进行构建时，安全分析已经为他们完成，当他们部署时，运行时工具已经集成。从开发者的角度来看，这是一个巨大的胜利。

我们还在内部开发了许多其他产品，这样我们就可以大规模运营。例如，Intuit Kubernetes 服务管理器，它让我们只需点击一下鼠标，就可以用新的 AMI 映像更新整个集群套件。

我也确实开始看到更广泛的社区更加关注开发者体验，关注易用性和与生命周期管理工具集成的项目。

AWS 是新堆栈的赞助商。

来自 Pixabay 的 SashSegal 的特征图像。

<svg viewBox="0 0 68 31" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Group</title> <desc>Created with Sketch.</desc></svg>