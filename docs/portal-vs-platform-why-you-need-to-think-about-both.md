# 门户与平台:为什么需要同时考虑两者

> 原文：<https://thenewstack.io/portal-vs-platform-why-you-need-to-think-about-both/>

不管你喜不喜欢，你已经有了一个内部的开发者平台，即使你的组织从来没有建立过，也没有一个职位上有“平台工程”的人。它可能不是合适的平台，可能难以扩展或使用，但它确实存在。

这意味着你可能不需要建立一个平台；你只需要让它变得更好。你面临的真正问题是你是否应该在你的平台上使用一个内部开发者门户，因为它是平台工程栈中最成熟的元素。

在这篇文章中，我们要说的是，门户很重要，它们也对你的平台工作的质量和有用性有影响，随着它们和技术的发展，它们基本上成为了平台的一部分。

但是等等！内部开发者平台？内部开发者门户？有什么区别，为什么要把一个放在另一个的上面？让我们首先定义这两者，并就这将把我们带向何方提出一些大胆的论点。

## **什么是内部开发者平台？**

让我们从基础开始。平台是帮助工程师完成工作的工具。这让他们可以编码，呆在自己的领域里，不用太担心他们无法控制或没有专业知识的操作问题。

由于现代架构非常复杂，由许多底层技术和数百个微服务组成，软件开发生命周期对任何人来说都变得太长了，并且在操作和开发方面都需要太多的专业知识。

解决方案是抽象出一些复杂性，并创建一个统一的开发人员体验，这将减少开发人员和操作人员的认知负荷。这些更好的开发者体验应该会提高生产力。这就是这个平台的意义所在。

受 Gartner 启发，各种各样的定义是，平台是关于自助服务功能和自动化基础架构运营的可重用工具。该平台由平台工程师构建，将开发者从“胶水工作”中解放出来，并为开发者设定了标准和黄金路径。

这一切都可以归结为开发者自助服务。您无需构建自己的临时云环境或执行第 2 天的操作，也无需请求 DevOps 中的某个人来这么做，您只需访问一个界面，就能获得您需要的东西。想象一个 Jenkins 自助服务表单或 Terraform 无代码。

> 为了更好的生产效率而将所有东西抽象出来，这在理论上听起来不错，但是一些数据，比如依赖关系、内存或 CPU 使用情况，需要显示出来。

当然，这并不完美。没有人说你已经搭建好的、需要进化的平台是完美的。很可能不是。例如，使用 Jenkins 进行自助服务意味着缺乏上下文和状态、扁平的 UI 以及无法设定组织标准(工程质量可以也应该是良好的门户/平台工作的结果)。它也没有解耦。你改变了 Jenkins，你也需要改变开发者的体验。那不会工作得很好。

该平台的另一部分是为开发人员提供底层基础设施的某种程度的透明度，以便他们能够做出明智的决策。为了更好的生产效率而将所有东西抽象出来听起来不错，但是需要显示一些数据，从依赖关系到 Kubernetes 设置、内存或 CPU 使用等等。

如果没有这些数据，你就无法做到“你建造它，你拥有它”。一个很好的例子就是 GitOps(它可能构成你现有平台的核心)。纯粹的 GitOps 对开发人员来说并不好用，因为它包含了太多的信息，并且给开发人员留下了太多的自由活动和犯错的空间。在这种情况下，用一个平台替换 GitOps 或者在其上放置一些平台元素可能会达到目的。

## **什么是内部开发者门户？**

门户是平台的接口，因此可以帮助用户访问底层的异构软件开发生命周期资源，并使用门户中提供的自助服务操作。门户为开发人员和运营人员创造了相似的体验，因此每个人都可以自助服务，并获得对基础架构的正确可见性，以便做出正确的决策。这些体验类似于产品，旨在提供简单的黄金路径自助服务，以及执行质量标准和提高工程质量。否则，生产力不可能发生。

### **自助服务**

开发人员在开发人员门户中使用自助操作。动作越多越好。第一，开发者不只是需要脚手架微服务；他们需要许多第 2 天的操作，以及权限请求(使用 TTL 或生存时间)，设置短暂的环境等等。一个好的自助服务体验应该尽可能地像产品一样，帮助开发人员在黄金路径内轻松工作，并尽可能减少错误。在这种情况下，软件目录会通知开发人员，但是自助服务操作本身需要立即反映在目录中。

> 让我们处理房间里的大象。内部开发者门户是不是开发者自助服务的“只是一个 UI”？它不是。

让我们处理房间里的大象。内部开发者门户是不是开发者自助服务的“只是一个 UI”？它不是。为了理解为什么，让我们检查一下软件目录，然后我们将解释它如何演变成平台 API。

### **处于一切中心的软件目录**

软件目录通常被描述为包含微服务、云资源和基础设施的目录，显示上下文中的所有元素。它显示并可以帮助管理权限、短暂的环境和几乎任何其他东西。它包含了你可以放入的所有元数据。它将被开发者抽象出来，只显示他们需要的东西。

然而，即使您可能正在抽象其中的内容，软件目录仍然充当通用元数据存储。因此，您可以针对它运行任何查询，并获得您需要的答案，即使对于被认为是复杂的问题，如包漏洞计划。这是操作人员开始对软件目录感到兴奋的地方。

> 软件目录在开始时需要足够中立，以便您可以构建它来适应您拥有的任何数据模型。

软件目录在开始时需要足够中立，以便您可以构建它来适应您拥有的任何数据模型，创建一个符合您的组织正在构建的任何内容的自以为是的软件目录。

中央目录不仅仅是关于其中的所有数据，或者它对开发人员和运营人员有什么用处。使用记分卡，目录还可以反映特定实体上下文中的质量、健康和其他指标，例如在给定环境中运行的特定服务。这有助于在具有许多微服务、repos 和区域的环境中确定行动的优先级并提高质量。它还通过在一个中心位置确定质量来帮助改变组织行为。

### **软件目录也是为机器和操作制作的**

如果你正在仔细阅读这篇文章，你可能已经注意到，作为一个通用的元数据存储，我们正在谈论一个超越开发人员体验的软件目录。换句话说，尽管名称如此，内部开发人员门户中的目录也是为机器以及管理机器的操作人员而创建的。

事实上，我们与之交谈的许多运营人员都希望自己开始使用门户来管理软件和系统蔓延。他们抱怨杂乱的微服务跟踪和太多的 DevOps 工具，抱怨复杂的 AppSec 问题需要集中控制。然后他们明白了:他们想要根据软件目录运行工作流。

这是工作流自动化，其中工作流检查软件目录中所有东西的状态。我们总是听到这样的话，它是这样的:“如果软件目录有关于服务锁定/包/版本/等的所有信息。，我可以让 CI 工作流作为工作流的一部分检查软件目录吗？”

如果服务被锁定，工作流自动化将在目录中检查它，并且不允许它部署。如果服务运行状况关闭，将采取另一个操作。在这方面，前面提到的记分卡是有价值的，因为自动化可以并且确实将检查记分卡信息作为其流程的一部分。

## **门户网站的核心原则**

让我们来看看内部开发人员门户背后的核心理念:

*   自带数据模型。软件目录应该支持通用的数据模型(比如后台 C4 模型)，以及独特的数据模型。它应该足够中立，以便您可以在其中构建一个自以为是的数据模型。在港口，这是通过我们所谓的“蓝图”来完成的
*   软件目录应该包含所需的所有数据，充当软件和资源的通用元数据存储。对于开发人员来说，数据可能会被提取出来，但是对于其他用户来说，比如运营团队或工作流自动化，数据将会保留在目录中。
*   产品般的体验。UI 应该为开发者提供黄金路径的体验。产品思维是内部开发人员门户的核心，UI 应该是可配置的，并支持无代码创建来支持这一点。
*   从底层基础设施和自动化松散耦合。平台一直在发展，不管它们是随着时间的推移随意构建的，还是新技术堆栈的结果。这样一来，内部的开发者平台 **(** IDP)就应该和他们松散耦合。如果底层云资源、CI 或 CD 系统被替换，开发人员应该会有同样的体验。
*   以最广泛的方式允许开发人员自助服务。为了确保采用，开发人员需要在 IDP 中满足他们的所有需求。只关注一个自助行动，你的平台进步和 IDP 就不会增长。
*   API 优先(真的)
*   通过设计实现合规性和安全性

## **未来是平台 API**

开发者门户的未来是成为平台 API，提供与平台交互的统一接口。开发人员门户还将托管软件目录，为平台状态提供上下文，并负责触发平台自动化，作为其自助服务操作的一部分。开发人员门户和平台的内部组件将使用平台 API 作为前端接口，根据 API 中存储的上下文信息做出自动决策。

## **做平台工程，需要从门户开始**

不管您是否同意您已经有了一个平台，内部开发人员门户可能是您可以用来加入平台工程运动的最成熟和定义良好的元素。内部开发人员门户的价值足以推动开发人员生产力的重要提高，并为运营人员带来秩序。你可以在这里免费试用 Port 的内部开发者门户网站，或者在这里查看[看起来像](https://www.youtube.com/watch?v=ELZ0sPh8joU)。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>