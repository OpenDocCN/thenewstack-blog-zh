# 借助 Java 17，Oracle 加快了长期支持版本的步伐

> 原文：<https://thenewstack.io/with-java-17-oracle-steps-up-cadence-of-long-term-support-releases/>

随着 [Java 17](https://www.oracle.com/java/) 的全面上市，甲骨文不仅提供了最新版本的流行编程语言和开发平台，而且该公司还为开发人员提供了最新的[长期支持](https://www.oracle.com/java/technologies/java-se-support-roadmap.html) (LTS)版本，在 Java 的六个月发布节奏下

甲骨文 Java 平台组软件开发副总裁 [Georges Saab](https://www.linkedin.com/in/georgessaab/) 表示，Java 17 提供了数千项性能、稳定性和安全性更新，以及 14 项新的 jep(JDK 增强提案)来帮助开发人员提高工作效率。

## LTS 赢了

但是，新闻中的 LTS 部分引人注目，因为许多大型企业，特别是保守的企业，不愿意迁移到六个月的临时版本，但对 LTS 版本更有信心，因为 Oracle 保证提供支持。

JetBrains 的 Java 开发者支持者 Dalia Abo Sheasha 说:“我认为我们将会看到 Java 17 的开发者已经等了很长时间，他们会说，好吧，我的业务已经准备好迁移到下一个 LTS 了。

“使用[Java] 11 的人比使用[Java]8 的人更容易升级到 17，”她说，她指的是之前的 Java LTS 版本。“但我认为，在 8 楼的人会从已经在 11 楼的人那里学到很多东西。”

Java 8 仍然是当今最流行的 Java 版本。在其 2021 年关于开发者生态系统报告[状态的调查中，JetBrains 表示，72%的受访者表示他们使用 Java 8，42%的人表示他们使用 Java 11，接下来是 Java 15，占 14%。与此同时，最近的](https://www.jetbrains.com/lp/devecosystem-2021/) [Eclipse Foundation Jakarta EE 开发者调查报告](https://newsroom.eclipse.org/news/announcements/eclipse-foundation-announces-results-2021-jakarta-ee-developer-survey)显示，Java 11 的使用在调查受访者中从 2020 年的 28%飙升至今年的 58%。

## LTS 释放节奏

与此同时，萨博表示，甲骨文已经提出下一个 LTS 版本应该是 Java 21，并于 2023 年 9 月推出，这将把正在进行的 LTS 版本的节奏从三年改为两年。

Omdia 的分析师 Brad shimmen 说:“我认为这对甲骨文和整个 Java 社区来说是一个相当大的进步，因为通过将 LTS 从 3 年移动到 2 年，他们节省了企业不得不推迟采用新功能的时间。“这一举措与他们的决定相结合，包括提供一年免费运行 Oracle JDK 的支持，作为与下一版本的重叠，使用户能够探索新功能，并以更大的自由度和频率将这些功能构建到他们的长期部署计划中。”

萨博指出，就功能内容的总吞吐量而言，Oracle“基本上提供了与我们之前在相同时期发布的主要(LTS)版本相同的数量级。”

Java 的最后一个 LTS 版本是 2018 年 9 月的 Java 11(也被称为 JDK-Java 开发工具包-11)。在此之前的 LTS 版本是 2014 年 3 月的 JDK 8。然而，从 2017 年 9 月的 JDK 14 开始，甲骨文开始以 6 个月的节奏发布新版本的 Java。

“当我们谈论 JDK 17 时，我们实际上是在谈论从 JDK 12 开始的累积变化，”[Azul Systems](https://www.linkedin.com/in/siritter/?originalSubdomain=uk)的副首席技术官西蒙·里特说。

他说，发布之间的多年间隔“不适合 Java”。

更快的发布周期使 Oracle 能够更快地提供更多功能。他说，一些新功能以孵化器模块的形式出现，一些作为预览，这是甲骨文向平台引入新功能的一种方式，而不是让它们一成不变。这样，Oracle 可以从 Java 社区获得关于开发人员喜欢或不喜欢该特性以及是否需要调整的反馈。

事实上，社区对 Java 17 的最终发布产生了影响。例如，在 Java 17 中，在标记为已修复的 2645 个 JIRA 问题中，有 1774 个是由 Oracle 完成的，而 871 个是由 Java 社区的其他成员贡献的，Oracle 的 Java SE 产品管理总监 Sharat Chander 在一篇博客文章中说。

“如果人们提供反馈，说这个功能可能会有一点不同，可能会有一些改进，”Ritter 说。“我们已经多次看到这种情况，不同的功能被添加为预览功能。这在过去多年的发布周期中是不可能的。所以，毫无疑问，六个月的想法非常非常有效。”

与此同时，更快的 LTS 周期对开发者来说是好事，因为这意味着如果他们在一个保守的企业中，他们喜欢并想使用的功能，他们将能够更早地使用，萨博说。

“我认为这也将增加六个月发行的吸引力，因为我们通常会看到，当人们在 LTS 上制作一些东西时，他们可能会花很长时间思考，并考虑转向下一个 LTS，”他说。“然而，对于他们尚未投入生产的下一个项目，他们正试图做出选择。”

他认为，缩短爪哇 LTS 周期使这一选择变得更容易。对于保守的企业组织中缓慢改变的开发人员，“如果我是这种情况下的开发人员，一年后我投入生产时，将会有一个新的 LTS，”萨博说。“因此，作为一名开发人员，我有机会说服我的组织，事实上，我们可以更积极一点。”

## 新许可条款

除了 Java LTS 版本的新 cadence 之外，Oracle 还更改了 Java SE 的许可条款。

甲骨文表示，甲骨文 JDK 17 和未来的 JDK 版本将在免费使用许可下发布，直到下一个 LTS 版本发布后的一年。萨博表示，甲骨文还将继续在开源通用公共许可证(GPL)下提供 Oracle OpenJDK 版本，自 2017 年以来一直如此。

Oracle Java 平台产品管理部门总监 Donald Smith 表示:“Oracle JDK 17 对所有人都是免费的，这是底线。

此外，Java SE 订阅客户可以以最符合他们需求的速度迁移到 Java 17。该公司表示，甲骨文将至少在 2029 年 9 月之前为客户提供 Java 17 的安全、性能和漏洞修复更新。因此，Java SE 订阅将提供至少八年的 LTS 支持。

然而， [OpenGamma](https://github.com/OpenGamma) 的工程负责人、[Joda.org](https://www.joda.org/joda-time/)的项目负责人、[甲骨文 Java 冠军](https://developer.oracle.com/javachampions/)Stephen cole bourne 在推特上说，“几天前，我认为新的甲骨文 JDK 17 免费许可证是一件好事。我越来越觉得这是一个闪亮的新陷阱，prod 代码可能会以许多微妙的方式突破它。我*强烈*建议在这一点上坚持使用非甲骨文的 JDK(例如[adopt ium](https://www.theserverside.com/news/252498427/AdoptOpenJDK-moves-to-Eclipse-Foundation-as-Adoptium)/[Corretto](https://www.theserverside.com/news/252452738/Amazon-Corretto-extends-OpenJDK-support))。”

萨博表示，甲骨文提供 JDK 17 的许可不仅可以免费用于开发和测试，还可以在下一个 LTS 上市后的一年内用于生产。

此外，“我们将有一个长期的甲骨文 JDK 二进制流，这些二进制流受商业许可，允许在开发和测试中使用，但不允许在生产中使用，”他说。

## JDK 的特色

Java 17 中的关键新特性包括[密封类](https://docs.oracle.com/en/java/javase/16/language/sealed-classes-and-interfaces.html)、macOS AArch64 支持、特定于上下文的反序列化过滤器和增强的伪随机数生成器。预览或孵化器模式中的版本还包括开关模式匹配(预览)、外部函数&内存 API(孵化器)和矢量 API(第二孵化器)。密封类是在 Java 15 的预览版中引入的。

Ritter 列出了一些让他印象深刻的特性 Java 17 中的新特性和之前在临时版本中引入的特性——文本块、实例的[模式匹配、](https://openjdk.java.net/jeps/394)[记录](https://docs.oracle.com/en/java/javase/14/language/records.html)、密封类、switch 上的模式匹配和 [switch 表达式](https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html)。

“苹果新的 ARM 64 位方法将有助于保持 Java 与苹果开发者的相关性。Constellation Research 的分析师 Holger Mueller[说:“企业非常喜欢甲骨文为 LTS 提供的长期支持。“这是 Oracle 针对 Java 的第 17 版的又一次重大推动。毫无疑问，Java 在甲骨文云中运行得更好，这是甲骨文的一个有趣而合法的举措。”](https://www.linkedin.com/in/holgermueller/)

事实上，Java SE 订阅中包含的 Java 管理服务是一项 [Oracle 云基础设施(OCI)](https://thenewstack.io/oracle-lures-developers-with-more-always-free-cloud-services/) 服务，旨在帮助用户跟踪 Java 使用情况并管理本地或任何云上的 Java 运行时和应用。JDK 17 订阅还包括 [GraalVM Enterprise](https://www.theserverside.com/news/252495814/Oracle-adds-GraalVM-Enterprise-to-Java-SE-subscription) 。

Java 管理服务使用户能够了解他们在整个企业中的 Java 部署，包括安装在他们环境中的所有 Java 版本，包括在开发和生产中运行的 Java 版本。它还检查是否所有安装的 Java 版本都有最新的安全补丁。

同时，关于特定的特性，密封的类和接口限制了哪些其他类或接口可以扩展或实现它们。这个特性来自甲骨文的[项目 Amber](https://openjdk.java.net/projects/amber) ，该项目旨在通过发展 Java 语言来提高开发人员的生产力。

macOS AArch64 端口将 JDK 移植到 macOS/AArch64 平台，以使 Java 应用程序能够在基于 Arm 64 的新苹果硅计算机上本地运行。

preview 中的模式匹配切换功能允许根据多个模式测试一个表达式，每个模式都有一个特定的操作，因此可以简洁、安全地表达复杂的面向数据的查询。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>