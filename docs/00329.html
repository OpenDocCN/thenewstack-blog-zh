<html>
<head>
<title>MySQL and the Atomic Data Layer of Quip</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MySQL和Quip的原子数据层</h1>
<blockquote>原文：<a href="https://thenewstack.io/mysql-atomic-data-layer-quip/#0001-01-01">https://thenewstack.io/mysql-atomic-data-layer-quip/#0001-01-01</a></blockquote><div><div id="tns-post-body-content">


<p class="translated">布雷特·泰勒在硅谷有着辉煌的历史。他因开发<a href="https://www.google.com/maps" class="ext-link" rel="external ">谷歌地图</a>和<a href="https://developers.google.com/maps/" class="ext-link" rel="external ">应用编程接口</a>而声名鹊起，这些应用编程接口让这项服务变得如此流行和有用。在短暂的风险投资后，<a href="https://www.linkedin.com/in/brettaylor" class="ext-link" rel="external ">泰勒</a>创建并出售<a href="http://blog.friendfeed.com/" class="ext-link" rel="external "> FriendFeed </a>给<a href="https://www.facebook.com" class="ext-link" rel="external ">脸书</a>。现在，他是Quip的首席执行官和创始人，Quip是一套在线协作生产力工具，用于文档、电子表格和其他商业活动。</p>
<p class="translated">构建像一套业务工具这样的东西并不是一件简单的任务，尤其是当您还托管这些工具的时候。因此，泰勒和他的团队构建的架构没有用时髦的词语或花哨的新技术装饰。相反，这家初创公司的基础设施易于其工程师理解、维护和扩展。</p>
<p class="translated">为此，Quip并不是建立在像<a href="https://www.mongodb.com/" class="ext-link" rel="external "> MongoDB </a>或<a href="http://couchdb.apache.org/" class="ext-link" rel="external "> CouchDB </a>这样的花哨的NoSQL文档库之上。它建立在MySQL的基础上，增加了一些Redis和Memcached。MySQL是底层的持久性数据存储，Redis用于非持久性的东西。</p>
<p class="translated">泰勒说，这是一个类似于为FriendFeed设计的系统。Taylor说，数据层在协作编辑环境中工作的真正关键是尽可能以原子方式存储数据，并且从不进行连接。</p>
<p class="translated">“我们使用非常标准的数据存储，但在这些存储中存储不透明的对象，并且不使用连接之类的东西。这使得分片变得更容易，并且您不需要担心将数据放在一起进行复杂的连接。这也使得跨客户端和服务器的同步变得更加容易。泰勒说:“这些系列化的产品被到处复制。</p>
<h2 class="translated">不冲突</h2>
<p class="translated">泰勒说，建立一个协作文档编辑系统的好处之一——这甚至可以追溯到道格拉斯·恩格尔巴特1969年的《所有演示之母》——是人们通常都在做他们自己的事情，而不是为一个单元格或一个单词而争斗。</p>
<p class="translated"><iframe loading="lazy" title="The Mother of All Demos, presented by Douglas Engelbart (1968)" src="https://www.youtube.com/embed/yJDv-zdhzMY?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">视频</iframe></p>
<p class="translated">这意味着Quip是为效率而生的。泰勒说，他和Quip的人并不反对漂亮的新的以文档为中心的NoSQL数据存储，只是团队希望在其他地方优化创新，而不是在数据层。</p>
<p class="translated">“我们有一个独特的模型，它看起来不太像一个文件，尽管它本身就是一个文件，”泰勒说。“我们认为这是我们在架构上最好的决定之一，但这并不是对MongoDB的抨击。更多的是我们不想在那一层创新。我们的栈在服务器上非常简单。新工程师非常容易理解和使用。”</p>
<p class="translated">这个设计也来自于Quip离线工作的需要。作为一家以移动为先的公司，不稳定的互联网连接是意料之中的事。用极小的原子单元存储电子表格或文档的每一位，减少了冲突的机会。关键是将这些原子单位缩小到尽可能小的尺寸。这使得离线和在线工作更容易协调，并大大缩小了任何冲突的范围。</p>
<p class="translated">“我们决定不把线上线下非黑即白。相反，我们有一个架构，其中一切都优雅地降级，无论您是完全离线，还是在飞机上在线，一直到快速的办公室有线互联网连接。这真的很棒，因为这意味着我们的应用程序中根本没有加载屏幕。它来自手机的工作方式。我们的技术堆栈是在智能手机真正流行起来之后建立的。这是一个真正独特的价值主张，深深植根于技术之中，”泰勒说。</p>
<p class="translated">至于构建和分发实际的Quip二进制应用程序，这就是事情变得复杂的地方。泰勒指出安卓生态系统的分散是一个主要的头痛问题，另一个原因是谷歌的应用层在中国无法使用(T2)。</p>
<p class="translated">“我们有适用于<a href="http://www.apple.com/iphone/" class="ext-link" rel="external "> iPhone </a>、<a href="http://www.apple.com/ipad/" class="ext-link" rel="external "> iPad </a>、<a href="http://www.apple.com/watch/" class="ext-link" rel="external "> Apple Watch </a>、<a href="https://www.android.com/" class="ext-link" rel="external "> Android </a>手机和平板电脑、<a href="http://www.apple.com/macos/sierra/" class="ext-link" rel="external "> Mac </a>、<a href="https://www.microsoft.com/" class="ext-link" rel="external "> Windows </a>和<a href="https://www.w3.org/" class="ext-link" rel="external "> web </a>的应用，因此有八个设备类别。许多都有共享的二进制文件，但它们是独立的接口。因此，部署中最困难的事情之一就是如何在网络上跨所有这些平台发布，”泰勒说。</p>
<p class="translated">“你每天都释放。在iOS上，我们每天都向员工发布，但每个月都会向应用商店发布一次。我确实认为，管理你的发布时间表和跨所有平台的同步是一个相当大的后勤挑战，因为应用商店的审查和政策。这是现在每个创业公司都要处理的事情。那和五年十年前不一样了。我们在移动应用上所做的事情是，我们是按时间表来的，而不是按需的。这使得测试和部署过程更加合理。泰勒说:“在互联网出现之前，很多公司都是这么做的。</p>
<p class="attribution translated">专题图片:Bret Taylor在Tech Crunch 2009上，照片<a href="https://www.flickr.com/photos/50698336@N00/3707793530" class="ext-link" rel="external ">由Brian Solis </a>拍摄，<a href="https://creativecommons.org/licenses/by/2.0/" class="ext-link" rel="external "> CC由2.0 </a>授权拍摄。</p>


<div class="tns-logo-slug">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 68 31" version="1.1">
<title>Group</title>
<desc>Created with Sketch.</desc>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<g id="Group">
<path d="M24.002,29.619 L29.77,29.619 L29.77,15.808 C29.77,15.038 29.622,11.265 29.59,10.414 L29.77,10.414 C31.424,14.019 31.473,14.147 32.168,15.322 L39.65,29.618 L44.845,29.618 L44.845,0 L39.075,0 L39.075,11.064 C39.075,12.197 39.075,12.44 39.182,14.472 L39.325,17.468 L39.151,17.468 C39.034,17.267 38.596,16.173 38.467,15.929 C38.164,15.323 37.725,14.512 37.373,13.905 L30.031,0 L24,0 L24,29.619 L24.002,29.619 Z" id="Path-Copy" fill="#FF3287"/>
<path d="M56.948,0 C50.745,0 47.606,3.43 47.606,8.296 C47.606,14.114 51.036,15.404 55.518,17.132 C60.438,18.853 61.782,19.332 61.782,21.539 C61.782,24.225 58.969,24.867 57.401,24.867 C54.579,24.867 52.493,23.342 51.536,20.858 L47,24.185 C49.43,28.937 52.145,30.185 57.713,30.185 C59.364,30.185 62.059,29.74 63.727,28.694 C67.779,26.156 67.779,22.22 67.779,20.898 C67.779,18.129 66.531,16.207 66.178,15.726 C65.049,14.121 63.032,12.918 61.25,12.278 L57.084,10.914 C55.073,10.267 52.928,10.105 52.928,8.019 C52.928,7.707 53.008,5.528 56.288,5.319 L61.465,5.319 L61.465,0 C61.465,0 57.342,0 56.948,0 Z" id="Path-Copy-2" fill="#00AFF4"/>
<polygon id="Path" fill="#00AFF4" points="5.32907052e-15 1.77635684e-15 5.32907052e-15 5.319 7.572 5.319 7.572 29.564 14.132 29.564 14.132 5.319 21.544 5.319 21.544 1.77635684e-15"/>
</g>
</g>
</svg> </div>

</div>
</div>    
</body>
</html>