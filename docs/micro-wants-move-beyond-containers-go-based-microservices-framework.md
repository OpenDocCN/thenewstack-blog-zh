# Micro 希望通过基于 Go 的微服务框架超越容器

> 原文：<https://thenewstack.io/micro-wants-move-beyond-containers-go-based-microservices-framework/>

伦敦工程师 Asim Aslam 的目标是将他构建微服务平台的经验转化为一个框架，为其他人减轻痛苦。去年，他凭借自己在谷歌担任网站可靠性工程师和在英国打车服务公司 Hailo 担任云架构师的经验，创立了 Micro。

到目前为止，他已经发布了基于 [Go](https://thenewstack.io/?s=Golang) 的微工具包，并且正在开发一个更广泛的微服务平台。

“行业的焦点主要集中在容器上:我们如何从虚拟机转移到容器？我们如何迁移到公共云？我们如何迁移到云原生环境？但有一种叫做微服务的东西，我认为它可能会在下一阶段帮助我们，”他说。

“一些参与者已经出现，但我不认为容器生态系统中的当前参与者能够解决问题，因为容器生态系统完全是关于我如何运行我的应用程序。微服务生态系统完全是关于我如何构建我的应用程序。我认为这是一个非常不同的景观。”

## **微型工具包**

Micro toolkit 提供了构建和管理微服务的核心需求，包括一个用 Go 编写的[基于 RPC(远程过程调用)的库](https://github.com/micro/micro)和一组可插拔接口。

它使用 sidecar，这是一种轻量级的配套服务，概念上“附属”于父(主)应用程序，通过 HTTP 接口集成用任何语言编写的应用程序。

作为一个可插拔的系统，注册表的默认服务发现机制是 [Consul](https://www.consul.io) ，但是它可以很容易地与 etcd、zookeeper 或任何其他插件交换。

它的其他功能包括:

*   作为查询微服务的单一入口点和外部访问网关的 API。
*   反向代理，通过微服务请求路由，赋予它支持 REST 的能力。
*   web UI 提供了一个简单的仪表板，用于观察正在运行的系统并与之交互。
*   在运行环境中观察、交互和管理服务的命令行工具。

你可以在这里找到一个演示。

## 减轻开发人员的痛苦

在 Hailo，阿斯拉姆帮助在 AWS 上建立了一个微服务平台，这使他离开了那份工作，创办了 Micro。

“2013 年，为了与优步竞争，该公司的扩张速度非常非常快。它在组织和技术规模方面碰壁了，”他解释道。

“由于单一的代码库，人们无法在项目中并行工作。这意味着我们不能并行进行功能开发。从技术角度来看，它不会因为同样的原因而扩展。因此，在更大的科技行业中，似乎有对它的需求，但工具却不在那里。

“现在有相当多的人在谈论微服务，但没有多少人真正在其上执行，而且针对它的工具就更少了。所以我想这是有必要的，所以我想谁比有经验的人更合适呢？”

到目前为止，Micro 是一个人的公司。他有一个企业赞助商在生产中使用他的工具，这也为他提供了一种验证他正在构建的工具的方法，还有另外两家公司在生产中与他们合作。

他将 Micro 描述为一个分层系统，工具包只是第一部分。

“微服务的基础是服务发现。我需要一种交流的方式；我需要了解协议什么的。在更高的层次上，我如何进行身份验证？如何进行分布式跟踪？我如何在微服务生态系统中进行监控？我如何进行基于标签的路由，或者如何根据我当时的需求和动态配置进行动态路由？这些是微服务环境中需要的更高层次的关注，”他说。

阿斯拉姆说，对于开发者来说，Micro 专注于简化分布式系统的构建和管理。

“我们正在进入一个集装箱的世界，在这里，它们由某种调度系统进行编排，这意味着它们来来去去。这意味着您的应用程序必须以不同的方式开发。它们必须具有容错能力，必须能够大规模工作，尤其是在我们可以使用所有这些计算机且有更多人上网的情况下，”他说。

“所以我想让编写分布式系统变得容易。我如何编写相互对话的服务？它为您提供了一种编写服务器的方法，就像编写任何其他服务器一样，只是您需要向发现系统注册它。它将为您提供一个客户端库来调用其他服务，就像您在代码中调用本地函数一样。这就是它给你积木的地方。

“它不会试图妨碍你。很多框架都有点神奇。如果你想到 Ruby on Rails，它已经走了多远，为你做了什么。Micro 并不想成为 Ruby on Rails。它试图成为一个非常轻量级的、健壮的框架，”他说。

他现在正在开发的平台层将解决企业关注的问题。

“在这一层，身份、认证和加密非常重要，”他说。“在我与这家企业公司合作的过程中，我们将全面了解这些部分。身份验证将作为 [OAuth2](http://oauth.net/2/) 构建，并将有服务对服务的识别，我们将把 AWS 风格的 IM(信息管理)策略视为该系统的核心要求。”

他说他已经写了所有东西的第一个版本，现在正专注于测试。他预测还需要六到九个月的工作，直到他能在生产中自如使用它。

## **更进一步**

在过去的几天里，他还编写了 Micro Bot，它位于你的微服务平台内，允许你通过 Slack，HipChat，XMPP 等进行交互。

“我开始思考 [ChatOps](http://venturebeat.com/2014/12/16/everything-you-wanted-to-know-about-chatops-but-were-afraid-to-ask/) 以及能够从 [Slack](https://slack.com/) 和 HipChat 做事情的强大之处。我决定一起编写一些东西，发现我已经将命令行工具的功能复制到了一个机器人中，”他说。

“我认为这是一个非常强大的概念，随着我们的深入，可以发展成更多的东西。当我们思考整个人工智能的时候，通过机器人来管理微服务。如果你只是告诉机器人去运行一些东西，并照顾它？”

Aslam 的并不是唯一的[微服务框架](https://thenewstack.io/containers-microservices-work-together-enable-agility/):WSO2 和 AquaJS 以及之前被称为 Typesafe 的 [Lightbend](https://jaxenter.com/typesafe-becomes-lightbend-announces-new-microservices-framework-lagom-124673.html) 都发布了 Java 版本。

阿斯拉姆说，微服务并不是每个人的圣杯。

“这是有权衡的。这不是我建议创办公司的地方。首先要写的是一个完整的系统，我认为这很重要。这是自然发生的。当你只有一个人的时候，用单一的代码库来写是非常容易的。当你有 10 个时，可能会有点困难；当你有了 100，就变得几乎不可能了。所以我们会看到这一切的结局。”

专题图片:Jaro Larnos 的《我们俱乐部的围棋游戏》，获得 CC BY-SA 2.0 授权。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>