# 定义单核及其工作原理

> 原文：<https://thenewstack.io/defining-a-unikernel-and-how-it-works/>

你好。我是亚历克斯·威廉姆斯，新书库的创始人兼主编。我让 Russ 在 Linuxcon 上写这个关于单核的故事，我会在那里

[moderating a panel](http://sched.co/3YUJ)

它着眼于单核以及它们与容器的比较。这应该是一场辩论。我希望更多的是讨论、分析和解释这两种技术之间的差异。最近关于 Docker 和容器的角色有很多令人兴奋的事情，但是它们不是最终的解决方案。它们是一个连续体的一部分，这个连续体将扩展到单核，很快，甚至会超越单核。

第一代云侧重于编排:如何利用现有的工作负载并使其敏捷。这很有道理。在云出现之前，我们已经拥有了功能齐全的复杂应用程序堆栈；我们只需要让这些应用适应新的云世界。

然而，下一代云需要创建高效、快速和安全的工作负载。当前的工作负载使用完整的机器映像，从具有支持库和实用程序的通用操作系统到应用层。它们占用大量内存，仅在操作系统级别上就可以使用千兆字节的磁盘空间，并且启动可能需要几分钟。它们还遭受潜在的大面积攻击，因为带有实用程序的完整操作系统层可能是恶意黑客在您的 IT 花园中种植杂草的沃土。

## 什么是单核，它们是如何工作的？

单内核，有时被称为库操作系统，实现了传统操作系统的最少功能；只够启动它所支持的应用程序。

> 通过去除传统的操作系统层，单核去除了大量不需要的标准操作系统环境，以及与之相关的攻击服务。

所需的操作系统功能与应用程序代码一起编译成一个可执行文件，其中包含工作负载在虚拟机管理程序上运行所需的一切。结果是更小的有效载荷，可以快速、高密度地部署，并且大大改善了安全性。

实际上，单核概念并不新鲜。它本质上采用了嵌入式编程中的既定概念，并将它们应用于数据中心。但是，嵌入式领域的这些原则允许工作负载在小型设备上执行，单核概念为云创造了全新的用例。

## 它们会对云产生什么影响？

如今，大多数云流程编排系统在需要服务之前就启动了服务。这些服务被检查和测试健康状况，当不足时扩大，当过度时收缩，当有人决定不再需要它们时关闭。虽然单核可以以这种方式工作，但它们也支持称为瞬态微服务的概念:当需要出现时诞生的服务，当需要消失时就消失了。其中一些短暂的微服务的寿命可能以秒计，甚至几分之一秒。它们是真正的即时计算服务，只有在有工作要做时才存在，允许您最大限度地利用您的计算基础架构。

> 计算能力不再需要预先分配给当前不需要的任务，因此可以将最大的资源分配给当前的任务，而不会忽略您知道将来需要完成的任务。

这些服务的短暂性对大多数云编排系统来说都是一个挑战。这些系统中的大部分不能处理服务的概念，这些服务是由瞬间的需要而不是运营商的决定来驱动的。因此，瞬态微服务的概念将迫使云编排系统以新的方式发展。

## 然后是安全问题…

云室里的 800 斤大猩猩一直是保安。自从云概念诞生以来，人们就一直在问，“当数据在云中时，我们如何保护我们的数据？当我们将数据锁定在数据中心时，我们在保护数据方面就已经有很多问题了。”安全性是在云中取得成功的关键。任何关键的东西都需要认真对待。

> 单核正好提供了云所需要的严肃的解决方案。

基于单核的有效负载没有可利用的命令外壳。他们没有可以被颠覆的效用。而且他们没有完整的操作系统，这些操作系统都记录了可能受到危害的风险。单核并非不可渗透，但当涉及到安全性时，它们就像心脏病发作一样严重。正是这种对安全性的高度关注，使得 unikernels 成为了一种值得关注的未来云计算技术。

Docker 是新堆栈的赞助商。

Feature image: “[Painting by LIU Wei 刘韡 (劉韡): Truth Dimension No 7, 2013 (oil on canvas)](https://www.flickr.com/photos/seeminglee/8921779798/in/photolist-eAosiC-k685kk-r6TPQh-oJ44cc-dZUMVb-e5khv4-9viQk9-ap8rq2-k5bRCK-k5bczc-diTZyq-prZVze-bpcba4-9zZHe6-nHcwNb-9A2R4E-9A19A6-9A2PEd-9A3GuC-k5bU2n-9A2Sns-9A3Ntm-9A1ucF-4tvkHp-4tvkex-7b7Bxf-79gMmJ-mQ7ogs-9zZRXn-mQ5x9H-mR1GoK-9xD1bk-5yfCMa-6wGoFF-7jEfAG-dvuEjp-mQ7tKU-94nzQJ-mQ5AcM-mQ5HP8-mR3EwA-a3pEuh-pJrmi4-mQ7kuf-mQ5NCg-mQ5Ke4-bexhez-7ywUoQ-pvDNsR-o4ZHoX)” by [See-ming Lee](https://www.flickr.com/photos/seeminglee/) is licensed under [CC BY 2.0](https://creativecommons.org/licenses/by/2.0/).

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>