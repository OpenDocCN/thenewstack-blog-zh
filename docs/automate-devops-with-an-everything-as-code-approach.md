# 使用一切如代码的方法自动化开发运维

> 原文：<https://thenewstack.io/automate-devops-with-an-everything-as-code-approach/>

公司很少走直路——许多成功的公司今天看起来与他们开始时大不相同。软件公司更是如此。创新的快节奏意味着变化是不断的，开发过程永远不会结束。

为了使变更更易于管理，许多公司都采用了 DevOps 方法。DevOps 将软件开发和 IT 运营结合在一起，以提高效率和改变的规模。虽然这不是一个微不足道的概念，但它确实需要时间和知识来实现。切换到更加自动化的——或者一切如代码(EaC)的方法——可以使过渡更加平稳。让我们深入了解一下。

## 从手动重复任务到自动化工作流的转变

传统上，IT 运营部门管理着组织中的大量服务，手动部署、调整和更改是很常见的。人类天生是独一无二的，这意味着他们的处理方式因人而异。即使有最严格的书面记录，变化也是一个变量，当决策是基于机构知识而不是文件制定时，变化会变得更加复杂。

当有人离开一家公司、去度假或一个新的团队成员被指派负责变革时，这个变量会加剧。在最好的情况下，手动部署在下一次部署时会有轻微的不一致。在最坏的情况下，将会出现重大的质量问题，并需要额外的关注来缓解或补救问题。

这就是一切如代码策略有用的地方。顾名思义，EaC 是一个步骤剧本，它清楚地定义了每个手动步骤、组件和接触点，以确保通过自动化成功地进行变更。

当流程和部署步骤自动化时，每次通过单击或流程启动，代码都以相同的方式部署。这种一致性水平对于满足性能目标和质量保证目标至关重要，从而带来更加一致和可靠的客户体验。这种洞察力对于理解一个变更如何影响流程的其他部分以及帮助组织放慢速度来设计和构建更好的服务是至关重要的。

## 自动化和网络安全密不可分

要实现成功的应用程序网络安全态势，首先要了解您的服务基线，以便推动异常或敌对检测。将标准行为视为在“最小值和最大值”或下限和上限之间运行。系统应该总是在这两个定义的指标之间运行。当对手试图攻击或实施特定环境时，他们的活动可以被解释为试图破坏服务的正常运行，即“最小和最大”正是这些异常凸显出来，需要调查。

如果你能自动化关键过程，正常的界限会变得更清晰；它们变得定义明确，因为每次都以相同的方式部署、监控和操作。当您洞察到什么是规范时，您就可以更快地识别针对环境的攻击。对网络安全团队来说，好处是巨大的，可以显著提高他们检测恶意活动的能力。

## 现在的问题是:怎么做？

从第一天开始就采取自动化的方法总是更可取的，但这并不总是可能的。好消息是，做出转变永远不会太晚，但重要的是要认识到，如何进行转变不是一刀切的方法。每个环境都是不同的，因此根据技能水平和业务目标，您从哪里开始会有所不同。然而，有许多工具和服务可以帮助使这个过程更顺利。

在开始使用 EaC 时，公司应该首先考虑的一个地方是持续集成和持续部署(CI/CD)。CI 关注于在一个单独的地方或共享代码库中持续集成软件代码。CI 允许在一个单独的地方查看和评审所有待定的软件变更。从这里开始，分支策略可以确保预定义的审查、质量和安全性的关口得到实施。CD 侧重于更频繁地推出次要更新(相比于为主要版本保留更新),并通过限制变更的大小和范围来直接改进回归。CD 可以每周、每天甚至每天多次部署变更。许多 CI/CD 解决方案与各种(如果不是多个)代码库无缝集成，允许任何组织开始其 DevOps 之旅。

## 是时候开始了

无论您的公司处于技术旅程的哪个阶段——刚刚起步还是成为家喻户晓的名字，采用 EaC 都是非常值得的。变化是不可避免的，准备是关键。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>