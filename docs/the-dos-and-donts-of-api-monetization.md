# API 货币化的注意事项

> 原文：<https://thenewstack.io/the-dos-and-donts-of-api-monetization/>

所以你有[一个 API](https://thenewstack.io/how-to-build-an-api-centric-digital-architecture/) ，你想用它来创收。为此，您需要解决两组挑战。

第一个涉及业务问题，比如 API 访问收费多少，或者是否使用多层定价模型。这些都是产品经理需要解决的挑战。

第二个更复杂的步骤是走向 [API 货币化](https://thenewstack.io/state-of-the-api-monetizing-apis-deployment-is-on-the-rise/)的核心是技术挑战。你如何衡量 API 的使用情况并向客户收费？如何调节 API 流量，使不同计划的客户获得不同级别的服务？您如何确保您的 API 能够满足 SLA 保证？这些是开发人员必须解决的技术难题，以确保 API 能够真正为企业带来利润。

如果您是一名肩负这一使命的开发人员，请继续阅读关于如何以最高效和最有效的方式解决 API 货币化需求的技巧。本文从技术角度解释了将 API 货币化的最佳实践，以及应该避免的反模式。

## API 货币化要求

在深入研究最佳实践和反模式之前，让我们回顾一下实现 API 货币化的核心技术需求:

*   **高级计量:**由于不同的客户在不同的定价方案下可能具有不同的 API 访问级别，因此能够根据每分钟允许的请求总数、一天中可以发出请求的时间以及请求发起的地理位置等因素，以高度精细的方式管理对 API 请求的访问至关重要。
*   **使用追踪:**开发人员必须确保 API 请求可以在逐个客户的基础上进行测量。除了像请求总数这样的基本指标之外，更复杂的指标，比如请求响应时间，也可能是实施支付条款所必需的。
*   **开票:**理想情况下，开票系统将与 API 紧密集成，以便客户可以自动开票。另一种方法是根据 API 使用情况或请求日志手动准备发票，这不是一种可扩展或高效的方法。
*   **财务分析:**实时跟踪和评估 API 产生的收入对于许多销售 API 的企业来说至关重要。它允许他们识别财务机会或缺点，并相应地调整他们的 API 定价计划。

一些企业可能需要满足额外的技术需求来货币化他们的 API，但是上面描述的考虑代表了 API 货币化的最常见的需求。

## 如何——以及如何不——将 API 货币化

有多种方法可以满足这些要求，但有些方法比其他方法更好。在 API 货币化的背景下，开发者应该做什么，不应该做什么。

### *不要*将货币化逻辑嵌入 API

当被要求将 API 货币化时，开发人员可能犯的最大错误是试图将高级计量或使用跟踪等功能的逻辑直接写入支持 API 的代码中。

这样做不仅需要巨大的努力，而且很难即时改变政策。例如，如果您的 API 许可计划发生变化，并且您希望相应地更改使用策略，那么您不希望必须部署新版本的 API 来实现这一点。

最重要的是，您尝试嵌入到 API 中的逻辑越多，您犯下可能导致安全漏洞的错误的风险就越高。

### *是否依靠 API 管理工具来实施货币化*

 *更健康的方法是依靠你的 API 管理工具层——比如网关——来执行货币化需求。

在管理层中，您可以轻松地建立精确的策略来计量 API 请求。您还可以高效地收集 API 使用情况和财务分析数据，并将这些数据推送到发票和财务工具。并且避免了将货币化逻辑直接嵌入 API 的安全风险。

### 不要在定价灵活性上妥协

部分由于在 API 中实现高粒度货币化策略的技术挑战，一些企业满足于相对基本的 API 定价模型或许可条款。例如，他们可能向所有用户授予相同级别的访问权限，或者对与使用指标无关的 API 访问收取固定费用。

这种方法从技术角度简化了事情。但从商业角度来看，这可能意味着错过优化 API 货币化计划的机会。技术挑战不应该成为不太复杂的 API 盈利策略的借口。

### *集中 API 货币化管理*

有时，一个企业不只许可一个 API，而是许可许多 API。在这种情况下，能够以一种集中的方式在所有 API 中强制实施货币化策略使得确保 API 交付其预期收入变得更加容易和高效。

当货币化控制在 API 管理层实现时，货币化管理的集中方法就成为可能。这是开发人员应该避免将货币化逻辑植入 API 本身的另一个原因。即使你的企业现在只有一个 API 可以货币化，它也可能在未来推出其他 API，并且在逐个 API 的基础上管理货币化是不可扩展的。

## 结论:API 货币化的健康前景

底线:从技术角度来看，API 货币化是相当复杂的，尽管有多种方法来应对挑战，但有些方法比其他方法更有效、更具可扩展性。

作为最佳实践，开发人员应该努力将货币化管理从 API 本身中分离出来。相反，他们应该依靠他们的 API 管理工具来执行货币化需求。这样做可以确保将 API 货币化所需的策略和数据能够以一致的方式在所有 API 中轻松实现，而开发人员只需付出最少的努力。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>*