# 为什么微服务在 Web 服务陷入困境的应用集成中取得成功

> 原文：<https://thenewstack.io/microservices-succeed-application-integration-web-services-stumbled/>

集成并不吸引人，但是在这个企业市场上正在发生一场静悄悄的革命。向微服务和可重用 REST API 的转变正在推动企业基础设施架构层面的变革。如果部署得当，基于 REST API 的架构可以提供一个随需应变的可集成服务和数据的世界。当它与推动 [DevOps](/category/devops/) 实践和程序、拆除小组筒仓以及 GraphQL 等新技术的出现结合在一起时，大公司现在有许多潜在的成功和投资回报，仅从内部软件架构就可以获得。

然而，遗留系统不会消失，它们包含重要的应用程序和数据，必须与这些新的 RESTful APIs 接口。对于企业来说，这意味着将这些系统集成在一起；“整合”是一个几乎无伤大雅的时髦词，已经演变成与它在 90 年代的含义大不相同的东西。

上个十年提倡数据集成的 [CORBA](http://www.corba.org/) 和 [SOAP](https://www.w3schools.com/xml/xml_soap.asp) 与今天使用 REST 之间最大的表面差异是今天服务的规模。过去，单一服务是等式的一部分，但今天它们是敌人。[微服务](/category/microservices/)就是像切苹果一样削减应用程序。这个微服务的新世界不是集成现有的服务和数据源，而是将企业服务架构的基本元素组合成新的应用程序。

这是一个需要在需求层次上进行协调的游戏，并且遗留系统的逐渐减少有利于许多小的替换系统。

## 释放 Dev

这种连接不同代 IT 的工作为围绕数据和应用程序集成构建的公司创造了新的业务领域。[例如，SnapLogic](https://www.snaplogic.com/) 提供了一种定制的方式来为房间中的业务人员构建集成，例如，在将新数据源连接到分析平台时，无需开发人员。

[snap logic 的首席技术官詹姆斯·马卡里安](https://www.linkedin.com/in/jamesmarkarian)非常了解传统集成市场。他在 Informatica 工作了 15 年，担任该集成公司的首席技术官，他将这一长期记录应用于 SnapLogic。他看到了一个集成平台的巨大机会，可以将开发者从等式中排除。

“我喜欢宇宙的比喻，”马卡里安说。“整合的前景是巨大的，就像宇宙一样，它没有实际的中心。在集成空间中不可能找到什么东西可以做所有的事情。有一些小的太阳系组成了更广阔的宇宙，也许这些小系统中的每一个都有自己的要求。”

[![](img/035f781299a0ef3abc9421b5534f4d43.png)](https://summit.pagerduty.com/global)

“如果我们扩展宇宙的概念，数据有点像宇宙，因为熵会随着时间的推移而增加。在数据或集成领域，这意味着它是不断变化的需求和您正在处理的数据类型的异构性的组合。[马卡里安说:“你看到的任何东西——集成的风格、速度、频率——似乎都在随着时间而变化。](https://summit.pagerduty.com/global)

他说，他在 90 年代处理这类问题的经历坚定地告诉他，随着时间的推移，界面不会保持不变。他在使用 CORBA 和微软的[分布式对象组件模型](https://technet.microsoft.com/en-us/library/cc958799.aspx) (DCOM)时学到了这一点。他区分了你设计的界面和随着时间的推移你重新设计后最终得到的界面。

“一般来说，我的观察是那些系统在自身重量的作用下发生内爆，”马卡里安回忆道。“我们发现了时间问题:即使你能在 T=0 时设计出一组接口，在 T=1 及以后，你将不得不重新设计一组接口。”

SnapLogic 首席技术官认为，服务、中间件或数据库的粒度越细，随着时间的推移，它们就越不太可能需要重大的返工或版本控制。

“当你想到一个接口或一组接口今天可能必须做的所有事情时，它实际上可能是它必须做的一个很长的列表，我在这里提出的一个定理是，每个组织通常只有不到一个有效的接口作者。大多数人并不真正知道如何把这些事情都考虑进去。马卡里安说:“这样做的结果将是，许多人创建和使用 API，在下一次迭代中必然需要经历大量的工作，而且他们没有考虑过 API 的发展。

马卡里安说，业务人员应该是整合的第一线。他们对给定的集成有业务需求，无论是数据集成还是应用程序集成。马卡里安说，SnapLogic 的目标是为商业用户提供自助式集成。

“某个东西的非技术用户的受众必然更大。这并没有使它有利可图，但这是看待事物的另一种方式。我认为，如果你看到这一讽刺的是，当重型它漫游地球在 80 年代和 90 年代，你有更多的技术人员在中央总部。他们往往更注重技术，而不是商业。这是一个更好的技术解决方案的时机，”马卡里安说。

## 产品而非管道

[MuleSoft](https://www.mulesoft.com/) 的首席技术官 Uri Sarid 认为接口问题可以通过更好的工具和规范来解决。他是 [RAML](https://raml.org/) 的幕后支持者，最近又支持了 [OpenAPI](https://github.com/OAI/OpenAPI-Specification) 规范。问题不一定是与这些 API 接口，而是随着时间的推移，随着它们的变化和发展，与它们接口。Sarid 说，因此，拥有能够以编程方式重新生成这些界面的工具是很有用的。

“我认为这是非常明显的黑白界限:我认为传统的集成方法是在应用程序之间建立管道。这就是人们脑海中的视觉形象，所以当我们说‘我们在整合’时，人们会认为我们在建造管道，”Sarid 说。“您确实需要跨应用程序进行协调，但是通过构建管道，不仅很难让这些东西协同工作，而且还会将它们粘在一起，因此您最终会比以前移动得更慢。”

“你需要做的是遵循同样的原则，就像 DevOps 运动那样。您将应用程序分割成服务，并将它们相互链接。它是增量的。您最终将应用程序中的功能抽象为 API，然后将它们集成并组合到更高级别的 API 中。这种更加产品化的方法不再像传统的集成。它感觉像一组服务和可重用的组件，这正是业务人员和开发人员想要的。Sarid 说:“商务人士喜欢拥有一系列功能的想法，能够组成新的东西，而不必考虑这是否会破坏任何东西。

Sarid 认为，现代敏捷商业能够将开发人员和业务人员聚集在一起，以实现他们的目标。Sarid 说，这是一个新的发展，是 DevOps 背后的驱动力。Sarid 没有要求业务人员获取自己的数据，而是设想了一个世界，在这个世界中，现有的应用程序被重新改造为微服务，并允许业务用户从碎片中组成整个应用程序。通过使用 RESTful APIs 实现的这种抽象级别，使得开发人员和业务人员更容易完全基于业务语言而不是计算机语言来构建界面。

“我认为这将开发人员与业务人员联系在一起。这是不同的事情，因为它的寿命更长。这不再是“你有更好的管道吗”，而是“你正在将你的企业架构得更加敏捷吗？”萨里德说。“我们发现 API 的概念几乎令人耳目一新，无论业务方面如何简化，它都是业务方面目前非常理解的东西。我们听到非常以业务为导向的 IT 领导谈论 API 作为一组功能。现在他们用 API 的语言来表达。围绕 API 有一个自然的对齐点。"

然而，企业集成的未来可能只有这两种方法的空间。Sarid 认为我们仍然处于处理 RESTful Web 服务的早期阶段，他说他希望一种新兴的丰富的 API 查询语言 GraphQL 能够吸引企业的兴趣。

“GraphQL 已经学会了两件事，”Sarid 说。“在当前的 REST 方法中，似乎没有好的解决方案。最终，应该满足客户端应用程序的需求。任何编写客户端(如 mobile)的人都可以控制从服务器获取的数据的形式和数量。今天的 RESTful APIs 并没有给你很多这样的控制。第二，如果你不想自己收集这些数据，你最终会打很多电话，而在手机上，聊天的代价很高。GraphQL 解决了这些问题。它允许客户端查询数据，并使其成为一个非常引人注目的打包程序，就像 Docker 打包的容器一样。”

马卡里安曾在风险投资界工作过一段时间，在加入 SnapLogic 之前，他曾考虑投资一家 GraphQL 公司。“我喜欢他们试图提供 SQL 与 API 的可组合性的想法，但是有几个问题。API 本质上并不是以这样一种方式实现的，即它们可以通过推出某些元素来响应查询谓词。在后处理数据方面，它作为一个新的瞬态接口出现。”

“我认为它有潜力，但仍然有一个关于观众的问题。谁会使用像 GraphQL 这样的接口组合？它更接近 SQL 人群吗？这才开始进入商业领域，但这仍然是一个相当低的水平。马卡里安说，这项技术并不完全是 SQL，一般来说，不完全是 SQL 的东西“并不十分成功。

Sarid 承认，在基础设施方面，GraphQL 领域仍然存在问题。“在这样做的时候，他们说；忘掉所有 RESTful 的、普通的 HTTP 之类的东西，它们都是这样做的，”因此，有很多挑战。你不知道如何保存这些东西。你必须实现新的 API。”

MuleSoft 一直致力于让 GraphQL 更接近 RESTful 的做事方式，这是每个人都熟悉的。Sarid 说:“我们有一种方法，我们正在利用现有的标准，如超媒体和 RESTful APIs，仍然允许你以一种非聊天的方式创建跨这些 API 的查询，而不必让这些 API 的生产者实现 GraphQL 端点。”

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>