# 揭开度量存储和语义层的神秘面纱

> 原文：<https://thenewstack.io/demystifying-the-metrics-store-and-semantic-layer/>

[](https://kyligence.io/)

 [何乔安娜

何乔安娜是 Kyligence 公司产品发展高级总监。她是一名经验丰富的 BI 架构师，对数据环境趋势充满热情。在担任目前职位之前，她担任产品经理，帮助 Kyligence 将开源项目 Apache Kylin 转变为云原生企业产品。](https://kyligence.io/) [](https://kyligence.io/)

过去 20 年来，数据架构的市场格局发生了巨大变化。在过去十年中，许多企业已经从传统的内部 BI/DW(商业智能和数据仓库)架构转向基于大数据的分布式架构，如 Hadoop。随着云计算变得越来越流行，数据环境再次发生转变，开始采用云原生架构。

当今市场上的主流数据架构与前几代产品有很大不同。现代数据栈围绕云数据仓库([雪花](https://www.snowflake.com/?utm_content=inline-mention)、[亚马逊网络服务](https://aws.amazon.com/?utm_content=inline-mention)、亚马逊红移、谷歌 BigQuery 等)展开。)、云数据湖(数据块)和数据湖库。

驱动所有这些变化的是什么？简而言之，云数据仓库和云数据湖能够经济高效地存储海量数据，并且缺乏运行它们所需的专业知识，同时能够提供基于消费(按需付费)的定价，这些都符合大多数公司的要求。

## 为什么需要语义层或度量存储？

然而，这种新的数据架构模式并非没有限制。数据平台和企业希望使用其数据的方式之间的潜在差距可能会阻碍分析师和决策者充分利用数据进行创新。

为什么会这样？

首先，许多关键数据资产最终被隔离在本地服务器、数据中心和云服务上。将它们统一起来是一个巨大的挑战。通常，也没有标准化的数据和业务定义，这增加了企业挖掘其数据的全部价值的难度。随着公司着手新的数据管理项目，他们需要解决这些问题；然而，许多人出于这样或那样的原因选择回避这个问题。这导致整个企业出现新的数据孤岛。

其次，每个数据仓库从业者都知道，大多数业务用户很难解释仓库中的数据。因为像表名、列名和数据类型这样的技术元数据对业务用户来说通常毫无价值，所以当涉及到允许用户自己进行分析时，数据仓库是不够的。

从商业用户的角度来看，如何解决这个问题？

两种流行的解决方案是度量存储和语义层，但是哪一种是最好的方法呢？它们之间有什么区别？

本文旨在揭开指标存储和语义层的神秘面纱，帮助您理解这些应对上述挑战的强大方法之间的异同。

## 什么是度量存储？

最简单地说，指标存储是位于上游数据仓库/数据源和下游业务应用程序之间的一层。指标平台、无头 BI、指标层和指标存储都是指同一个概念的术语。

与典型的 BI 报告不同，指标存储了来自 BI 报告和可视化的独立指标定义。负责管理指标的团队能够在指标存储中定义它们，创建单一的事实来源。然后，他们可以在 BI、自动化工具、业务工作流和高级分析操作中一致地重复使用这些定义。

## 什么是语义层？

语义层是业务的数据表示，允许最终用户使用传统的业务词汇独立访问数据。语义层通过将复杂的数据转换成常见的业务术语(如产品、客户和收入)来实现这一点，从而在整个企业中形成统一、整合的数据视图。

语义层通常包含测量形式的数据，如销售额、距离、持续时间和重量，这些数据可以进行合计、平均或两者兼而有之。它们还可以包括销售代表、城市和产品等维度，这些维度是可用于对数据进行细分、筛选或分组的分类桶。此外，可以在此基础上构建度量标准和 KPI，它们是用于跟踪和评估绩效的定量度量。

## 语义层和度量存储之间的相似性

**用户角色** **:** 无论是语义层还是度量商店，都可以容纳很多分析角色，比如消费者、探索者、创新者和专家。

**值:** 语义层和度量存储都支持以下业务优先级。

**结果导向:**两者都与组织的总体目标相一致。

**最终用户民主:** 这两种方法都有利于整个企业的最终用户。数据可供更多用户访问，适应性更强，能够进行更复杂的分析，而且更经济。

**可重用性和可用性****:**两者都可以作为易于访问的单一事实来源，集成到应用程序和工作流中，并且可以跨不同系统和用户重用。

**安全性:**对于这两种方法，治理以及高级识别、访问和安全管理都是核心组件。

**成本和 SLA 优化:**语义层和度量存储都提供高性能、可靠的平台，以最低的成本提供高质量的数据。

## 语义层和度量存储之间的差异

**范围:**语义层提供一组业务友好的逻辑数据模型、度量和指标，而指标存储仅提供一组业务友好的指标。对于度量存储，数据模型通常由底层数据源控制，比如数据仓库或数据集市。

**易用性** **:** 在某些情况下，语义层对于最终用户来说可能过于复杂，难以利用、定制和更新。它还需要参与语义层的维护和更新。因此，业务用户只能真正成为语义层的消费者。

另一方面，指标商店提供易于使用的指标代码，甚至是一个简单的界面，供业务用户生成和更改指标，使业务实现更高水平的自助服务，提高接受度和利用率。

**虚拟与物理** **:** 大多数指标存储充当包含面向业务的指标逻辑的虚拟抽象层。数据很少以物理方式存储在指标存储本身中。通常，度量存储将度量逻辑转换为底层数据源查询，相应的数据源负责数据存储。

或者，语义层可以是位于数据源和下游应用程序之间的虚拟层或物理层。此外，语义层可以提供一组性能优化技术，如下推、中间服务器、缓存和预计算，以使语义层在一系列源和分析用例中更具性能。

**查询语言:**一些语义层支持 MDX 查询，而基于现代数据栈的度量存储通常是基于 SQL 的。

**位置选项:**各代分析和商业智能(A & BI)工具、数据集市、数据仓库、查询加速器、知识图/数据结构和独立的虚拟化平台都是语义层的可能位置。此外，供应商提供的许多语义层解决方案可以部署在内部和云中。

谈到指标存储，由于概念本身来自现代数据堆栈，它们通常位于云数据仓库和云数据湖之上。

## 摘要

观察未来几年数据领域的发展将会非常有趣。对度量存储或语义层的需求似乎越来越多，将所有东西放入数据湖而不是一堆仓库似乎更有可能。

对于任何计划采用度量存储或语义层的组织，这里有一些来自那些已经采取行动的组织的建议:

正确的入职是成功的关键。

即使团队一致认为需要一个通用层，挑战也在于如何让整个企业的人都能简单地接受并将其融入到工作中。对于那些能够克服这一挑战的人来说，他们的业务将在实现度量存储或语义层方面具有显著的优势。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>