# 无服务器如何加速开发

> 原文：<https://thenewstack.io/how-serverless-accelerates-devsecops/>

[](https://www.linkedin.com/in/timzonca/)

 [蒂姆·宗卡

蒂姆·宗卡在过去的 20 年里一直致力于帮助企业采用现代软件进行创新并保持竞争力，重点是开发运维工具和敏捷最佳实践。作为无服务器交付和自动化公司 Stackery 的首席执行官，他现在专注于通过无服务器提高软件团队的工作效率和影响力，以便企业快速、安全、大规模地交付和更新云原生应用。](https://www.linkedin.com/in/timzonca/) [](https://www.linkedin.com/in/timzonca/)

无服务器提高了灵活性和速度，但这并不是架构良好的无服务器方法所能实现的全部。无服务器也是提高安全性的催化剂。

对于 DevOps 流程，基础设施即代码的概念是推荐的最佳实践。在无服务器方法中，将基础设施视为代码不仅是推荐的，而且是必需的。这是没有办法的。嵌入式基础设施即代码方法的巨大优势在于，从软件开发生命周期的一开始，安全性就可以集成到开发过程中。

有了无服务器，DevSecOps 成为现实，工程师可以用严格限定范围的角色进行设计，并作为过程的一部分使用细粒度的权限进行开发，而不会降低速度。

当考虑无服务器世界中的安全性时，它不仅仅是关于特定的威胁或漏洞，还关于在过程的早期减少攻击面和最小化风险。

## 向左移动到 DevSecOps

降低风险的一个关键是将安全性转移到开发过程的早期，这个概念在业内被称为左移。随着这种转变，它不再是在过程的末尾增加安全性，而是成为软件开发生命周期中不可或缺的一部分，实现了 DevSecOps 方法。

左移的现实是，它不仅仅是简单地说你将更早地将安全性集成到开发过程中。现实情况是，开发人员现在很忙。毕竟，加速开发的需要是他们首先选择无服务器的部分原因。

> 在无服务器方法中，将基础设施视为代码不仅是推荐的，而且是必需的。

我们经常看到开发人员简单地使用开放通配符(例如， *s3:** 和 *arn:aws:s3:::** )来获得比所需更多的访问权限和许可。对于组织来说，最重要的是拥有定义良好的无服务器环境，并且这些环境是锁定的，管理员可以控制和查看如何授予访问权限以及实施了哪些策略。

我们需要一种集成的方法，从一开始就将安全流程、最佳实践和风险缓解融入到无服务器应用程序开发生命周期中。

## 软件交付生命周期中安全的关键阶段

要帮助实现跨越架构、开发和部署阶段的安全无服务器交付，需要考虑几个关键因素和完成几件事情。

**设计。**在无服务器部署中，帮助确保安全性的第一步也应该是制定架构时应用程序开发流程的第一步。这是围绕设计和搭建应用程序的生命周期阶段，以确定事物应该如何互操作。

在云中设计架构的最佳起点之一是 [AWS 架构良好的框架](https://d1.awsstatic.com/whitepapers/architecture/AWS-Serverless-Applications-Lens.pdf)，它为最佳实践提供了构建模块。例如，如果您的架构包含一个从 S3 存储桶中检索数据的 Lambda 函数，您如何确保该函数只对它要读取的那个存储桶拥有读取级别的权限？此外，您有什么工具和流程来确保正确的权限范围始终适用于所有资源？

**发展。**在开发时，能够快速验证安全控制很重要。第一步是确保在架构阶段创建的权限允许应用程序资源正常运行。正确的工具将支持业务逻辑的快速迭代，同时根据计算资源的实际权限范围进行测试。

将安全性集成为 CI/CD 管道的一部分也很重要。这包括在测试期间审计已知漏洞的依赖性，以确保每个构建在默认情况下自动受益于安全性。

**部署。**拥有一个定义良好的构建和部署环境可以显著减少无服务器应用部署的攻击面。为了支持快速迭代，打包阶段及其需求应该与部署阶段分开。用无服务器术语来说，这意味着将云信息变更集和功能源代码的准备与变更集的执行分开。此外，考虑打包源代码的上下文也很重要。考虑采用为打包提供交钥匙脚手架的机制，同时继续提供对构建环境的完全控制。

一个相关的问题是确保部署环境之间的隔离。最佳实践是在一个 AWS 组织内的 AWS 帐户之间分离开发、测试、试运行和生产环境。但是，现有流程可能需要一个 AWS 帐户用于多个环境。通过命名空间参数和机密管理，仍然可以在单个帐户中实现隔离。

部署还与仪表板和审计功能的可见性有关，这些功能进一步加强和支持在架构阶段形成的安全实践。可见性和审计还有助于实现对不同监管要求和政策框架的遵从。

## 后续步骤

无服务器世界中的安全性是从架构到开发和部署的一系列活动。虽然一些基本方法是组织已经做了多年的事情，但是有必要为无服务器工作流集成和定制那些活动。

除了阻止和处理可以减少攻击面和最小化风险的最佳实践和控制之外，还需要与组织中的其他职能部门集成，特别是安全运营中心(SOC)及其使用的工具，包括 SIEM。

无服务器及其离散功能和微服务为非常细粒度的安全方法提供了真正的机会。

与保护一个整体(策略和访问控制是一种生硬的工具)不同，无服务器方法可以实现非常精确的控制，非常有效。通过将安全性左移，安全性不再是附加的，而是流程中不可或缺的一部分。通过采用无服务器的 DevSecOps 方法，安全性可以高度自动化，实现保护开发人员和应用程序的防护栏，同时不会降低应用程序开发速度。

通过 Pixabay 的特征图像。

<svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 68 31" version="1.1"><title>Group</title> <desc>Created with Sketch.</desc></svg>